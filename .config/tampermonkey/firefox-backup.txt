{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Google Meet Hangouts - PTT with Space","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://meet.google.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1584639492020,"data":{}},"enabled":true,"position":1,"uuid":"f8b2cb45-bbb5-4067-9271-349366516dac","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHb29nbGUgTWVldCBIYW5nb3V0cyAtIFBUVCB3aXRoIFNwYWNlCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL21pbmRibGVhY2guY29tLwovLyBAdmVyc2lvbiAgICAgIDAuMQovLyBAZGVzY3JpcHRpb24gIEhvbGQgZG93biBTcGFjZSBrZXkgdG8gdGFsaywgbGV0IGdvIHRvIG11dGUuIERvZXMgbm90IGludGVyZmVyZSB3aXRoIG90aGVyIG9wZXJhdGlvbiwgd29ya3MgbXVsdGluYXRpb25hbGx5LgovLyBAYXV0aG9yICAgICAgIFBhdHJpY2sgQmFybmVzCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9tZWV0Lmdvb2dsZS5jb20vKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooKCkgPT4gewoJdmFyIGVsID0gdW5kZWZpbmVkOwoJY29uc3QgbWljID0gZW4gPT4gKHtrZXkscmVwZWF0LHRhcmdldH0pID0+IHsKCQllbCAmJiBlbC5pc0Nvbm5lY3RlZCB8fCAoZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pcy1tdXRlZF1bcm9sZT0iYnV0dG9uIl0nKSk7CgkJZWwgJiYga2V5PT09JyAnICYmICFyZXBlYXQgJiYgISgndmFsdWUnIGluIHRhcmdldCkgJiYgZWwuZGF0YXNldC5pc011dGVkID09PSBTdHJpbmcoZW4pICYmIGVsLmNsaWNrKCkKCX0KCWRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG1pYyh0cnVlKSkKCWRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBtaWMoZmFsc2UpKQp9KSgpOwo="},{"name":"Wanikani Open Framework","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["/^https://(www|preview).wanikani.com//"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1588770702246,"data":{}},"enabled":true,"position":2,"file_url":"https://greasyfork.org/scripts/38582-wanikani-open-framework/code/Wanikani%20Open%20Framework.user.js","uuid":"c9477683-3470-4229-9116-979a698aac01","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIFdhbmlrYW5pIE9wZW4gRnJhbWV3b3JrCi8vIEBuYW1lc3BhY2UgICByZmluZGxleQovLyBAZGVzY3JpcHRpb24gRnJhbWV3b3JrIGZvciB3cml0aW5nIHNjcmlwdHMgZm9yIFdhbmlrYW5pCi8vIEB2ZXJzaW9uICAgICAxLjAuNTAKLy8gQGluY2x1ZGUgICAgIC9eaHR0cHM6Ly8od3d3fHByZXZpZXcpLndhbmlrYW5pLmNvbS8vCi8vIEBjb3B5cmlnaHQgICAyMDE4KywgUm9iaW4gRmluZGxleQovLyBAbGljZW5zZSAgICAgTUlUOyBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUCi8vIEBydW4tYXQgICAgICBkb2N1bWVudC1zdGFydAovLyBAZ3JhbnQgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbihnbG9iYWwpIHsKCSd1c2Ugc3RyaWN0JzsKCgkvKiBlc2xpbnQgbm8tbXVsdGktc3BhY2VzOiBvZmYgKi8KCS8qIGdsb2JhbHMgd2tvZiAqLwoKCXZhciB2ZXJzaW9uID0gJzEuMC41MCc7Cgl2YXIgaWdub3JlX21pc3NpbmdfaW5kZXhlZGRiID0gZmFsc2U7CgoJLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBTdXBwb3J0ZWQgTW9kdWxlcwoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCXZhciBzdXBwb3J0ZWRfbW9kdWxlcyA9IHsKCQlBcGl2MjogICAgeyB1cmw6ICdodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMzg1ODEtd2FuaWthbmktb3Blbi1mcmFtZXdvcmstYXBpdjItbW9kdWxlL2NvZGUvV2FuaWthbmklMjBPcGVuJTIwRnJhbWV3b3JrJTIwLSUyMEFwaXYyJTIwbW9kdWxlLmpzP3ZlcnNpb249NzQ3ODY2J30sCgkJSXRlbURhdGE6IHsgdXJsOiAnaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzM4NTgwLXdhbmlrYW5pLW9wZW4tZnJhbWV3b3JrLWl0ZW1kYXRhLW1vZHVsZS9jb2RlL1dhbmlrYW5pJTIwT3BlbiUyMEZyYW1ld29yayUyMC0lMjBJdGVtRGF0YSUyMG1vZHVsZS5qcz92ZXJzaW9uPTc2Nzg2OCd9LAoJCU1lbnU6ICAgICB7IHVybDogJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8zODU3OC13YW5pa2FuaS1vcGVuLWZyYW1ld29yay1tZW51LW1vZHVsZS9jb2RlL1dhbmlrYW5pJTIwT3BlbiUyMEZyYW1ld29yayUyMC0lMjBNZW51JTIwbW9kdWxlLmpzP3ZlcnNpb249NzQ1Mzg4J30sCgkJUHJvZ3Jlc3M6IHsgdXJsOiAnaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzM4NTc3LXdhbmlrYW5pLW9wZW4tZnJhbWV3b3JrLXByb2dyZXNzLW1vZHVsZS9jb2RlL1dhbmlrYW5pJTIwT3BlbiUyMEZyYW1ld29yayUyMC0lMjBQcm9ncmVzcyUyMG1vZHVsZS5qcz92ZXJzaW9uPTYwMTQ3Myd9LAoJCVNldHRpbmdzOiB7IHVybDogJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8zODU3Ni13YW5pa2FuaS1vcGVuLWZyYW1ld29yay1zZXR0aW5ncy1tb2R1bGUvY29kZS9XYW5pa2FuaSUyME9wZW4lMjBGcmFtZXdvcmslMjAtJTIwU2V0dGluZ3MlMjBtb2R1bGUuanM/dmVyc2lvbj02MDc4NzEnfSwKCX07CgoJLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBQdWJsaXNoZWQgaW50ZXJmYWNlCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJdmFyIHB1Ymxpc2hlZF9pbnRlcmZhY2UgPSB7CgkJaW5jbHVkZTogaW5jbHVkZSwgICAgICAgICAgICAgIC8vIGluY2x1ZGUobW9kdWxlX2xpc3QpICAgICAgICA9PiBQcm9taXNlCgkJcmVhZHk6ICAgcmVhZHksICAgICAgICAgICAgICAgIC8vIHJlYWR5KG1vZHVsZV9saXN0KSAgICAgICAgICA9PiBQcm9taXNlCgoJCWxvYWRfZmlsZTogICBsb2FkX2ZpbGUsICAgICAgICAvLyBsb2FkX2ZpbGUodXJsLCB1c2VfY2FjaGUpICAgPT4gUHJvbWlzZQoJCWxvYWRfY3NzOiAgICBsb2FkX2NzcywgICAgICAgICAvLyBsb2FkX2Nzcyh1cmwsIHVzZV9jYWNoZSkgICAgPT4gUHJvbWlzZQoJCWxvYWRfc2NyaXB0OiBsb2FkX3NjcmlwdCwgICAgICAvLyBsb2FkX3NjcmlwdCh1cmwsIHVzZV9jYWNoZSkgPT4gUHJvbWlzZQoKCQlmaWxlX2NhY2hlOiB7CgkJCWRpcjogICAge30sICAgICAgICAgICAgICAgIC8vIE9iamVjdCBjb250YWluaW5nIGRpcmVjdG9yeSBvZiBmaWxlcy4KCQkJbHM6ICAgICBmaWxlX2NhY2hlX2xpc3QsICAgLy8gbHMoKQoJCQljbGVhcjogIGZpbGVfY2FjaGVfY2xlYXIsICAvLyBjbGVhcigpICAgICAgICAgICAgID0+IFByb21pc2UKCQkJZGVsZXRlOiBmaWxlX2NhY2hlX2RlbGV0ZSwgLy8gZGVsZXRlKG5hbWUpICAgICAgICA9PiBQcm9taXNlCgkJCWZsdXNoOiAgZmlsZV9jYWNoZV9mbHVzaCwgIC8vIGZsdXNoKCkgICAgICAgICAgICAgPT4gUHJvbWlzZQoJCQlsb2FkOiAgIGZpbGVfY2FjaGVfbG9hZCwgICAvLyBsb2FkKG5hbWUpICAgICAgICAgID0+IFByb21pc2UKCQkJc2F2ZTogICBmaWxlX2NhY2hlX3NhdmUsICAgLy8gc2F2ZShuYW1lLCBjb250ZW50KSA9PiBQcm9taXNlCgkJCW5vX2NhY2hlOmZpbGVfbm9jYWNoZSwgICAgIC8vIG5vX2NhY2hlKG1vZHVsZXMpCgkJfSwKCgkJb246ICAgICAgd2FpdF9ldmVudCwgICAgICAgICAgIC8vIG9uKGV2ZW50LCBjYWxsYmFjaykKCQl0cmlnZ2VyOiB0cmlnZ2VyX2V2ZW50LCAgICAgICAgLy8gdHJpZ2dlcihldmVudFssIGRhdGExWywgZGF0YTJbLCAuLi5dXV0pCgoJCWdldF9zdGF0ZTogIGdldF9zdGF0ZSwgICAgICAgICAvLyBnZXQoc3RhdGVfdmFyKQoJCXNldF9zdGF0ZTogIHNldF9zdGF0ZSwgICAgICAgICAvLyBzZXQoc3RhdGVfdmFyLCB2YWx1ZSkKCQl3YWl0X3N0YXRlOiB3YWl0X3N0YXRlLCAgICAgICAgLy8gd2FpdChzdGF0ZV92YXIsIHZhbHVlWywgY2FsbGJhY2tbLCBwZXJzaXN0ZW50XV0pID0+IGlmIG5vIGNhbGxiYWNrLCByZXR1cm4gb25lLXNob3QgUHJvbWlzZQoKCQl2ZXJzaW9uOiB7CgkJCXZhbHVlOiB2ZXJzaW9uLAoJCQljb21wYXJlX3RvOiBjb21wYXJlX3RvLCAgICAvLyBjb21wYXJlX3ZlcnNpb24odmVyc2lvbikKCQl9Cgl9OwoKCXB1Ymxpc2hlZF9pbnRlcmZhY2Uuc3VwcG9ydF9maWxlcyA9IHsKCQknanF1ZXJ5X3VpLmpzJzogJ2h0dHBzOi8vYWpheC5nb29nbGVhcGlzLmNvbS9hamF4L2xpYnMvanF1ZXJ5dWkvMS4xMi4xL2pxdWVyeS11aS5taW4uanMnLAoJCSdqcXVpX3drbWFpbi5jc3MnOiAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3JmaW5kbGV5L3dhbmlrYW5pLW9wZW4tZnJhbWV3b3JrLzE1NTBhZjgzODNlYzI4YWQ0MDZjZjQwMWFlZTJkZTRjNTI0NDZmNmMvanF1aS13a21haW4uY3NzJywKCX07CgoJLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCglmdW5jdGlvbiBzcGxpdF9saXN0KHN0cikge3JldHVybiBzdHIucmVwbGFjZSgvXlxzK3xccyooLClccyp8XHMrJC9nLCAnJDEnKS5zcGxpdCgnLCcpLmZpbHRlcihmdW5jdGlvbihuYW1lKSB7cmV0dXJuIChuYW1lLmxlbmd0aCA+IDApO30pO30KCWZ1bmN0aW9uIHByb21pc2UoKXt2YXIgYSxiLGM9bmV3IFByb21pc2UoZnVuY3Rpb24oZCxlKXthPWQ7Yj1lO30pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7cmV0dXJuIGM7fQoKCS8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCS8vIENvbXBhcmUgdGhlIGZyYW1ld29yayB2ZXJzaW9uIGFnYWluc3QgYSBzcGVjaWZpYyB2ZXJzaW9uLgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCWZ1bmN0aW9uIGNvbXBhcmVfdG8oY2xpZW50X3ZlcnNpb24pIHsKCQl2YXIgY2xpZW50X3ZlciA9IGNsaWVudF92ZXJzaW9uLnNwbGl0KCcuJykubWFwKGQgPT4gTnVtYmVyKGQpKTsKCQl2YXIgd2tvZl92ZXIgPSB2ZXJzaW9uLnNwbGl0KCcuJykubWFwKGQgPT4gTnVtYmVyKGQpKTsKCQl2YXIgbGVuID0gTWF0aC5tYXgoY2xpZW50X3Zlci5sZW5ndGgsIHdrb2ZfdmVyLmxlbmd0aCk7CgkJZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgbGVuOyBpZHgrKykgewoJCQl2YXIgYSA9IGNsaWVudF92ZXJbaWR4XSB8fCAwOwoJCQl2YXIgYiA9IHdrb2ZfdmVyW2lkeF0gfHwgMDsKCQkJaWYgKGEgPT09IGIpIGNvbnRpbnVlOwoJCQlpZiAoYSA8IGIpIHJldHVybiAnbmV3ZXInOwoJCQlyZXR1cm4gJ29sZGVyJzsKCQl9CgkJcmV0dXJuICdzYW1lJzsKCX0KCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy8gSW5jbHVkZSBhIGxpc3Qgb2YgbW9kdWxlcy4KCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgl2YXIgaW5jbHVkZV9wcm9taXNlcyA9IHt9OwoKCWZ1bmN0aW9uIGluY2x1ZGUobW9kdWxlX2xpc3QpIHsKCQlpZiAod2tvZi5nZXRfc3RhdGUoJ3drb2Yud2tvZicpICE9PSAncmVhZHknKSB7CgkJCXJldHVybiB3a29mLnJlYWR5KCd3a29mJykudGhlbihmdW5jdGlvbigpe3JldHVybiB3a29mLmluY2x1ZGUobW9kdWxlX2xpc3QpO30pOwoJCX0KCQl2YXIgaW5jbHVkZV9wcm9taXNlID0gcHJvbWlzZSgpOwoJCXZhciBtb2R1bGVfbmFtZXMgPSBzcGxpdF9saXN0KG1vZHVsZV9saXN0KTsKCQl2YXIgc2NyaXB0X2NudCA9IG1vZHVsZV9uYW1lcy5sZW5ndGg7CgkJaWYgKHNjcmlwdF9jbnQgPT09IDApIHsKCQkJaW5jbHVkZV9wcm9taXNlLnJlc29sdmUoe2xvYWRlZDpbXSwgZmFpbGVkOltdfSk7CgkJCXJldHVybiBpbmNsdWRlX3Byb21pc2U7CgkJfQoKCQl2YXIgZG9uZV9jbnQgPSAwOwoJCXZhciBsb2FkZWQgPSBbXSwgZmFpbGVkID0gW107CgkJdmFyIG5vX2NhY2hlID0gc3BsaXRfbGlzdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2tvZi5pbmNsdWRlLm5vY2FjaGUnKSB8fCAnJyk7CgkJZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgbW9kdWxlX25hbWVzLmxlbmd0aDsgaWR4KyspIHsKCQkJdmFyIG1vZHVsZV9uYW1lID0gbW9kdWxlX25hbWVzW2lkeF07CgkJCXZhciBtb2R1bGUgPSBzdXBwb3J0ZWRfbW9kdWxlc1ttb2R1bGVfbmFtZV07CgkJCWlmICghbW9kdWxlKSB7CgkJCQlmYWlsZWQucHVzaCh7bmFtZTptb2R1bGVfbmFtZSwgdXJsOnVuZGVmaW5lZH0pOwoJCQkJY2hlY2tfZG9uZSgpOwoJCQkJY29udGludWU7CgkJCX0KCQkJdmFyIGF3YWl0X2xvYWQgPSBpbmNsdWRlX3Byb21pc2VzW21vZHVsZV9uYW1lXTsKCQkJdmFyIHVzZV9jYWNoZSA9IChub19jYWNoZS5pbmRleE9mKG1vZHVsZV9uYW1lKSA8IDApICYmIChub19jYWNoZS5pbmRleE9mKCcqJykgPCAwKTsKCQkJaWYgKCF1c2VfY2FjaGUpIGZpbGVfY2FjaGVfZGVsZXRlKG1vZHVsZS51cmwpOwoJCQlpZiAoYXdhaXRfbG9hZCA9PT0gdW5kZWZpbmVkKSBpbmNsdWRlX3Byb21pc2VzW21vZHVsZV9uYW1lXSA9IGF3YWl0X2xvYWQgPSBsb2FkX3NjcmlwdChtb2R1bGUudXJsLCB1c2VfY2FjaGUpOwoJCQlhd2FpdF9sb2FkLnRoZW4ocHVzaF9sb2FkZWQsIHB1c2hfZmFpbGVkKTsKCQl9CgoJCXJldHVybiBpbmNsdWRlX3Byb21pc2U7CgoJCWZ1bmN0aW9uIHB1c2hfbG9hZGVkKHVybCkgewoJCQlsb2FkZWQucHVzaCh1cmwpOwoJCQljaGVja19kb25lKCk7CgkJfQoKCQlmdW5jdGlvbiBwdXNoX2ZhaWxlZCh1cmwpIHsKCQkJZmFpbGVkLnB1c2godXJsKTsKCQkJY2hlY2tfZG9uZSgpOwoJCX0KCgkJZnVuY3Rpb24gY2hlY2tfZG9uZSgpIHsKCQkJaWYgKCsrZG9uZV9jbnQgPCBzY3JpcHRfY250KSByZXR1cm47CgkJCWlmIChmYWlsZWQubGVuZ3RoID09PSAwKSBpbmNsdWRlX3Byb21pc2UucmVzb2x2ZSh7bG9hZGVkOmxvYWRlZCwgZmFpbGVkOmZhaWxlZH0pOwoJCQllbHNlIGluY2x1ZGVfcHJvbWlzZS5yZWplY3Qoe2Vycm9yOidGYWlsdXJlIGxvYWRpbmcgbW9kdWxlJywgbG9hZGVkOmxvYWRlZCwgZmFpbGVkOmZhaWxlZH0pOwoJCX0KCX0KCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy8gV2FpdCBmb3IgYWxsIG1vZHVsZXMgdG8gcmVwb3J0IHRoYXQgdGhleSBhcmUgcmVhZHkKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCglmdW5jdGlvbiByZWFkeShtb2R1bGVfbGlzdCkgewoJCXZhciBtb2R1bGVfbmFtZXMgPSBzcGxpdF9saXN0KG1vZHVsZV9saXN0KTsKCgkJdmFyIHJlYWR5X3Byb21pc2VzID0gWyBdOwoJCWZvciAodmFyIGlkeCBpbiBtb2R1bGVfbmFtZXMpIHsKCQkJdmFyIG1vZHVsZV9uYW1lID0gbW9kdWxlX25hbWVzW2lkeF07CgkJCXJlYWR5X3Byb21pc2VzLnB1c2god2FpdF9zdGF0ZSgnd2tvZi4nICsgbW9kdWxlX25hbWUsICdyZWFkeScpKTsKCQl9CgoJCWlmIChyZWFkeV9wcm9taXNlcy5sZW5ndGggPT09IDApIHsKCQkJcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpOwoJCX0gZWxzZSBpZiAocmVhZHlfcHJvbWlzZXMubGVuZ3RoID09PSAxKSB7CgkJCXJldHVybiByZWFkeV9wcm9taXNlc1swXTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gUHJvbWlzZS5hbGwocmVhZHlfcHJvbWlzZXMpOwoJCX0KCX0KCS8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCS8vIExvYWQgYSBmaWxlIGFzeW5jaHJvbm91c2x5LCBhbmQgcGFzcyB0aGUgZmlsZSBhcyByZXNvbHZlZCBQcm9taXNlIGRhdGEuCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJZnVuY3Rpb24gbG9hZF9maWxlKHVybCwgdXNlX2NhY2hlKSB7CgkJdmFyIGZldGNoX3Byb21pc2UgPSBwcm9taXNlKCk7CgkJdmFyIG5vX2NhY2hlID0gc3BsaXRfbGlzdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2tvZi5sb2FkX2ZpbGUubm9jYWNoZScpIHx8ICcnKTsKCQlpZiAobm9fY2FjaGUuaW5kZXhPZih1cmwpID49IDAgfHwgbm9fY2FjaGUuaW5kZXhPZignKicpID49IDApIHVzZV9jYWNoZSA9IGZhbHNlOwoJCWlmICh1c2VfY2FjaGUgPT09IHRydWUpIHsKCQkJcmV0dXJuIGZpbGVfY2FjaGVfbG9hZCh1cmwsIHVzZV9jYWNoZSkuY2F0Y2goZmV0Y2hfdXJsKTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gZmV0Y2hfdXJsKCk7CgkJfQoKCQkvLyBSZXRyaWV2ZSBmaWxlIGZyb20gc2VydmVyCgkJZnVuY3Rpb24gZmV0Y2hfdXJsKCl7CgkJCXZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CgkJCXJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gcHJvY2Vzc19yZXN1bHQ7CgkJCXJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTsKCQkJcmVxdWVzdC5zZW5kKCk7CgkJCXJldHVybiBmZXRjaF9wcm9taXNlOwoJCX0KCgkJZnVuY3Rpb24gcHJvY2Vzc19yZXN1bHQoZXZlbnQpewoJCQlpZiAoZXZlbnQudGFyZ2V0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjsKCQkJaWYgKGV2ZW50LnRhcmdldC5zdGF0dXMgPj0gNDAwIHx8IGV2ZW50LnRhcmdldC5zdGF0dXMgPT09IDApIHJldHVybiBmZXRjaF9wcm9taXNlLnJlamVjdChldmVudC50YXJnZXQuc3RhdHVzKTsKCQkJaWYgKHVzZV9jYWNoZSkgewoJCQkJZmlsZV9jYWNoZV9zYXZlKHVybCwgZXZlbnQudGFyZ2V0LnJlc3BvbnNlKQoJCQkJLnRoZW4oZmV0Y2hfcHJvbWlzZS5yZXNvbHZlLmJpbmQobnVsbCxldmVudC50YXJnZXQucmVzcG9uc2UpKTsKCQkJfSBlbHNlIHsKCQkJCWZldGNoX3Byb21pc2UucmVzb2x2ZShldmVudC50YXJnZXQucmVzcG9uc2UpOwoJCQl9CgkJfQoJfQoKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBMb2FkIGFuZCBpbnN0YWxsIGEgc3BlY2lmaWMgZmlsZSB0eXBlIGludG8gdGhlIERPTS4KCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCglmdW5jdGlvbiBsb2FkX2FuZF9hcHBlbmQodXJsLCB0YWdfbmFtZSwgbG9jYXRpb24sIHVzZV9jYWNoZSkgewoJCXVybCA9IHVybC5yZXBsYWNlKC8iL2csJ1wnJyk7CgkJaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFnX25hbWUrJ1t1aWQ9IicrdXJsKyciXScpICE9PSBudWxsKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7CgkJcmV0dXJuIGxvYWRfZmlsZSh1cmwsIHVzZV9jYWNoZSkudGhlbihhcHBlbmRfdG9fdGFnKTsKCgkJZnVuY3Rpb24gYXBwZW5kX3RvX3RhZyhjb250ZW50KSB7CgkJCXZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ19uYW1lKTsKCQkJdGFnLmlubmVySFRNTCA9IGNvbnRlbnQ7CgkJCXRhZy5zZXRBdHRyaWJ1dGUoJ3VpZCcsIHVybCk7CgkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKHRhZyk7CgkJCXJldHVybiB1cmw7CgkJfQoJfQoKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBMb2FkIGFuZCBpbnN0YWxsIGEgQ1NTIGZpbGUuCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJZnVuY3Rpb24gbG9hZF9jc3ModXJsLCB1c2VfY2FjaGUpIHsKCQlyZXR1cm4gbG9hZF9hbmRfYXBwZW5kKHVybCwgJ3N0eWxlJywgJ2hlYWQnLCB1c2VfY2FjaGUpOwoJfQoKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBMb2FkIGFuZCBpbnN0YWxsIEphdmFzY3JpcHQuCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJZnVuY3Rpb24gbG9hZF9zY3JpcHQodXJsLCB1c2VfY2FjaGUpIHsKCQlyZXR1cm4gbG9hZF9hbmRfYXBwZW5kKHVybCwgJ3NjcmlwdCcsICdib2R5JywgdXNlX2NhY2hlKTsKCX0KCS8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoJdmFyIHN0YXRlX2xpc3RlbmVycyA9IHt9OwoJdmFyIHN0YXRlX3ZhbHVlcyA9IHt9OwoKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBHZXQgdGhlIHZhbHVlIG9mIGEgc3RhdGUgdmFyaWFibGUsIGFuZCBub3RpZnkgbGlzdGVuZXJzLgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCWZ1bmN0aW9uIGdldF9zdGF0ZShzdGF0ZV92YXIpIHsKCQlyZXR1cm4gc3RhdGVfdmFsdWVzW3N0YXRlX3Zhcl07Cgl9CgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCS8vIFNldCB0aGUgdmFsdWUgb2YgYSBzdGF0ZSB2YXJpYWJsZSwgYW5kIG5vdGlmeSBsaXN0ZW5lcnMuCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJZnVuY3Rpb24gc2V0X3N0YXRlKHN0YXRlX3ZhciwgdmFsdWUpIHsKCQl2YXIgb2xkX3ZhbHVlID0gc3RhdGVfdmFsdWVzW3N0YXRlX3Zhcl07CgkJaWYgKG9sZF92YWx1ZSA9PT0gdmFsdWUpIHJldHVybjsKCQlzdGF0ZV92YWx1ZXNbc3RhdGVfdmFyXSA9IHZhbHVlOwoKCQkvLyBEbyBsaXN0ZW5lciBjYWxsYmFja3MsIGFuZCByZW1vdmUgbm9uLXBlcnNpc3RlbnQgbGlzdGVuZXJzCgkJdmFyIGxpc3RlbmVycyA9IHN0YXRlX2xpc3RlbmVyc1tzdGF0ZV92YXJdOwoJCXZhciBwZXJzaXN0ZW50X2xpc3RlbmVycyA9IFsgXTsKCQlmb3IgKHZhciBpZHggaW4gbGlzdGVuZXJzKSB7CgkJCXZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpZHhdOwoJCQl2YXIga2VlcCA9IHRydWU7CgkJCWlmIChsaXN0ZW5lci52YWx1ZSA9PT0gdmFsdWUgfHwgbGlzdGVuZXIudmFsdWUgPT09ICcqJykgewoJCQkJa2VlcCA9IGxpc3RlbmVyLnBlcnNpc3RlbnQ7CgkJCQl0cnkgewoJCQkJCWxpc3RlbmVyLmNhbGxiYWNrKHZhbHVlLCBvbGRfdmFsdWUpOwoJCQkJfSBjYXRjaCAoZSkge30KCQkJfQoJCQlpZiAoa2VlcCkgcGVyc2lzdGVudF9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7CgkJfQoJCXN0YXRlX2xpc3RlbmVyc1tzdGF0ZV92YXJdID0gcGVyc2lzdGVudF9saXN0ZW5lcnM7Cgl9CgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCS8vIFdoZW4gc3RhdGUgb2Ygc3RhdGVfdmFyIGNoYW5nZXMgdG8gdmFsdWUsIGNhbGwgY2FsbGJhY2suCgkvLyBJZiBwZXJzaXN0ZW50ID09PSB0cnVlLCBjb250aW51ZSBsaXN0ZW5pbmcgZm9yIGFkZGl0aW9uYWwgc3RhdGUgY2hhbmdlcwoJLy8gSWYgdmFsdWUgaXMgJyonLCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBmb3IgYWxsIHN0YXRlIGNoYW5nZXMuCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJZnVuY3Rpb24gd2FpdF9zdGF0ZShzdGF0ZV92YXIsIHZhbHVlLCBjYWxsYmFjaywgcGVyc2lzdGVudCkgewoJCXZhciBwcm9taXNlOwoJCWlmIChjYWxsYmFjayA9PT0gdW5kZWZpbmVkKSB7CgkJCXByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsKCQkJCWNhbGxiYWNrID0gcmVzb2x2ZTsKCQkJfSk7CgkJfQoJCWlmIChzdGF0ZV9saXN0ZW5lcnNbc3RhdGVfdmFyXSA9PT0gdW5kZWZpbmVkKSBzdGF0ZV9saXN0ZW5lcnNbc3RhdGVfdmFyXSA9IFsgXTsKCQlwZXJzaXN0ZW50ID0gKHBlcnNpc3RlbnQgPT09IHRydWUpOwoJCXZhciBjdXJyZW50X3ZhbHVlID0gc3RhdGVfdmFsdWVzW3N0YXRlX3Zhcl07CgkJaWYgKHBlcnNpc3RlbnQgfHwgdmFsdWUgIT09IGN1cnJlbnRfdmFsdWUpIHN0YXRlX2xpc3RlbmVyc1tzdGF0ZV92YXJdLnB1c2goe2NhbGxiYWNrOmNhbGxiYWNrLCBwZXJzaXN0ZW50OnBlcnNpc3RlbnQsIHZhbHVlOnZhbHVlfSk7CgoJCS8vIElmIGl0J3MgYWxyZWFkeSBhdCB0aGUgZGVzaXJlZCBzdGF0ZSwgY2FsbCB0aGUgY2FsbGJhY2sgaW1tZWRpYXRlbHkuCgkJaWYgKHZhbHVlID09PSBjdXJyZW50X3ZhbHVlKSB7CgkJCXRyeSB7CgkJCQljYWxsYmFjayh2YWx1ZSwgY3VycmVudF92YWx1ZSk7CgkJCX0gY2F0Y2ggKGVycikge30KCQl9CgkJcmV0dXJuIHByb21pc2U7Cgl9CgkvLyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKCXZhciBldmVudF9saXN0ZW5lcnMgPSB7fTsKCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy8gRmlyZSBhbiBldmVudCwgd2hpY2ggdGhlbiBjYWxscyBjYWxsYmFja3MgZm9yIGFueSBsaXN0ZW5lcnMuCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJZnVuY3Rpb24gdHJpZ2dlcl9ldmVudChldmVudCkgewoJCXZhciBsaXN0ZW5lcnMgPSBldmVudF9saXN0ZW5lcnNbZXZlbnRdOwoJCWlmIChsaXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwoJCXZhciBhcmdzID0gW107CgkJQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYXJncyxhcmd1bWVudHMpOwoJCWFyZ3Muc2hpZnQoKTsKCQlmb3IgKHZhciBpZHggaW4gbGlzdGVuZXJzKSB0cnkgewoJCQlsaXN0ZW5lcnNbaWR4XS5hcHBseShudWxsLGFyZ3MpOwoJCX0gY2F0Y2ggKGVycikge30KCQlyZXR1cm4gZ2xvYmFsLndrb2Y7Cgl9CgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCS8vIEFkZCBhIGxpc3RlbmVyIGZvciBhbiBldmVudC4KCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCglmdW5jdGlvbiB3YWl0X2V2ZW50KGV2ZW50LCBjYWxsYmFjaykgewoJCWlmIChldmVudF9saXN0ZW5lcnNbZXZlbnRdID09PSB1bmRlZmluZWQpIGV2ZW50X2xpc3RlbmVyc1tldmVudF0gPSBbXTsKCQlldmVudF9saXN0ZW5lcnNbZXZlbnRdLnB1c2goY2FsbGJhY2spOwoJCXJldHVybiBnbG9iYWwud2tvZjsKCX0KCS8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgoJdmFyIGZpbGVfY2FjaGVfb3Blbl9wcm9taXNlOwoKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBPcGVuIHRoZSBmaWxlX2NhY2hlIGRhdGFiYXNlIChvciByZXR1cm4gaGFuZGxlIGlmIG9wZW4pLgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCWZ1bmN0aW9uIGZpbGVfY2FjaGVfb3BlbigpIHsKCQlpZiAoZmlsZV9jYWNoZV9vcGVuX3Byb21pc2UpIHJldHVybiBmaWxlX2NhY2hlX29wZW5fcHJvbWlzZTsKCQl2YXIgb3Blbl9wcm9taXNlID0gcHJvbWlzZSgpOwoJCWZpbGVfY2FjaGVfb3Blbl9wcm9taXNlID0gb3Blbl9wcm9taXNlOwoJCXZhciByZXF1ZXN0OwoJCXJlcXVlc3QgPSBpbmRleGVkREIub3Blbignd2tvZi5maWxlX2NhY2hlJyk7CgkJcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSB1cGdyYWRlX2RiOwoJCXJlcXVlc3Qub25zdWNjZXNzID0gZ2V0X2RpcjsKCQlyZXF1ZXN0Lm9uZXJyb3IgPSBlcnJvcjsKCQlyZXR1cm4gb3Blbl9wcm9taXNlOwoKCQlmdW5jdGlvbiBlcnJvcigpIHsKCQkJY29uc29sZS5sb2coJ2luZGV4ZWREQiBjb3VsZCBub3Qgb3BlbiEnKTsKCQkJd2tvZi5maWxlX2NhY2hlLmRpciA9IHt9OwoJCQlpZiAoaWdub3JlX21pc3NpbmdfaW5kZXhlZGRiKSB7CgkJCQlvcGVuX3Byb21pc2UucmVzb2x2ZShudWxsKTsKCQkJfSBlbHNlIHsKCQkJCW9wZW5fcHJvbWlzZS5yZWplY3QoKTsKCQkJfQoJCX0KCgkJZnVuY3Rpb24gdXBncmFkZV9kYihldmVudCl7CgkJCXZhciBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7CgkJCXZhciBzdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdmaWxlcycsIHtrZXlQYXRoOiduYW1lJ30pOwoJCX0KCgkJZnVuY3Rpb24gZ2V0X2RpcihldmVudCl7CgkJCXZhciBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7CgkJCXZhciB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKCdmaWxlcycsICdyZWFkb25seScpOwoJCQl2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnZmlsZXMnKTsKCQkJdmFyIHJlcXVlc3QgPSBzdG9yZS5nZXQoJ1tkaXJdJyk7CgkJCXJlcXVlc3Qub25zdWNjZXNzID0gcHJvY2Vzc19kaXI7CgkJCXRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBvcGVuX3Byb21pc2UucmVzb2x2ZS5iaW5kKG51bGwsIGRiKTsKCQkJb3Blbl9wcm9taXNlLnRoZW4oc2V0VGltZW91dC5iaW5kKG51bGwsIGZpbGVfY2FjaGVfY2xlYW51cCwgMTAwMDApKTsKCQl9CgoJCWZ1bmN0aW9uIHByb2Nlc3NfZGlyKGV2ZW50KXsKCQkJaWYgKGV2ZW50LnRhcmdldC5yZXN1bHQgPT09IHVuZGVmaW5lZCkgewoJCQkJd2tvZi5maWxlX2NhY2hlLmRpciA9IHt9OwoJCQl9IGVsc2UgewoJCQkJd2tvZi5maWxlX2NhY2hlLmRpciA9IEpTT04ucGFyc2UoZXZlbnQudGFyZ2V0LnJlc3VsdC5jb250ZW50KTsKCQkJfQoJCX0KCX0KCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy8gTGlzdHMgdGhlIGNvbnRlbnQgb2YgdGhlIGZpbGVfY2FjaGUuCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJZnVuY3Rpb24gZmlsZV9jYWNoZV9saXN0KCkgewoJCWNvbnNvbGUubG9nKE9iamVjdC5rZXlzKHdrb2YuZmlsZV9jYWNoZS5kaXIpLnNvcnQoKS5qb2luKCdcbicpKTsKCX0KCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy8gQ2xlYXIgdGhlIGZpbGVfY2FjaGUgZGF0YWJhc2UuCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJZnVuY3Rpb24gZmlsZV9jYWNoZV9jbGVhcigpIHsKCQlyZXR1cm4gZmlsZV9jYWNoZV9vcGVuKCkudGhlbihjbGVhcik7CgoJCWZ1bmN0aW9uIGNsZWFyKGRiKSB7CgkJCXZhciBjbGVhcl9wcm9taXNlID0gcHJvbWlzZSgpOwoJCQl3a29mLmZpbGVfY2FjaGUuZGlyID0ge307CgkJCWlmIChkYiA9PT0gbnVsbCkgcmV0dXJuIGNsZWFyX3Byb21pc2UucmVzb2x2ZSgpOwoJCQl2YXIgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbignZmlsZXMnLCAncmVhZHdyaXRlJyk7CgkJCXZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdmaWxlcycpOwoJCQlzdG9yZS5jbGVhcigpOwoJCQl0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gY2xlYXJfcHJvbWlzZS5yZXNvbHZlOwoJCX0KCX0KCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy8gRGVsZXRlIGEgZmlsZSBmcm9tIHRoZSBmaWxlX2NhY2hlIGRhdGFiYXNlLgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCWZ1bmN0aW9uIGZpbGVfY2FjaGVfZGVsZXRlKHBhdHRlcm4pIHsKCQlyZXR1cm4gZmlsZV9jYWNoZV9vcGVuKCkudGhlbihkZWwpOwoKCQlmdW5jdGlvbiBkZWwoZGIpIHsKCQkJdmFyIGRlbF9wcm9taXNlID0gcHJvbWlzZSgpOwoJCQlpZiAoZGIgPT09IG51bGwpIHJldHVybiBkZWxfcHJvbWlzZS5yZXNvbHZlKCk7CgkJCXZhciB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKCdmaWxlcycsICdyZWFkd3JpdGUnKTsKCQkJdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ2ZpbGVzJyk7CgkJCXZhciBmaWxlcyA9IE9iamVjdC5rZXlzKHdrb2YuZmlsZV9jYWNoZS5kaXIpLmZpbHRlcihmdW5jdGlvbihmaWxlKXsKCQkJCWlmIChwYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSB7CgkJCQkJcmV0dXJuIGZpbGUubWF0Y2gocGF0dGVybikgIT09IG51bGw7CgkJCQl9IGVsc2UgewoJCQkJCXJldHVybiAoZmlsZSA9PT0gcGF0dGVybik7CgkJCQl9CgkJCX0pOwoJCQlmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpewoJCQkJc3RvcmUuZGVsZXRlKGZpbGUpOwoJCQkJZGVsZXRlIHdrb2YuZmlsZV9jYWNoZS5kaXJbZmlsZV07CgkJCX0pOwoJCQlmaWxlX2NhY2hlX2Rpcl9zYXZlKCk7CgkJCXRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBkZWxfcHJvbWlzZS5yZXNvbHZlLmJpbmQobnVsbCwgZmlsZXMpOwoJCQlyZXR1cm4gZGVsX3Byb21pc2U7CgkJfQoJfQoKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBGb3JjZSBpbW1lZGlhdGUgc2F2ZSBvZiBmaWxlX2NhY2hlIGRpcmVjdG9yeS4KCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCglmdW5jdGlvbiBmaWxlX2NhY2hlX2ZsdXNoKCkgewoJCWZpbGVfY2FjaGVfZGlyX3NhdmUodHJ1ZSAvKiBpbW1lZGlhdGVseSAqLyk7Cgl9CgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCS8vIExvYWQgYSBmaWxlIGZyb20gdGhlIGZpbGVfY2FjaGUgZGF0YWJhc2UuCgkvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJZnVuY3Rpb24gZmlsZV9jYWNoZV9sb2FkKG5hbWUpIHsKCQl2YXIgbG9hZF9wcm9taXNlID0gcHJvbWlzZSgpOwoJCXJldHVybiBmaWxlX2NhY2hlX29wZW4oKS50aGVuKGxvYWQpOwoKCQlmdW5jdGlvbiBsb2FkKGRiKSB7CgkJCWlmICh3a29mLmZpbGVfY2FjaGUuZGlyW25hbWVdID09PSB1bmRlZmluZWQpIHsKCQkJCWxvYWRfcHJvbWlzZS5yZWplY3QobmFtZSk7CgkJCQlyZXR1cm4gbG9hZF9wcm9taXNlOwoJCQl9CgkJCXZhciB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKCdmaWxlcycsICdyZWFkb25seScpOwoJCQl2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnZmlsZXMnKTsKCQkJdmFyIHJlcXVlc3QgPSBzdG9yZS5nZXQobmFtZSk7CgkJCXdrb2YuZmlsZV9jYWNoZS5kaXJbbmFtZV0ubGFzdF9sb2FkZWQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7CgkJCWZpbGVfY2FjaGVfZGlyX3NhdmUoKTsKCQkJcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmaW5pc2g7CgkJCXJlcXVlc3Qub25lcnJvciA9IGVycm9yOwoJCQlyZXR1cm4gbG9hZF9wcm9taXNlOwoKCQkJZnVuY3Rpb24gZmluaXNoKGV2ZW50KXsKCQkJCWlmIChldmVudC50YXJnZXQucmVzdWx0ID09PSB1bmRlZmluZWQpIHsKCQkJCQlsb2FkX3Byb21pc2UucmVqZWN0KG5hbWUpOwoJCQkJfSBlbHNlIHsKCQkJCQlsb2FkX3Byb21pc2UucmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0LmNvbnRlbnQpOwoJCQkJfQoJCQl9CgoJCQlmdW5jdGlvbiBlcnJvcihldmVudCl7CgkJCQlsb2FkX3Byb21pc2UucmVqZWN0KG5hbWUpOwoJCQl9CgkJfQoJfQoKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBTYXZlIGEgZmlsZSBpbnRvIHRoZSBmaWxlX2NhY2hlIGRhdGFiYXNlLgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCWZ1bmN0aW9uIGZpbGVfY2FjaGVfc2F2ZShuYW1lLCBjb250ZW50LCBleHRyYV9hdHRyaWJzKSB7CgkJcmV0dXJuIGZpbGVfY2FjaGVfb3BlbigpLnRoZW4oc2F2ZSk7CgoJCWZ1bmN0aW9uIHNhdmUoZGIpIHsKCQkJdmFyIHNhdmVfcHJvbWlzZSA9IHByb21pc2UoKTsKCQkJaWYgKGRiID09PSBudWxsKSByZXR1cm4gc2F2ZV9wcm9taXNlLnJlc29sdmUobmFtZSk7CgkJCXZhciB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKCdmaWxlcycsICdyZWFkd3JpdGUnKTsKCQkJdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ2ZpbGVzJyk7CgkJCXN0b3JlLnB1dCh7bmFtZTpuYW1lLGNvbnRlbnQ6Y29udGVudH0pOwoJCQl2YXIgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpOwoJCQl3a29mLmZpbGVfY2FjaGUuZGlyW25hbWVdID0gT2JqZWN0LmFzc2lnbih7YWRkZWQ6bm93LCBsYXN0X2xvYWRlZDpub3d9LCBleHRyYV9hdHRyaWJzKTsKCQkJZmlsZV9jYWNoZV9kaXJfc2F2ZSh0cnVlIC8qIGltbWVkaWF0ZWx5ICovKTsKCQkJdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IHNhdmVfcHJvbWlzZS5yZXNvbHZlLmJpbmQobnVsbCwgbmFtZSk7CgkJfQoJfQoKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBTYXZlIGEgdGhlIGZpbGVfY2FjaGUgZGlyZWN0b3J5IGNvbnRlbnRzLgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCXZhciBmY19zeW5jX3RpbWVyOwoJZnVuY3Rpb24gZmlsZV9jYWNoZV9kaXJfc2F2ZShpbW1lZGlhdGVseSkgewoJCWlmIChmY19zeW5jX3RpbWVyICE9PSB1bmRlZmluZWQpIGNsZWFyVGltZW91dChmY19zeW5jX3RpbWVyKTsKCQl2YXIgZGVsYXkgPSAoaW1tZWRpYXRlbHkgPyAwIDogMjAwMCk7CgkJZmNfc3luY190aW1lciA9IHNldFRpbWVvdXQoc2F2ZSwgZGVsYXkpOwoKCQlmdW5jdGlvbiBzYXZlKCl7CgkJCWZpbGVfY2FjaGVfb3BlbigpLnRoZW4oc2F2ZTIpOwoJCX0KCgkJZnVuY3Rpb24gc2F2ZTIoZGIpewoJCQlmY19zeW5jX3RpbWVyID0gdW5kZWZpbmVkOwoJCQl2YXIgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbignZmlsZXMnLCAncmVhZHdyaXRlJyk7CgkJCXZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdmaWxlcycpOwoJCQlzdG9yZS5wdXQoe25hbWU6J1tkaXJdJyxjb250ZW50OkpTT04uc3RyaW5naWZ5KHdrb2YuZmlsZV9jYWNoZS5kaXIpfSk7CgkJfQoJfQoKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBSZW1vdmUgZmlsZXMgdGhhdCBoYXZlbid0IGJlZW4gYWNjZXNzZWQgaW4gYSB3aGlsZS4KCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCglmdW5jdGlvbiBmaWxlX2NhY2hlX2NsZWFudXAoKSB7CgkJdmFyIHRocmVzaG9sZCA9IG5ldyBEYXRlKCkgLSAxNCo4NjQwMDAwMDsgLy8gMTQgZGF5cwoJCXZhciBvbGRfZmlsZXMgPSBbXTsKCQlmb3IgKHZhciBmbmFtZSBpbiB3a29mLmZpbGVfY2FjaGUuZGlyKSB7CgkJCWlmIChmbmFtZS5tYXRjaCgvXndrb2ZcLnNldHRpbmdzXC4vKSkgY29udGludWU7IC8vIERvbid0IGZsdXNoIHNldHRpbmdzIGZpbGVzLgoJCQl2YXIgZmRhdGUgPSBuZXcgRGF0ZSh3a29mLmZpbGVfY2FjaGUuZGlyW2ZuYW1lXS5sYXN0X2xvYWRlZCk7CgkJCWlmIChmZGF0ZSA8IHRocmVzaG9sZCkgb2xkX2ZpbGVzLnB1c2goZm5hbWUpOwoJCX0KCQlpZiAob2xkX2ZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwoJCWNvbnNvbGUubG9nKCdDbGVhbmluZyBvdXQgJytvbGRfZmlsZXMubGVuZ3RoKycgb2xkIGZpbGUocykgZnJvbSAid2tvZi5maWxlX2NhY2hlIjonKTsKCQlmb3IgKHZhciBmbnVtIGluIG9sZF9maWxlcykgewoJCQljb25zb2xlLmxvZygnICAnKyhOdW1iZXIoZm51bSkrMSkrJzogJytvbGRfZmlsZXNbZm51bV0pOwoJCQl3a29mLmZpbGVfY2FjaGUuZGVsZXRlKG9sZF9maWxlc1tmbnVtXSk7CgkJfQoJfQoKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgkvLyBQcm9jZXNzIG5vLWNhY2hlIHJlcXVlc3RzLgoJLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCWZ1bmN0aW9uIGZpbGVfbm9jYWNoZShsaXN0KSB7CgkJaWYgKGxpc3QgPT09IHVuZGVmaW5lZCkgewoJCQlsaXN0ID0gc3BsaXRfbGlzdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2tvZi5pbmNsdWRlLm5vY2FjaGUnKSB8fCAnJyk7CgkJCWxpc3QgPSBsaXN0LmNvbmNhdChzcGxpdF9saXN0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd3a29mLmxvYWRfZmlsZS5ub2NhY2hlJykgfHwgJycpKTsKCQkJY29uc29sZS5sb2cobGlzdC5qb2luKCcsJykpOwoJCX0gZWxzZSBpZiAodHlwZW9mIGxpc3QgPT09ICdzdHJpbmcnKSB7CgkJCXZhciBub19jYWNoZSA9IHNwbGl0X2xpc3QobGlzdCk7CgkJCXZhciBpZHgsIG1vZHVsZXMgPSBbXSwgdXJscyA9IFtdOwoJCQlmb3IgKGlkeCA9IDA7IGlkeCA8IG5vX2NhY2hlLmxlbmd0aDsgaWR4KyspIHsKCQkJCXZhciBpdGVtID0gbm9fY2FjaGVbaWR4XTsKCQkJCWlmIChzdXBwb3J0ZWRfbW9kdWxlc1tpdGVtXSAhPT0gdW5kZWZpbmVkKSB7CgkJCQkJbW9kdWxlcy5wdXNoKGl0ZW0pOwoJCQkJfSBlbHNlIHsKCQkJCQl1cmxzLnB1c2goaXRlbSk7CgkJCQl9CgkJCX0KCQkJY29uc29sZS5sb2coJ01vZHVsZXM6ICcrbW9kdWxlcy5qb2luKCcsJykpOwoJCQljb25zb2xlLmxvZygnICAgVVJMczogJyt1cmxzLmpvaW4oJywnKSk7CgkJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCd3a29mLmluY2x1ZGUubm9jYWNoZScsIG1vZHVsZXMuam9pbignLCcpKTsKCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3drb2YubG9hZF9maWxlLm5vY2FjaGUnLCB1cmxzLmpvaW4oJywnKSk7CgkJfQoJfQoKCWZ1bmN0aW9uIGRvY19yZWFkeSgpIHsKCQl3a29mLnNldF9zdGF0ZSgnd2tvZi5kb2N1bWVudCcsICdyZWFkeScpOwoJfQoKCS8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgkvLyBCb290bG9hZGVyIFN0YXJ0dXAKCS8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCglmdW5jdGlvbiBzdGFydHVwKCkgewoJCWdsb2JhbC53a29mID0gcHVibGlzaGVkX2ludGVyZmFjZTsKCgkJLy8gTWFyayBkb2N1bWVudCBzdGF0ZSBhcyAncmVhZHknLgoJCWlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7CgkJCWRvY19yZWFkeSgpOwoJCX0gZWxzZSB7CgkJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZG9jX3JlYWR5LCBmYWxzZSk7ICAvLyBOb3RpZnkgbGlzdGVuZXJzIHRoYXQgd2UgYXJlIHJlYWR5LgoJCX0KCgkJLy8gT3BlbiBjYWNoZSwgc28gd2tvZi5maWxlX2NhY2hlLmRpciBpcyBhdmFpbGFibGUgdG8gY29uc29sZSBpbW1lZGlhdGVseS4KCQlmaWxlX2NhY2hlX29wZW4oKTsKCQl3a29mLnNldF9zdGF0ZSgnd2tvZi53a29mJywgJ3JlYWR5Jyk7Cgl9CglzdGFydHVwKCk7Cgp9KSh3aW5kb3cpOw=="},{"name":"Wanikani Ultimate Timeline","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["/^https://(www|preview).wanikani.com/(dashboard)?$/"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1588770704785,"data":{}},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/13475-wanikani-ultimate-timeline/code/Wanikani%20Ultimate%20Timeline.user.js","uuid":"f9c0e32d-1b9a-43f2-a6aa-e641c53df129","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIFdhbmlrYW5pIFVsdGltYXRlIFRpbWVsaW5lCi8vIEBuYW1lc3BhY2UgICByZmluZGxleQovLyBAZGVzY3JpcHRpb24gUmV2aWV3IHNjaGVkdWxlIGV4cGxvcmVyIGZvciBXYW5pS2FuaQovLyBAdmVyc2lvbiAgICAgNy4wLjI4Ci8vIEBpbmNsdWRlICAgICAvXmh0dHBzOi8vKHd3d3xwcmV2aWV3KS53YW5pa2FuaS5jb20vKGRhc2hib2FyZCk/JC8KLy8gQGNvcHlyaWdodCAgIDIwMTgrLCBSb2JpbiBGaW5kbGV5Ci8vIEBsaWNlbnNlICAgICBNSVQ7IGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQKLy8gQHJ1bi1hdCAgICAgIGRvY3VtZW50LWVuZAovLyBAZ3JhbnQgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCndpbmRvdy50aW1lbGluZSA9IHt9OwoKKGZ1bmN0aW9uKGdvYmopIHsKCiAgICAvKiBnbG9iYWwgJCwgd2tvZiAqLwogICAgLyogZXNsaW50IG5vLW11bHRpLXNwYWNlczogIm9mZiIgKi8KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEluaXRpYWxpemF0aW9uIG9mIHRoZSBXYW5pa2FuaSBPcGVuIEZyYW1ld29yay4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgdmFyIHNjcmlwdF9uYW1lID0gJ1VsdGltYXRlIFRpbWVsaW5lJzsKICAgIHZhciB3a29mX3ZlcnNpb25fbmVlZGVkID0gJzEuMC4yNyc7CiAgICBpZiAoIXdpbmRvdy53a29mKSB7CiAgICAgICAgaWYgKGNvbmZpcm0oc2NyaXB0X25hbWUrJyByZXF1aXJlcyBXYW5pa2FuaSBPcGVuIEZyYW1ld29yay5cbkRvIHlvdSB3YW50IHRvIGJlIGZvcndhcmRlZCB0byB0aGUgaW5zdGFsbGF0aW9uIGluc3RydWN0aW9ucz8nKSkgewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwczovL2NvbW11bml0eS53YW5pa2FuaS5jb20vdC9pbnN0cnVjdGlvbnMtaW5zdGFsbGluZy13YW5pa2FuaS1vcGVuLWZyYW1ld29yay8yODU0OSc7CiAgICAgICAgfQogICAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh3a29mLnZlcnNpb24uY29tcGFyZV90byh3a29mX3ZlcnNpb25fbmVlZGVkKSA9PT0gJ29sZGVyJykgewogICAgICAgIGlmIChjb25maXJtKHNjcmlwdF9uYW1lKycgcmVxdWlyZXMgV2FuaWthbmkgT3BlbiBGcmFtZXdvcmsgdmVyc2lvbiAnK3drb2ZfdmVyc2lvbl9uZWVkZWQrJy5cbkRvIHlvdSB3YW50IHRvIGJlIGZvcndhcmRlZCB0byB0aGUgdXBkYXRlIHBhZ2U/JykpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi9zY3JpcHRzLzM4NTgyLXdhbmlrYW5pLW9wZW4tZnJhbWV3b3JrJzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIHdrb2YuaW5jbHVkZSgnSXRlbURhdGEsTWVudSxTZXR0aW5ncycpOwogICAgd2tvZi5yZWFkeSgnZG9jdW1lbnQsSXRlbURhdGEsTWVudSxTZXR0aW5ncycpLnRoZW4obG9hZF9zZXR0aW5ncykudGhlbihzdGFydHVwKTsKCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIENoYXJ0IGRlZmluaW5nIHRoZSBhdXRvLXNjYWxpbmcgZmFjdG9ycyBvZiB0aGUgWC1heGlzLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICB2YXIgeHNjYWxlID0gewogICAgICAgIC8vIFNjYWxpbmcgY2hhcnQuICBFYWNoIGNvbHVtbiByZXByZXNlbnRzIGEgc2NhbGluZyByYW5nZSwKICAgICAgICAvLyBhbmQgZWFjaCByb3cgaXMgc29tZXRoaW5nIHRoYXQgd2UgYXJlIHNjYWxpbmcuCiAgICAgICAgaG91cnNfcGVyX2xhYmVsOiAgIFsgIDEgLCAgMyAsICA2ICwgIDEyICwgIDI0ICwgIDQ4ICwgNzIwIF0sCiAgICAgICAgcmVkX3RpY19jaG9pY2VzOiAgIFsnMWQnLCcxZCcsJzFkJywgJzFkJywgJzF3JywnMXdzJywgJzFtJ10sIC8vIFJlZCBtYWpvciB0aWNzIChyZWQgbGFiZWwpCiAgICAgICAgbWFqb3JfdGljX2Nob2ljZXM6IFsnMWgnLCczaCcsJzZoJywnMTJoJywgJzFkJywnMWRzJywgJzVEJ10sIC8vIE1ham9yIHRpY3MgKGhhcyBsYWJlbCkKICAgICAgICBtaW5vcl90aWNfY2hvaWNlczogWyAnLScsJzFoJywnMWgnLCAnM2gnLCAnNmgnLCcxMmgnLCAnMWQnXSwgLy8gTWlub3IgdGljcyAobm8gbGFiZWwpCiAgICAgICAgYnVuZGxlX2Nob2ljZXMgICA6IFsgIDEgLCAgMSAsICAxICwgICAzICwgICA2ICwgIDEyICwgIDI0IF0sIC8vIEhvdyBtYW55IGhvdXJzIGFyZSBidW5kbGVkIHRvZ2V0aGVyLgogICAgICAgIGlkeDogMAogICAgfTsKCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEludGVyYWwgZ2xvYmFsIG9iamVjdCBmb3IgY2VudHJhbGl6aW5nIGRhdGEgYW5kIGNvbmZpZ3VyYXRpb24uCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIHZhciBncmFwaCA9IHsKICAgICAgICBlbGVtOiBudWxsLAogICAgICAgIG1hcmdpbjogewogICAgICAgICAgICB0b3A6IDE2LAogICAgICAgICAgICBsZWZ0OiAyOCwKICAgICAgICAgICAgYm90dG9tOiAxNiwKICAgICAgICB9LAogICAgICAgIHhfYXhpczogewogICAgICAgICAgICB3aWR0aDogMCwKICAgICAgICAgICAgbWF4X2hvdXJzOiAwLAogICAgICAgICAgICBwaXhlbHNfcGVyX3RpYzogMCwKICAgICAgICB9LAogICAgICAgIHlfYXhpczogewogICAgICAgICAgICBoZWlnaHQ6IDEwMCwKICAgICAgICAgICAgbWluX2hlaWdodDogODAsCiAgICAgICAgICAgIG1heF9oZWlnaHQ6IDMwMCwKICAgICAgICAgICAgbWF4X3Jldmlld3M6IDAsCiAgICAgICAgfSwKICAgICAgICByYWRpY2FsX2NhY2hlOiB7fSwKICAgIH07CiAgICBnb2JqLmdyYXBoID0gZ3JhcGg7CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBHbG9iYWwgdXRpbGl0eSBmdW5jdGlvbnMuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHRvX3RpdGxlX2Nhc2Uoc3RyKSB7cmV0dXJuIHN0ci5yZXBsYWNlKC9cd1xTKi9nLCBmdW5jdGlvbih0eHQpe3JldHVybiB0eHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eHQuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7fSk7fQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gR2xvYmFsIHZhcmlhYmxlcwogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICB2YXIgc2V0dGluZ3MsIHNldHRpbmdzX2RpYWxvZzsKICAgIHZhciB0el9vZnMgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCk7CiAgICB2YXIgdGltZV9zaGlmdCA9IE1hdGguY2VpbCh0el9vZnMgLyA2MCkgKiA2MCAtIHR6X29mczsKCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gTG9hZCB0aGUgc2NyaXB0IHNldHRpbmdzLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBsb2FkX3NldHRpbmdzKCkgewogICAgICAgIHZhciBkZWZhdWx0cyA9IHsKICAgICAgICAgICAgbWluaW1pemVkOiBmYWxzZSwKICAgICAgICAgICAgcGxhY2VtZW50OiAnYmVmb3JlX25leHRyZXZpZXcnLAogICAgICAgICAgICB0aW1lX2Zvcm1hdDogJzEyaG91cicsCiAgICAgICAgICAgIGdyYXBoX2hlaWdodDogMTAwLAogICAgICAgICAgICBtYXhfZGF5czogMTQsCiAgICAgICAgICAgIGRheXM6IDMuNSwKICAgICAgICAgICAgbWF4X2Jhcl93aWR0aDogNDAsCiAgICAgICAgICAgIG1heF9iYXJfaGVpZ2h0OiAwLAogICAgICAgICAgICBmaXhlZF9iYXJfaGVpZ2h0OiBmYWxzZSwKICAgICAgICAgICAgYmFyX3N0eWxlOiAnaXRlbV90eXBlJywKICAgICAgICAgICAgc3JzX2N1cnJfbmV4dDogJ2N1cnInLAogICAgICAgICAgICBjdXJyZW50X2xldmVsX21hcmtlcnM6ICdya3YnLAogICAgICAgICAgICBidXJuX21hcmtlcnM6ICdzaG93JywKICAgICAgICAgICAgc2hvd19yZXZpZXdfZGV0YWlsczogJ2Z1bGwnLAogICAgICAgICAgICByZXZpZXdfZGV0YWlsc19zdW1tYXJ5OiAnaXRlbV90eXBlJywKICAgICAgICAgICAgcmV2aWV3X2RldGFpbHNfYnV0dG9uczogdHJ1ZSwKICAgICAgICAgICAgc2hvd19iYXJfc3R5bGVfZHJvcGRvd246IHRydWUsCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gd2tvZi5TZXR0aW5ncy5sb2FkKCd0aW1lbGluZScsIGRlZmF1bHRzKS50aGVuKGZ1bmN0aW9uKGRhdGEpewogICAgICAgICAgICBzZXR0aW5ncyA9IHdrb2Yuc2V0dGluZ3MudGltZWxpbmU7CiAgICAgICAgICAgIHN3aXRjaCAoc2V0dGluZ3Muc2hvd19tYXJrZXJzKSB7CiAgICAgICAgICAgICAgICBjYXNlICdub25lJzoKICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5jdXJyZW50X2xldmVsX21hcmtlcnMgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuYnVybl9tYXJrZXJzID0gJ2hpZGUnOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnY3Vycic6CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuY3VycmVudF9sZXZlbF9tYXJrZXJzID0gJ3Jrdic7CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuYnVybl9tYXJrZXJzID0gJ2hpZGUnOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnYnVybic6CiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuY3VycmVudF9sZXZlbF9tYXJrZXJzID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmJ1cm5fbWFya2VycyA9ICdzaG93JzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJ2JvdGgnOgogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmN1cnJlbnRfbGV2ZWxfbWFya2VycyA9ICdya3YnOwogICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmJ1cm5fbWFya2VycyA9ICdzaG93JzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBkZWxldGUgc2V0dGluZ3Muc2hvd19tYXJrZXJzOwogICAgICAgIH0pOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBTdGFydHVwCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHN0YXJ0dXAoKSB7CiAgICAgICAgaW5zdGFsbF9jc3MoKTsKICAgICAgICBpbnN0YWxsX21lbnVfbGluaygpOwogICAgICAgIHBsYWNlX3RpbWVsaW5lKHRydWUgLyogZmlyc3RfdGltZSAqLyk7CiAgICAgICAgZmV0Y2hfYW5kX3VwZGF0ZSgpOwogICAgICAgIHN0YXJ0X3JlZnJlc2hfdGltZXIoKTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEluc3RhbGwgYSBsaW5rIHRvIHRoZSBzZXR0aW5ncyBpbiB0aGUgbWVudS4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gaW5zdGFsbF9tZW51X2xpbmsoKQogICAgewogICAgICAgIHdrb2YuTWVudS5pbnNlcnRfc2NyaXB0X2xpbmsoewogICAgICAgICAgICBuYW1lOiAndGltZWxpbmUnLAogICAgICAgICAgICBzdWJtZW51OiAnU2V0dGluZ3MnLAogICAgICAgICAgICB0aXRsZTogJ1VsdGltYXRlIFRpbWVsaW5lJywKICAgICAgICAgICAgb25fY2xpY2s6IG9wZW5fc2V0dGluZ3MKICAgICAgICB9KTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIFRvcC1sZXZlbCBIVE1MIGZvciB0aGUgc2NyaXB0LgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICB2YXIgdGltZWxpbmVfaHRtbCA9CiAgICAgICAgJzxzZWN0aW9uIGlkPSJ0aW1lbGluZSI+JysKICAgICAgICAnICA8aDQgY2xhc3M9Im5vX21pbiI+UmV2aWV3cyBUaW1lbGluZTwvaDQ+JysKICAgICAgICAnICA8aSBjbGFzcz0ibGluayBvcGVuIG5vc2VsZWN0IG5vX21pbiBpY29uLWNoZXZyb24tdXAiIHRpdGxlPSJPcGVuIHRoZSB0aW1lbGluZSI+PC9pPicrCiAgICAgICAgJyAgPGkgY2xhc3M9ImxpbmsgbWluaW1pemUgbm9zZWxlY3QgaWNvbi1jaGV2cm9uLWRvd24iIHRpdGxlPSJNaW5pbWl6ZSB0aGUgdGltZWxpbmUiPjwvaT4nKwogICAgICAgICcgIDxpIGNsYXNzPSJsaW5rIHJlZnJlc2ggbm9zZWxlY3QgaWNvbi1yZWZyZXNoIiB0aXRsZT0iUmVmcmVzaCI+PC9pPicrCiAgICAgICAgJyAgPGkgY2xhc3M9Imxpbmsgc2V0dGluZ3Mgbm9zZWxlY3QgaWNvbi1nZWFyIiB0aXRsZT0iQ2hhbmdlIHRpbWVsaW5lIHNldHRpbmdzIj48L2k+JysKICAgICAgICAnICA8c3BhbiBjbGFzcz0iYmFyX3N0eWxlIGhpZGRlbiI+PGxhYmVsPkJhciBTdHlsZTogPC9sYWJlbD48c2VsZWN0PicrCiAgICAgICAgJyAgICA8b3B0aW9uIG5hbWU9ImNvdW50Ij5SZXZpZXcgQ291bnQ8L29wdGlvbj4nKwogICAgICAgICcgICAgPG9wdGlvbiBuYW1lPSJpdGVtX3R5cGUiPkl0ZW0gVHlwZTwvb3B0aW9uPicrCiAgICAgICAgJyAgICA8b3B0aW9uIG5hbWU9InNyc19zdGFnZSI+U1JTIExldmVsPC9vcHRpb24+JysKICAgICAgICAnICAgIDxvcHRpb24gbmFtZT0ibGV2ZWwiPkxldmVsPC9vcHRpb24+JysKICAgICAgICAnICA8L3NlbGVjdD48L3NwYW4+JysKICAgICAgICAnICA8Zm9ybSBjbGFzcz0icmFuZ2VfZm9ybSIgY2xhc3M9ImhpZGRlbiI+PGxhYmVsPjxzcGFuIGNsYXNzPSJyYW5nZV9yZXZpZXdzIj4wPC9zcGFuPiByZXZpZXdzIGluIDxzcGFuIGNsYXNzPSJyYW5nZV9kYXlzIj4zIGRheXM8L3NwYW4+IDxpbnB1dCBjbGFzcz0icmFuZ2VfaW5wdXQiIHR5cGU9InJhbmdlIiBtaW49IjAuMjUiIG1heD0iNyIgdmFsdWU9IjMiIHN0ZXA9IjAuMjUiIG5hbWU9InJhbmdlX2lucHV0Ij48L2xhYmVsPjwvZm9ybT48YnIgY2xlYXI9ImFsbCIgY2xhc3M9Im5vX21pbiI+JysKICAgICAgICAnICA8ZGl2IGNsYXNzPSJncmFwaF93cmFwIj4nKwogICAgICAgICcgICAgPGRpdiBjbGFzcz0icmV2aWV3X2luZm8gaGlkZGVuIj48ZGl2IGNsYXNzPSJpbm5lciI+PC9kaXY+PC9kaXY+JysKICAgICAgICAnICAgIDxkaXYgY2xhc3M9ImdyYXBoX3BhbmVsIj48L2Rpdj4nKwogICAgICAgICcgIDwvZGl2PicrCiAgICAgICAgJzwvc2VjdGlvbj4nOwoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gSW5zdGFsbCB0aGUgc3R5bGUgc2hlZXQgZm9yIHRoZSBzY3JpcHQuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGluc3RhbGxfY3NzKCkgewogICAgICAgIHZhciB0aW1lbGluZV9jc3MgPQogICAgICAgICAgICAnLm5vc2VsZWN0IHstd2Via2l0LXRvdWNoLWNhbGxvdXQ6bm9uZTsgLXdlYmtpdC11c2VyLXNlbGVjdDpub25lOyAta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTsgLW1vei11c2VyLXNlbGVjdDpub25lOyAtbXMtdXNlci1zZWxlY3Q6bm9uZTsgdXNlci1zZWxlY3Q6bm9uZTsgY3Vyc29yOmRlZmF1bHQ7fScrCiAgICAgICAgICAgICcuZGFzaGJvYXJkIHNlY3Rpb24ucmV2aWV3LXN0YXR1cyB7Ym9yZGVyLXRvcDogMXB4IHNvbGlkICNmZmZmZmY7fScrCiAgICAgICAgICAgICcuZGFzaGJvYXJkIHNlY3Rpb24ucmV2aWV3LXN0YXR1cyB1bCBsaSB0aW1lIHt3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdy14OiBoaWRkZW47IGhlaWdodDogMS41ZW07IG1hcmdpbi1ib3R0b206IDA7fScrCgogICAgICAgICAgICAnI3RpbWVsaW5lIHttYXJnaW4tYm90dG9tOiAwcHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZDRkNGQ0O30nKwogICAgICAgICAgICAnI3RpbWVsaW5lID4gaDQge2NsZWFyOm5vbmU7IGZsb2F0OmxlZnQ7IGhlaWdodDoyMHB4OyBtYXJnaW4tdG9wOjBweDsgbWFyZ2luLWJvdHRvbTo0cHg7IGZvbnQtd2VpZ2h0Om5vcm1hbDsgbWFyZ2luLXJpZ2h0OjEycHg7fScrCiAgICAgICAgICAgICdAbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIHsjdGltZWxpbmUgaDQge2Rpc3BsYXk6IG5vbmU7fX0nKwogICAgICAgICAgICAnI3RpbWVsaW5lID4gLmxpbmsge2NvbG9yOnJnYmEoMCwwLDAsMC4zKTsgZm9udC1zaXplOjEuMWVtOyB0ZXh0LWRlY29yYXRpb246bm9uZTsgY3Vyc29yOnBvaW50ZXI7IG1hcmdpbi1yaWdodDo0cHg7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgPiAubGluazpob3ZlciB7Y29sb3I6cmdiYSgyNTUsMzEsMzEsMC41KTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZTpub3QoLm1pbikgPiAubGluay5vcGVuLCAjdGltZWxpbmUubWluID4gOm5vdCgubm9fbWluKSB7ZGlzcGxheTpub25lO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lID4gLnJhbmdlX2Zvcm0ge2Zsb2F0OnJpZ2h0OyBtYXJnaW4tYm90dG9tOjBweDsgdGV4dC1hbGlnbjpyaWdodDt9JysKCiAgICAgICAgICAgICcjdGltZWxpbmUgLmJhcl9zdHlsZSBsYWJlbCB7ZGlzcGxheTppbmxpbmU7IG1hcmdpbi1sZWZ0OjgwcHg7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLmJhcl9zdHlsZSBzZWxlY3Qge2hlaWdodDphdXRvOyBwYWRkaW5nOjA7IHdpZHRoOmF1dG87IHZlcnRpY2FsLWFsaWduOmJhc2VsaW5lOyBiYWNrZ3JvdW5kLWNvbG9yOiNlM2UzZTM7IGJvcmRlcjoxcHggc29saWQgI2FhYTsgYm9yZGVyLXJhZGl1czoycHg7fScrCiAgICAgICAgICAgICdAbWVkaWEgKG1heC13aWR0aDogOTc5cHgpIHsnKwogICAgICAgICAgICAnICAjdGltZWxpbmUgLmJhcl9zdHlsZSB7ZmxvYXQ6bGVmdDsgY2xlYXI6Ym90aDsgbWFyZ2luLWxlZnQ6aW5oZXJpdDt9JysKICAgICAgICAgICAgJyAgI3RpbWVsaW5lIC5iYXJfc3R5bGUgbGFiZWwge21hcmdpbi1sZWZ0OmluaGVyaXQ7fScrCiAgICAgICAgICAgICd9JysKICAgICAgICAgICAgJ0BtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkgeyN0aW1lbGluZSAubGluayB7ZmxvYXQ6bGVmdDt9fScrCgogICAgICAgICAgICAnI3RpbWVsaW5lID4gLmdyYXBoX3BhbmVsIGRpdiwgI3RpbWVsaW5lID4gLmdyYXBoX3BhbmVsIGNhbnZhcyB7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSA+IC5ncmFwaF9wYW5lbCBkaXYge2JvcmRlcjoxcHggc29saWQgI2Q0ZDRkNDt9JysKCiAgICAgICAgICAgICcjdGltZWxpbmUgLmdyYXBoX3dyYXAge3Bvc2l0aW9uOnJlbGF0aXZlO30nKwoKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm8ge3Bvc2l0aW9uOmFic29sdXRlOyBwYWRkaW5nLWJvdHRvbToxNTBweDsgei1pbmRleDo1O30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mbyAuaW5uZXIge3BhZGRpbmc6NHB4IDhweCA4cHggOHB4OyBjb2xvcjojZWVlZWVlOyBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMC44KTsgYm9yZGVyLXJhZGl1czo0cHg7IGZvbnQtd2VpZ2h0OmJvbGQ7IHotaW5kZXg6MjsgYm94LXNpemluZzpib3JkZXItYm94O30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mbyAuc3VtbWFyeSB7Zm9udC1mYW1pbHk6Ik9wZW4gU2FucyIsIkhlbHZldGljYSBOZXVlIixIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjsgZm9udC1zaXplOjEzcHg7IGRpc3BsYXk6aW5saW5lLWJsb2NrO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mbyAuc3VtbWFyeSBkaXYge3BhZGRpbmc6MHB4IDhweDt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm8gLnN1bW1hcnkgLmluZGVudCB7cGFkZGluZzowOyBtYXJnaW4tYm90dG9tOjhweDt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm8gLnN1bW1hcnkgLmluZGVudDpsYXN0LWNoaWxkIHttYXJnaW4tYm90dG9tOjA7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLnJldmlld19pbmZvIC5zdW1tYXJ5IC5maXhlZCB7dGV4dC1hbGlnbjpyaWdodDt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm8gLnN1bW1hcnkgLnRvdCB7Y29sb3I6IzAwMDAwMDsgYmFja2dyb3VuZC1jb2xvcjojZWZlZmVmOyBiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNlZmVmZWYsICNjZmNmY2YpO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mbyAuaXRlbXNfd3JhcCB7cG9zaXRpb246cmVsYXRpdmU7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLnN1bW1hcnkgLmZpeGVkIHtkaXNwbGF5OmlubGluZS1ibG9jazsgcG9zaXRpb246cmVsYXRpdmU7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLnJldmlld19pbmZvIC5zdW1tYXJ5IC5pbmRlbnQ+ZGl2IHtkaXNwbGF5Om5vbmV9JysKCiAgICAgICAgICAgICcjdGltZWxpbmUgLnJldmlld19pbmZvW2RhdGEtbW9kZT0iaXRlbV90eXBlIl0gLnN1bW1hcnkgLml0ZW1fdHlwZSB7ZGlzcGxheTpibG9jazt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm9bZGF0YS1tb2RlPSJzcnNfc3RhZ2UiXSAuc3VtbWFyeSAuc3JzX3N0YWdlIHtkaXNwbGF5OmJsb2NrO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mb1tkYXRhLW1vZGU9ImxldmVsIl0gLnN1bW1hcnkgLmxldmVsIHtkaXNwbGF5OmJsb2NrO30nKwoKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm9bZGF0YS1tb2RlPSJjb3VudCJdIC5pdGVtX2xpc3QgPiBsaSB7YmFja2dyb3VuZC1jb2xvcjojZWVlOyBiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNlZmVmZWYsICNjZmNmY2YpOyBjb2xvcjojMDAwO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mb1tkYXRhLW1vZGU9ImNvdW50Il0gLml0ZW1fbGlzdCA+IGxpIHN2ZyB7c3Ryb2tlOiMwMDA7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLnJldmlld19pbmZvW2RhdGEtbW9kZT0iaXRlbV90eXBlIl0gLnJhZCB7YmFja2dyb3VuZC1jb2xvcjojMDA5NmU3OyBiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICMwYWYsICMwMDkzZGQpO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mb1tkYXRhLW1vZGU9Iml0ZW1fdHlwZSJdIC5rYW4ge2JhY2tncm91bmQtY29sb3I6I2VlMDBhMTsgYmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZjBhLCAjZGQwMDkzKTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm9bZGF0YS1tb2RlPSJpdGVtX3R5cGUiXSAudm9jIHtiYWNrZ3JvdW5kLWNvbG9yOiM5ODAwZTg7IGJhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI2EwZiwgIzkzMDBkZCk7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLnJldmlld19pbmZvW2RhdGEtbW9kZT0ic3JzX3N0YWdlIl0gLmFwcHIge2JhY2tncm91bmQtY29sb3I6I2RkMDA5MzsgYmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZmYwMGFhLCAjYjMwMDc3KTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm9bZGF0YS1tb2RlPSJzcnNfc3RhZ2UiXSAuZ3VydSB7YmFja2dyb3VuZC1jb2xvcjojODgyZDllOyBiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNhYTM4YzcsICM2NjIyNzcpO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mb1tkYXRhLW1vZGU9InNyc19zdGFnZSJdIC5tYXN0IHtiYWNrZ3JvdW5kLWNvbG9yOiMyOTRkZGI7IGJhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgIzUxNmVlMSwgIzIxNDJjNCk7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLnJldmlld19pbmZvW2RhdGEtbW9kZT0ic3JzX3N0YWdlIl0gLmVubGkge2JhY2tncm91bmQtY29sb3I6IzAwOTNkZDsgYmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjMDBhYWZmLCAjMDA3N2IzKTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm9bZGF0YS1tb2RlPSJzcnNfc3RhZ2UiXSAuYnVybiB7YmFja2dyb3VuZC1jb2xvcjojNDM0MzQzOyBiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICM0MzQzNDMsICMxYTFhMWEpO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mb1tkYXRhLW1vZGU9InNyc19zdGFnZSJdIGxpLmJ1cm4ge2JvcmRlcjoxcHggc29saWQgIzc3Nzt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm9bZGF0YS1tb2RlPSJsZXZlbCJdIC5sdmxncnAwIHtiYWNrZ3JvdW5kLWNvbG9yOiM1ZWI2ZTg7IGJhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgIzVlYjZlOCwgIzFkOGFjOSk7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLnJldmlld19pbmZvW2RhdGEtbW9kZT0ibGV2ZWwiXSAubHZsZ3JwMSB7YmFja2dyb3VuZC1jb2xvcjojZTI1ZWJjOyBiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNlMjVlYmMsICNjMjI0OTUpO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mb1tkYXRhLW1vZGU9ImxldmVsIl0gLmx2bGdycDIge2JhY2tncm91bmQtY29sb3I6I2FmNzljMzsgYmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjYWY3OWMzLCAjODc0NzllKTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm9bZGF0YS1tb2RlPSJsZXZlbCJdIC5sdmxncnAzIHtiYWNrZ3JvdW5kLWNvbG9yOiM3NjhjZTc7IGJhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgIzc2OGNlNywgIzI2NGFkOSk7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLnJldmlld19pbmZvW2RhdGEtbW9kZT0ibGV2ZWwiXSAubHZsZ3JwNCB7YmFja2dyb3VuZC1jb2xvcjojNWU1ZTY0OyBiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICM1ZTVlNjQsICMzMTMxMzUpO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5yZXZpZXdfaW5mb1tkYXRhLW1vZGU9ImxldmVsIl0gLmx2bGdycDUge2JhY2tncm91bmQtY29sb3I6I2Y1YzY2NzsgYmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZjVjNjY3LCAjZjBhNTBmKTsgY29sb3I6IzMzM30nKwoKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm9bZGF0YS1tb2RlPSJsZXZlbCJdIC5sdmxncnA1IHN2ZyB7c3Ryb2tlOiMzMzN9JysKCiAgICAgICAgICAgICcjdGltZWxpbmUgLnJldmlld19pbmZvIC5zdW1tYXJ5IC5pbmRlbnQ+LmN1ciB7ZGlzcGxheTpibG9jazsgZm9udC1zdHlsZTppdGFsaWM7IGNvbG9yOiMwMDAwMDA7IGJhY2tncm91bmQtY29sb3I6I2ZmZmY4ODsgYmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZmZmZmFhLCAjZWVlZTc3KTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm8gLnN1bW1hcnkgLmluZGVudD4uYnVyIHtkaXNwbGF5OmJsb2NrOyBmb250LXN0eWxlOml0YWxpYzsgY29sb3I6I2ZmZmZmZjsgYmFja2dyb3VuZC1jb2xvcjojMDAwMDAwOyBiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICM0NDQ0NDQsICMwMDAwMDApO30nKwoKICAgICAgICAgICAgJyN0aW1lbGluZSAuaXRlbV9saXN0IHttYXJnaW46IDhweCAwIDAgMDsgcGFkZGluZzogMHB4O30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIC5pdGVtX2xpc3QgPiBsaSB7cGFkZGluZzowIDNweDsgbWFyZ2luOjFweCAxcHg7IGRpc3BsYXk6aW5saW5lLWJsb2NrOyBib3JkZXItcmFkaXVzOjRweDsgZm9udC1zaXplOjE0cHg7IGZvbnQtd2VpZ2h0Om5vcm1hbDsgY3Vyc29yOmRlZmF1bHQ7IGJveC1zaXppbmc6Ym9yZGVyLWJveDsgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDAsMCwwLDApO30nKwoKICAgICAgICAgICAgJyN0aW1lbGluZVtkYXRhLWRldGFpbD0iZnVsbCJdIC5pdGVtX2xpc3QgPiBsaSB7Y3Vyc29yOnBvaW50ZXI7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLml0ZW1faW5mbyB7cG9zaXRpb246YWJzb2x1dGU7IGJhY2tncm91bmQ6IzMzMzsgYm9yZGVyOjhweCBzb2xpZCByZ2JhKDAsMCwwLDAuNyk7IGJvcmRlci1yYWRpdXM6NnB4OyBsZWZ0OjRweDsgcGFkZGluZzowIDhweDsgei1pbmRleDoxMDt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAuaXRlbV9pbmZvIC5pdGVtIHtmb250LXNpemU6MmVtOyBsaW5lLWhlaWdodDoxLjJlbTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSAucmV2aWV3X2luZm8gc3ZnLnJhZGljYWwge2ZpbGw6bm9uZTtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6ODU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlO3N0cm9rZS1taXRlcmxpbWl0OjI7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLml0ZW1fbGlzdCBzdmcucmFkaWNhbCB7d2lkdGg6MWVtOyB0cmFuc2Zvcm06dHJhbnNsYXRlWSgycHgpOyBzdHJva2Utd2lkdGg6ODU7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLml0ZW1faW5mbyAuaXRlbSBzdmcucmFkaWNhbCB7d2lkdGg6MjhweDsgdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMnB4KTt9JysKCiAgICAgICAgICAgICcjdGltZWxpbmUgLmRldGFpbF9idXR0b25zIHtkaXNwbGF5OmlubGluZS1ibG9jazsgdmVydGljYWwtYWxpZ246dG9wOyBtYXJnaW4tbGVmdDo4cHg7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgLmRldGFpbF9idXR0b25zIGJ1dHRvbiB7ZGlzcGxheTpibG9jazsgd2lkdGg6MTMwcHg7IHBhZGRpbmc6MDsgbWFyZ2luLWJvdHRvbToycHg7fScrCgogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyB7b3ZlcmZsb3c6aGlkZGVuO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyAuZ3JpZCB7cG9pbnRlci1ldmVudHM6bm9uZTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmdyaWQgcGF0aCB7ZmlsbDpub25lO3N0cm9rZTpibGFjaztzdHJva2UtbGluZWNhcDpzcXVhcmU7c2hhcGUtcmVuZGVyaW5nOmNyaXNwRWRnZXM7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5ncmlkIC5saWdodCB7c3Ryb2tlOiNmZmZmZmY7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5ncmlkIC5zaGFkb3cge3N0cm9rZTojZDVkNWQ1O30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyAuZ3JpZCAubWFqb3Ige29wYWNpdHk6MC4xNTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmdyaWQgLm1pbm9yIHtvcGFjaXR5OjAuMDU7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5ncmlkIC5yZWR0aWMge3N0cm9rZTojZjIyO29wYWNpdHk6MTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmdyaWQgLm1heCB7c3Ryb2tlOiNmMjI7b3BhY2l0eTowLjI7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5ib3VuZGFyeSB7ZmlsbDojMDAwO29wYWNpdHk6MDt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLnJlc2l6ZV9ncmlwIHtmaWxsOm5vbmU7Y3Vyc29yOnJvdy1yZXNpemU7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5yZXNpemVfZ3JpcCAubGlnaHQge3N0cm9rZTojZmZmZmZmO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyAucmVzaXplX2dyaXAgLnNoYWRvdyB7c3Ryb2tlOiNiYmI7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIHRleHQucmVkdGljIHtmaWxsOiNmMjI7Zm9udC13ZWlnaHQ6Ym9sZDt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmxhYmVsLXggdGV4dCB7dGV4dC1hbmNob3I6c3RhcnQ7Zm9udC1zaXplOjAuOGVtO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyAubGFiZWwteSB0ZXh0IHt0ZXh0LWFuY2hvcjplbmQ7Zm9udC1zaXplOjAuOGVtO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyB0ZXh0IHtwb2ludGVyLWV2ZW50czpub25lO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyAuYmFycyByZWN0IHtzdHJva2U6bm9uZTtzaGFwZS1yZW5kZXJpbmc6Y3Jpc3BFZGdlczt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmJhci5vdmVybGF5IHtvcGFjaXR5OjA7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5ia2dkIHtmaWxsOiNmN2Y3Zjc7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5yYWQge2ZpbGw6IzAwYTFmMTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmthbiB7ZmlsbDojZjEwMGExO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyAudm9jIHtmaWxsOiNhMTAwZjE7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5zdW0ge2ZpbGw6IzI5NGRkYjt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmFwcHIge2ZpbGw6I2RkMDA5Mzt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmd1cnUge2ZpbGw6Izg4MmQ5ZTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLm1hc3Qge2ZpbGw6IzI5NGRkYjt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmVubGkge2ZpbGw6IzAwOTNkZDt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmJ1cm4ge2ZpbGw6IzQzNDM0Mzt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmNvdW50IHtmaWxsOiM3NzhhZDg7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5sdmxncnAwIHtmaWxsOiM1ZWI2ZTg7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5sdmxncnAxIHtmaWxsOiNlMjVlYmM7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5sdmxncnAyIHtmaWxsOiNhZjc5YzM7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5sdmxncnAzIHtmaWxsOiM3NjhjZTc7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5sdmxncnA0IHtmaWxsOiM1ZTVlNjQ7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5sdmxncnA1IHtmaWxsOiNmNWM2Njc7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5iYXJzIC5jdXIge2ZpbGw6I2ZmZmZmZjtvcGFjaXR5OjAuNjt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmJhcnMgLmJ1ciB7ZmlsbDojMDAwMDAwO29wYWNpdHk6MC40O30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyAubWFya2VycyB7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNTt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLm1hcmtlcnMgLmJ1ciB7ZmlsbDojMDAwMDAwO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyAubWFya2VycyAuY3VyIHtmaWxsOiNmZmZmZmY7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnIC5oaWdobGlnaHQgLmJvdW5kYXJ5IHtjdXJzb3I6cG9pbnRlcjt9JysKICAgICAgICAgICAgJyN0aW1lbGluZVtkYXRhLWRldGFpbD0ibm9uZSJdIC5oaWdobGlnaHQgLmJvdW5kYXJ5IHtjdXJzb3I6YXV0bzt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmhpZ2hsaWdodCAubWFya2VyIHtwb2ludGVyLWV2ZW50czpub25lO3NoYXBlLXJlbmRlcmluZzpjcmlzcEVkZ2VzO30nKwogICAgICAgICAgICAnI3RpbWVsaW5lIHN2ZyAuaGlnaGxpZ2h0IHBhdGgubWFya2VyIHtmaWxsOiMwMGExZjE7IHN0cm9rZTojMDBhMWYxOyBzdHJva2Utd2lkdGg6Mjt9JysKICAgICAgICAgICAgJyN0aW1lbGluZSBzdmcgLmhpZ2hsaWdodCByZWN0Lm1hcmtlciB7ZmlsbDpyZ2JhKDAsMTYxLDI0MSwwLjEpOyBzdHJva2U6IzAwYTFmMTsgc3Ryb2tlLXdpZHRoOjE7fScrCiAgICAgICAgICAgICcjdGltZWxpbmUgc3ZnLmxpbms6aG92ZXIgKiB7ZmlsbDpyZ2IoMjU1LDMxLDMxKTt9JysKICAgICAgICAgICAgJ2JvZHkubXV0ZV9wb3BvdmVyIC5wb3BvdmVyLnNycyB7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fScrCiAgICAgICAgICAgICcnOwoKICAgICAgICAkKCdoZWFkJykuYXBwZW5kKCc8c3R5bGU+Jyt0aW1lbGluZV9jc3MrJzwvc3R5bGU+Jyk7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIFBsYWNlIHRoZSB0aW1lbGluZSBvbiB0aGUgZGFzaGJvYXJkLCBvciBhZGp1c3QgaXRzIGxvY2F0aW9uIG9uIHRoZSBwYWdlLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBwbGFjZV90aW1lbGluZShmaXJzdF90aW1lKSB7CiAgICAgICAgdmFyIHRpbWVsaW5lID0gKGZpcnN0X3RpbWUgPyAkKHRpbWVsaW5lX2h0bWwpIDogJCgnI3RpbWVsaW5lJykpOwogICAgICAgICQoJy5wcm9ncmVzcy1hbmQtZm9yZWNhc3QnKS5iZWZvcmUodGltZWxpbmUpOwogICAgICAgIGlmIChmaXJzdF90aW1lKSB7CiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgVUkgZnJvbSBzZXR0aW5ncwogICAgICAgICAgICBncmFwaC5lbGVtID0gdGltZWxpbmUuZmluZCgnLmdyYXBoX3BhbmVsJyk7CiAgICAgICAgICAgIGdyYXBoLnhfYXhpcy53aWR0aCA9IGdyYXBoLmVsZW0ud2lkdGgoKSAtIGdyYXBoLm1hcmdpbi5sZWZ0OwogICAgICAgICAgICBncmFwaC55X2F4aXMuaGVpZ2h0ID0gc2V0dGluZ3MuZ3JhcGhfaGVpZ2h0IC0gKGdyYXBoLm1hcmdpbi50b3AgKyBncmFwaC5tYXJnaW4uYm90dG9tKTsKICAgICAgICAgICAgdXBkYXRlX21pbmltaXplKCk7CiAgICAgICAgICAgIGluaXRfdWkoKTsKCiAgICAgICAgICAgIC8vIEluc3RhbGwgZXZlbnQgaGFuZGxlcnMKICAgICAgICAgICAgdGltZWxpbmUuZmluZCgnLmxpbmsub3BlbiwgLmxpbmsubWluaW1pemUnKS5vbignY2xpY2snLCB0b2dnbGVfbWluaW1pemUpOwogICAgICAgICAgICB0aW1lbGluZS5maW5kKCcubGluay5yZWZyZXNoJykub24oJ2NsaWNrJywgZmV0Y2hfYW5kX3VwZGF0ZSk7CiAgICAgICAgICAgIHRpbWVsaW5lLmZpbmQoJy5saW5rLnNldHRpbmdzJykub24oJ2NsaWNrJywgb3Blbl9zZXR0aW5ncyk7CiAgICAgICAgICAgIHRpbWVsaW5lLmZpbmQoJy5iYXJfc3R5bGUgc2VsZWN0Jykub24oJ2NoYW5nZScsIGJhcl9zdHlsZV9jaGFuZ2VkKTsKICAgICAgICAgICAgdGltZWxpbmUuZmluZCgnLnJhbmdlX2lucHV0Jykub24oJ2lucHV0IGNoYW5nZScsIGRheXNfY2hhbmdlZCk7CiAgICAgICAgICAgIHRpbWVsaW5lLmZpbmQoJy5yZXZpZXdfaW5mbz4uaW5uZXInKS5vbignbW91c2VlbnRlcicsICcuaXRlbV9saXN0ID4gbGknLCBpdGVtX2hvdmVyKTsKICAgICAgICAgICAgdGltZWxpbmUuZmluZCgnLnJldmlld19pbmZvPi5pbm5lcicpLm9uKCdtb3VzZWxlYXZlJywgJy5pdGVtX2xpc3QnLCBpdGVtX2hvdmVyKTsKICAgICAgICAgICAgdGltZWxpbmUuZmluZCgnLnJldmlld19pbmZvPi5pbm5lcicpLm9uKCdjbGljaycsICcuZGV0YWlsX2J1dHRvbnMgYnV0dG9uJywgZGV0YWlsX2J1dHRvbl9jbGlja2VkKTsKICAgICAgICAgICAgdGltZWxpbmUuZmluZCgnLnJldmlld19pbmZvPi5pbm5lcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO30pOwogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgd2luZG93X3Jlc2l6ZWQpOwogICAgICAgIH0KICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gVG9nZ2xlIHdoZXRoZXIgdGhlIHRpbWVsaW5lIGlzIG1pbmltaXplZC4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gdG9nZ2xlX21pbmltaXplKCkgewogICAgICAgIHNldHRpbmdzLm1pbmltaXplZCA9ICFzZXR0aW5ncy5taW5pbWl6ZWQ7CiAgICAgICAgdXBkYXRlX21pbmltaXplKCk7CiAgICAgICAgc2F2ZV9zZXR0aW5ncygpOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBIaWRlIG9yIHVuaGlkZSB0aGUgdGltZWxpbmUgd2hlbiB0aGUgdXNlciBtaW5pbWl6ZXMvcmVzdG9yZXMuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHVwZGF0ZV9taW5pbWl6ZSgpIHsKICAgICAgICB2YXIgdGltZWxpbmUgPSAkKCcjdGltZWxpbmUnKTsKICAgICAgICB2YXIgaXNfbWluID0gdGltZWxpbmUuaGFzQ2xhc3MoJ21pbicpOwogICAgICAgIGlmIChzZXR0aW5ncy5taW5pbWl6ZWQgJiYgIWlzX21pbikgewogICAgICAgICAgICB0aW1lbGluZS5hZGRDbGFzcygnbWluJyk7CiAgICAgICAgfSBlbHNlIGlmICghc2V0dGluZ3MubWluaW1pemVkICYmIGlzX21pbikgewogICAgICAgICAgICB0aW1lbGluZS5yZW1vdmVDbGFzcygnbWluJyk7CiAgICAgICAgfQogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBVcGRhdGUgdGhlIHRpbWVsaW5lIGFmdGVyIHRoZSB1c2VyIGNoYW5nZXMgdGhlIG51bWJlciBvZiBkYXlzIHRvIGRpc3BsYXkuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGRheXNfY2hhbmdlZCgpIHsKICAgICAgICB2YXIgZGF5cyA9IE51bWJlcigkKCcjdGltZWxpbmUgLnJhbmdlX2lucHV0JykudmFsKCkpOwogICAgICAgIGlmIChkYXlzID09PSBzZXR0aW5ncy5kYXlzKSByZXR1cm47CiAgICAgICAgc2V0dGluZ3MuZGF5cyA9IGRheXM7CiAgICAgICAgdXBkYXRlX3NsaWRlcl9kYXlzKCk7CiAgICAgICAgYnVuZGxlX2J5X3RpbWVzbG90KCk7CiAgICAgICAgdXBkYXRlX3NsaWRlcl9yZXZpZXdzKCk7CiAgICAgICAgZHJhd190aW1lbGluZSgpOwogICAgICAgIHNhdmVfc2V0dGluZ3MoKTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gSGFuZGxlciBmb3Igd2hlbiB1c2VyIGNoYW5nZXMgdGhlIEJhciBTdHlsZS4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gYmFyX3N0eWxlX2NoYW5nZWQoKSB7CiAgICAgICAgc2V0dGluZ3MuYmFyX3N0eWxlID0gJCgnI3RpbWVsaW5lIC5iYXJfc3R5bGUgc2VsZWN0IDpzZWxlY3RlZCcpLmF0dHIoJ25hbWUnKTsKICAgICAgICBkcmF3X3RpbWVsaW5lKCk7CiAgICAgICAgc2F2ZV9zZXR0aW5ncygpOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBIYW5kbGVyIGZvciB3aGVuIHVzZXIgY2xpY2tzICdTYXZlJyBpbiB0aGUgc2V0dGluZ3Mgd2luZG93LgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBzZXR0aW5nc19zYXZlZCgpIHsKICAgICAgICBzZXR0aW5ncyA9IHdrb2Yuc2V0dGluZ3MudGltZWxpbmU7CiAgICAgICAgcGxhY2VfdGltZWxpbmUoZmFsc2UgLyogZmlyc3RfdGltZSAqLyk7CiAgICAgICAgaW5pdF91aSgpOwogICAgICAgIGJ1bmRsZV9ieV90aW1lc2xvdCgpOwogICAgICAgIGRyYXdfdGltZWxpbmUoKTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gSW5pdGlhbGl6ZSB0aGUgdXNlciBpbnRlcmZhY2UuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGluaXRfdWkoKSB7CiAgICAgICAgaW5pdF9zbGlkZXIoKTsKICAgICAgICBpZiAoc2V0dGluZ3Muc2hvd19iYXJfc3R5bGVfZHJvcGRvd24pIHsKICAgICAgICAgICAgJCgnI3RpbWVsaW5lIC5iYXJfc3R5bGUnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJCgnI3RpbWVsaW5lIC5iYXJfc3R5bGUnKS5hZGRDbGFzcygnaGlkZGVuJyk7CiAgICAgICAgfQogICAgICAgICQoJyN0aW1lbGluZSAuYmFyX3N0eWxlIG9wdGlvbltuYW1lPSInK3NldHRpbmdzLmJhcl9zdHlsZSsnIl0nKS5wcm9wKCdzZWxlY3RlZCcsdHJ1ZSk7CiAgICAgICAgJCgnI3RpbWVsaW5lJykuYXR0cignZGF0YS1kZXRhaWwnLCBzZXR0aW5ncy5zaG93X3Jldmlld19kZXRhaWxzKTsKICAgICAgICAkKCcjdGltZWxpbmUgLnJldmlld19pbmZvJykuYXR0cignZGF0YS1tb2RlJywgc2V0dGluZ3MucmV2aWV3X2RldGFpbHNfc3VtbWFyeSk7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEluaXRpYWxpemUgdGhlIHNjYWxlIHNsaWRlci4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gaW5pdF9zbGlkZXIoKSB7CiAgICAgICAgdmFyIHJhbmdlID0gJCgnI3RpbWVsaW5lIC5yYW5nZV9pbnB1dCcpOwogICAgICAgIGlmIChzZXR0aW5ncy5kYXlzID4gc2V0dGluZ3MubWF4X2RheXMpIHsKICAgICAgICAgICAgc2V0dGluZ3MuZGF5cyA9IHNldHRpbmdzLm1heF9kYXlzOwogICAgICAgICAgICBzYXZlX3NldHRpbmdzKCk7CiAgICAgICAgfQogICAgICAgIHJhbmdlLmF0dHIoJ21heCcsIHNldHRpbmdzLm1heF9kYXlzKTsKICAgICAgICByYW5nZS5hdHRyKCd2YWx1ZScsIHNldHRpbmdzLmRheXMpOwogICAgICAgIHVwZGF0ZV9zbGlkZXJfZGF5cygpOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBVcGRhdGUgdGhlICdyZXZpZXdzJyB0ZXh0IG9mIHRoZSBzY2FsZSBzbGlkZXIuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHVwZGF0ZV9zbGlkZXJfcmV2aWV3cygpIHsKICAgICAgICB2YXIgcmV2aWV3X2NvdW50ID0gJCgnI3RpbWVsaW5lIC5yYW5nZV9yZXZpZXdzJyk7CiAgICAgICAgcmV2aWV3X2NvdW50LnRleHQoZ3JhcGgudG90YWxfcmV2aWV3cyk7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIFVwZGF0ZSB0aGUgJ2RheXMnIHRleHQgb2YgdGhlIHNjYWxlIHNsaWRlci4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gdXBkYXRlX3NsaWRlcl9kYXlzKCkgewogICAgICAgIHZhciBkYXlzID0gc2V0dGluZ3MuZGF5czsKICAgICAgICB2YXIgcGVyaW9kID0gJCgnI3RpbWVsaW5lIC5yYW5nZV9kYXlzJyk7CiAgICAgICAgaWYgKGRheXMgPD0gMSkgewogICAgICAgICAgICBwZXJpb2QudGV4dCgoZGF5cyoyNCkrJyBob3VycycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBlcmlvZC50ZXh0KGRheXMudG9GaXhlZCgyKSsnIGRheXMnKTsKICAgICAgICB9CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIFNhdmUgdGhlIHNjcmlwdCBzZXR0aW5ncyAoYWZ0ZXIgYSA1MDBtcyBkZWxheSkuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIHZhciBzYXZlX2RlbGF5X3RpbWVyOwogICAgZnVuY3Rpb24gc2F2ZV9zZXR0aW5ncygpIHsKICAgICAgICBpZiAoc2F2ZV9kZWxheV90aW1lciAhPT0gdW5kZWZpbmVkKSBjbGVhclRpbWVvdXQoc2F2ZV9kZWxheV90aW1lcik7CiAgICAgICAgc2F2ZV9kZWxheV90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgd2tvZi5TZXR0aW5ncy5zYXZlKCd0aW1lbGluZScpOwogICAgICAgIH0sIDUwMCk7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEhhbmRsZXIgZm9yIHJlc2l6aW5nIHRoZSBwYW5lbCBieSBkcmFnZ2luZyB0aGUgYm90dG9tIG9mIHRoZSBncmFwaC4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiByZXNpemVfcGFuZWwoZSkgewogICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuOwogICAgICAgIHZhciBwYW5lbCA9ICQoJyN0aW1lbGluZSA+IC5ncmFwaF9wYW5lbCcpOwogICAgICAgIHZhciBzdGFydF95ID0gZS5wYWdlWTsKICAgICAgICB2YXIgc3RhcnRfaGVpZ2h0ID0gc2V0dGluZ3MuZ3JhcGhfaGVpZ2h0OwogICAgICAgICQoJ2JvZHknKQogICAgICAgIC5hZGRDbGFzcygnbXV0ZV9wb3BvdmVyJykKICAgICAgICAub24oJ21vdXNlbW92ZS50aW1lbGluZV9yZXNpemUgdG91Y2htb3ZlLnRpbWVsaW5lX3Jlc2l6ZScsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc3RhcnRfaGVpZ2h0ICsgKGUucGFnZVkgLSBzdGFydF95KTsKICAgICAgICAgICAgaWYgKGhlaWdodCA8IGdyYXBoLnlfYXhpcy5taW5faGVpZ2h0KSBoZWlnaHQgPSBncmFwaC55X2F4aXMubWluX2hlaWdodDsKICAgICAgICAgICAgaWYgKGhlaWdodCA+IGdyYXBoLnlfYXhpcy5tYXhfaGVpZ2h0KSBoZWlnaHQgPSBncmFwaC55X2F4aXMubWF4X2hlaWdodDsKICAgICAgICAgICAgc2V0dGluZ3MuZ3JhcGhfaGVpZ2h0ID0gaGVpZ2h0OwogICAgICAgICAgICBncmFwaC55X2F4aXMuaGVpZ2h0ID0gaGVpZ2h0IC0gKGdyYXBoLm1hcmdpbi50b3AgKyBncmFwaC5tYXJnaW4uYm90dG9tKTsKICAgICAgICAgICAgZHJhd190aW1lbGluZSgpOwogICAgICAgIH0pCiAgICAgICAgLm9uKCdtb3VzZXVwLnRpbWVsaW5lX3Jlc2l6ZSB0b3VjaGVuZC50aW1lbGluZV9yZXNpemUnLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgc2F2ZV9zZXR0aW5ncygpOwogICAgICAgICAgICAkKCdib2R5Jykub2ZmKCcudGltZWxpbmVfcmVzaXplJykucmVtb3ZlQ2xhc3MoJ211dGVfcG9wb3ZlcicpOwogICAgICAgIH0pOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBFdmVudCBoYW5kbGVyIGZvciBob3ZlcmluZyBvdmVyIHRoZSB0aW1lIHNjYWxlIGZvciBoaWdobGlnaHRpbmcuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgdmFyIGhpZ2hsaWdodCA9IHtzdGFydDowLCBlbmQ6MCwgZHJhZ2dpbmc6ZmFsc2UsIGhpZ2hsaWdodGVkOiBmYWxzZX07CiAgICBmdW5jdGlvbiBoaWdobGlnaHRfaG92ZXIoZSkgewogICAgICAgIGlmIChzZXR0aW5ncy5zaG93X3Jldmlld19kZXRhaWxzID09PSAnbm9uZScpIHJldHVybjsKICAgICAgICBpZiAoaGlnaGxpZ2h0LmRyYWdnaW5nKSByZXR1cm4gdHJ1ZTsKICAgICAgICB2YXIgYnVuZGxlX2lkeCA9IG5lYXJlc3RfYnVuZGxlKGUucGFnZVgpOwogICAgICAgIHZhciB4OwogICAgICAgIHN3aXRjaCAoZS50eXBlKSB7CiAgICAgICAgICAgIGNhc2UgJ21vdXNlZW50ZXInOgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICdtb3VzZW1vdmUnOgogICAgICAgICAgICAgICAgaWYgKGhpZ2hsaWdodC5oaWdobGlnaHRlZCkgcmV0dXJuOwogICAgICAgICAgICAgICAgeCA9IGJ1bmRsZV90b194KGJ1bmRsZV9pZHgpOwogICAgICAgICAgICAgICAgJCgnI3RpbWVsaW5lIC5oaWdobGlnaHQgLm1hcmtlci5zdGFydCcpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyt4KycsMCknKTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAnbW91c2VsZWF2ZSc6CiAgICAgICAgICAgICAgICBpZiAoaGlnaGxpZ2h0LmRyYWdnaW5nIHx8IGhpZ2hsaWdodC5oaWdobGlnaHRlZCkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICBoaWRlX2hpZ2hsaWdodCgpOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICd0b3VjaHN0YXJ0JzoKICAgICAgICAgICAgY2FzZSAnbW91c2Vkb3duJzoKICAgICAgICAgICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkgcmV0dXJuOwogICAgICAgICAgICAgICAgaGlnaGxpZ2h0LmhpZ2hsaWdodGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGhpZ2hsaWdodC5kcmFnZ2luZyA9IHRydWU7CiAgICAgICAgICAgICAgICBoaWdobGlnaHQuc3RhcnQgPSBidW5kbGVfaWR4OwogICAgICAgICAgICAgICAgeCA9IGJ1bmRsZV90b194KGJ1bmRsZV9pZHgpOwogICAgICAgICAgICAgICAgJCgnI3RpbWVsaW5lIC5oaWdobGlnaHQgLm1hcmtlci5zdGFydCcpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyt4KycsMCknKTsKICAgICAgICAgICAgICAgICQoJyN0aW1lbGluZSAuaGlnaGxpZ2h0IC5tYXJrZXIuZW5kJykuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgtMTAwLDApJyk7CiAgICAgICAgICAgICAgICAkKCcjdGltZWxpbmUgLmhpZ2hsaWdodCByZWN0Lm1hcmtlcicpLmF0dHIoJ3dpZHRoJywwKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcreCsnLDApJyk7CiAgICAgICAgICAgICAgICAkKCdib2R5Jykub24oJ21vdXNlbW92ZS50aW1lbGluZV9oaWdobGlnaHQnLCBoaWdobGlnaHRfZHJhZyk7CiAgICAgICAgICAgICAgICAkKCdib2R5Jykub24oJ3RvdWNoZW5kLnRpbWVsaW5lX2hpZ2hsaWdodCBtb3VzZXVwLnRpbWVsaW5lX2hpZ2hsaWdodCcsIGhpZ2hsaWdodF9yZWxlYXNlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gRXZlbiBoYW5kbGVyIGZvciBkcmFnZ2luZyB3aGVuIGhpZ2hsaWdodGluZyBhIHRpbWUgcmFuZ2UuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gaGlnaGxpZ2h0X2RyYWcoZSkgewogICAgICAgIHZhciBidW5kbGVfaWR4ID0gbmVhcmVzdF9idW5kbGUoZS5wYWdlWCk7CiAgICAgICAgaGlnaGxpZ2h0LmVuZCA9IGJ1bmRsZV9pZHg7CiAgICAgICAgdmFyIHgxID0gYnVuZGxlX3RvX3goaGlnaGxpZ2h0LnN0YXJ0KTsKICAgICAgICB2YXIgeDIgPSBidW5kbGVfdG9feChoaWdobGlnaHQuZW5kKTsKICAgICAgICAkKCcjdGltZWxpbmUgLmhpZ2hsaWdodCAubWFya2VyLmVuZCcpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyt4MisnLDApJyk7CiAgICAgICAgJCgnI3RpbWVsaW5lIC5oaWdobGlnaHQgcmVjdC5tYXJrZXInKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcrTWF0aC5taW4oeDEseDIpKycuNSwwLjUpJykuYXR0cignd2lkdGgnLE1hdGguYWJzKHgyLXgxKSk7CiAgICAgICAgc2hvd19yZXZpZXdfaW5mbyhmYWxzZSAvKiBzdGlja3kgKi8pOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBFdmVudCBoYW5kbGVyIGZvciB0aGUgZW5kIG9mIGEgJ2RyYWcnIHdoZW4gaGlnaGxpZ2h0aW5nIGEgdGltZSByYW5nZS4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBoaWdobGlnaHRfcmVsZWFzZShlKSB7CiAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwKSByZXR1cm47CiAgICAgICAgaGlnaGxpZ2h0LmRyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgJCgnYm9keScpLm9mZignLnRpbWVsaW5lX2hpZ2hsaWdodCcpOwogICAgICAgIHZhciBidW5kbGVfaWR4ID0gbmVhcmVzdF9idW5kbGUoZS5wYWdlWCk7CiAgICAgICAgaGlnaGxpZ2h0LmVuZCA9IGJ1bmRsZV9pZHg7CiAgICAgICAgaWYgKGhpZ2hsaWdodC5zdGFydCA9PT0gaGlnaGxpZ2h0LmVuZCkgewogICAgICAgICAgICBoaWRlX2hpZ2hsaWdodCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciB4MSA9IGJ1bmRsZV90b194KE1hdGgubWluKGhpZ2hsaWdodC5zdGFydCwgaGlnaGxpZ2h0LmVuZCkpOwogICAgICAgICAgICB2YXIgeDIgPSBidW5kbGVfdG9feChNYXRoLm1heChoaWdobGlnaHQuc3RhcnQsIGhpZ2hsaWdodC5lbmQpKTsKICAgICAgICAgICAgJCgnI3RpbWVsaW5lIC5oaWdobGlnaHQgLm1hcmtlci5zdGFydCcpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyt4MSsnLDApJyk7CiAgICAgICAgICAgICQoJyN0aW1lbGluZSAuaGlnaGxpZ2h0IC5tYXJrZXIuZW5kJykuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnK3gyKycsMCknKTsKICAgICAgICAgICAgJCgnI3RpbWVsaW5lIC5oaWdobGlnaHQgcmVjdC5tYXJrZXInKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcreDErJy41LDAuNSknKS5hdHRyKCd3aWR0aCcseDIteDEpOwogICAgICAgICAgICBoaWdobGlnaHQuaGlnaGxpZ2h0ZWQgPSB0cnVlOwogICAgICAgICAgICBzaG93X3Jldmlld19pbmZvKHRydWUgLyogc3RpY2t5ICovKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBIaWRlIHRoZSB0aW1lbGluZSdzIGhpZ2hsaWdodCBjdXJzb3JzLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGhpZGVfaGlnaGxpZ2h0KCkgewogICAgICAgIGhpZ2hsaWdodC5zdGFydCA9IC0xOwogICAgICAgIGhpZ2hsaWdodC5lbmQgPSAtMTsKICAgICAgICBoaWdobGlnaHQuaGlnaGxpZ2h0ZWQgPSBmYWxzZTsKICAgICAgICAkKCcjdGltZWxpbmUgLmhpZ2hsaWdodCByZWN0Lm1hcmtlcicpLmF0dHIoJ3dpZHRoJywwKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKC0xMDAsMC41KScpOwogICAgICAgICQoJyN0aW1lbGluZSAuaGlnaGxpZ2h0IC5tYXJrZXIuc3RhcnQnKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKC0xMDAsMCknKTsKICAgICAgICAkKCcjdGltZWxpbmUgLmhpZ2hsaWdodCAubWFya2VyLmVuZCcpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoLTEwMCwwKScpOwogICAgICAgIGhpZGVfcmV2aWV3X2luZm8oKTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gbmVhcmVzdF9idW5kbGUoKQogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIG5lYXJlc3RfYnVuZGxlKHgpIHsKICAgICAgICB2YXIgcGFuZWxfbGVmdCA9IE1hdGguZmxvb3IoJCgnI3RpbWVsaW5lIC5ncmFwaF9wYW5lbCcpLm9mZnNldCgpLmxlZnQpOwogICAgICAgIHggLT0gcGFuZWxfbGVmdCArIGdyYXBoLm1hcmdpbi5sZWZ0OwogICAgICAgIGlmICh4IDwgMCkgeCA9IDA7CiAgICAgICAgdmFyIHRpYyA9IHggKiBncmFwaC54X2F4aXMubWF4X2hvdXJzIC8gZ3JhcGgueF9heGlzLndpZHRoOwogICAgICAgIHZhciBidW5kbGVfaWR4ID0gZ3JhcGgudGltZXNsb3RzW01hdGgubWluKGdyYXBoLnhfYXhpcy5tYXhfaG91cnMtMSwgTWF0aC5mbG9vcih0aWMpKV07CiAgICAgICAgdmFyIGJ1bmRsZSA9IGdyYXBoLmJ1bmRsZXNbYnVuZGxlX2lkeF07CiAgICAgICAgdmFyIHN0YXJ0ID0gYnVuZGxlLnN0YXJ0X3RpbWU7CiAgICAgICAgdmFyIGVuZCA9IGJ1bmRsZS5lbmRfdGltZTsKICAgICAgICByZXR1cm4gKHRpYyA8PSAoKHN0YXJ0K2VuZCkvMikgPyBidW5kbGVfaWR4IDogYnVuZGxlX2lkeCsxKTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gQ29udmVydCBhIGJ1bmRsZV9pZHggdG8gYSBncmFwaCBob3VyIG9mZnNldC4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBidW5kbGVfdG9fdGljKGJ1bmRsZV9pZHgpIHsKICAgICAgICBpZiAoYnVuZGxlX2lkeCA+PSBncmFwaC5idW5kbGVzLmxlbmd0aCkgcmV0dXJuIGdyYXBoLnhfYXhpcy5tYXhfaG91cnM7CiAgICAgICAgcmV0dXJuIGdyYXBoLmJ1bmRsZXNbYnVuZGxlX2lkeF0uc3RhcnRfdGltZTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gQ29udmVydCBhIGJ1bmRsZV9pZHggdG8gYSBncmFwaCBYIG9mZnNldC4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBidW5kbGVfdG9feChidW5kbGVfaWR4KSB7CiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoYnVuZGxlX3RvX3RpYyhidW5kbGVfaWR4KSAqIGdyYXBoLnRpY19zcGFjaW5nKTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gT3BlbiB0aGUgc2V0dGluZ3MgZGlhbG9nCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIG9wZW5fc2V0dGluZ3MoKSB7CiAgICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICAgICAgc2NyaXB0X2lkOiAndGltZWxpbmUnLAogICAgICAgICAgICB0aXRsZTogJ1VsdGltYXRlIFRpbWVsaW5lJywKICAgICAgICAgICAgb25fc2F2ZTogc2V0dGluZ3Nfc2F2ZWQsCiAgICAgICAgICAgIGNvbnRlbnQ6IHsKICAgICAgICAgICAgICAgIHRhYnM6IHt0eXBlOid0YWJzZXQnLCBjb250ZW50OiB7CiAgICAgICAgICAgICAgICAgICAgcGdHcmFwaDoge3R5cGU6J3BhZ2UnLCBsYWJlbDonR3JhcGgnLCBob3Zlcl90aXA6J0dyYXBoIFNldHRpbmdzJywgY29udGVudDogewogICAgICAgICAgICAgICAgICAgICAgICBncnBUaW1lOiB7dHlwZTonZ3JvdXAnLCBsYWJlbDonVGltZScsIGNvbnRlbnQ6ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZV9mb3JtYXQ6IHt0eXBlOidkcm9wZG93bicsIGxhYmVsOidUaW1lIEZvcm1hdCcsIGRlZmF1bHQ6JzEyaG91cicsIGNvbnRlbnQ6eycxMmhvdXInOicxMi1ob3VyJywnMjRob3VyJzonMjQtaG91cicsICdob3Vyc19vbmx5JzogJ0hvdXJzIG9ubHknfSwgaG92ZXJfdGlwOidEaXNwbGF5IHRpbWUgaW4gMTIgb3IgMjQtaG91ciBmb3JtYXQsIG9yIGhvdXJzLWZyb20tbm93Lid9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X2RheXM6IHt0eXBlOidudW1iZXInLCBsYWJlbDonU2xpZGVyIFJhbmdlIE1heCAoZGF5cyknLCBtaW46MSwgbWF4OjEyNSwgZGVmYXVsdDo3LCBob3Zlcl90aXA6J0Nob29zZSBtYXhpbXVtIHJhbmdlIG9mIHRoZSB0aW1lbGluZSBzbGlkZXIgKGluIGRheXMpLid9LAogICAgICAgICAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgICAgICAgICAgZ3JwQmFyczoge3R5cGU6J2dyb3VwJywgbGFiZWw6J0JhcnMnLCBjb250ZW50OnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heF9iYXJfd2lkdGg6IHt0eXBlOidudW1iZXInLCBsYWJlbDonTWF4IEJhciBXaWR0aCAocGl4ZWxzKScsIGRlZmF1bHQ6MCwgaG92ZXJfdGlwOidTZXQgdGhlIG1heGltdW0gYmFyIHdpZHRoIChpbiBwaXhlbHMpLlxuKDAgPSB1bmxpbWl0ZWQpJ30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhfYmFyX2hlaWdodDoge3R5cGU6J251bWJlcicsIGxhYmVsOidNYXggR3JhcGggSGVpZ2h0IChyZXZpZXdzKScsIGRlZmF1bHQ6MCwgaG92ZXJfdGlwOidTZXQgdGhlIG1heGltdW0gZ3JhcGggaGVpZ2h0IChpbiByZXZpZXdzKS5cbigwID0gdW5saW1pdGVkKVxuVXNlZnVsIGZvciB3aGVuIHlvdSBoYXZlIGEgaHVnZSBiYWNrbG9nLid9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRfYmFyX2hlaWdodDoge3R5cGU6J2NoZWNrYm94JywgbGFiZWw6J0ZvcmNlIEdyYXBoIHRvIE1heCBIZWlnaHQnLCBkZWZhdWx0OmZhbHNlLCBob3Zlcl90aXA6J0ZvcmNlIHRoZSBncmFwaCBoZWlnaHQgdG8gYWx3YXlzIGJlIHRoZSBNYXggR3JhcGggSGVpZ2h0LlxuVXNlZnVsIHdoZW4gbGltaXRpbmcgdGhlIG51bWJlciBvZiByZXZpZXdzIHlvdSBkbyBpbiBvbmUgc2l0dGluZy4nfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhcl9zdHlsZToge3R5cGU6J2Ryb3Bkb3duJywgbGFiZWw6J0JhciBTdHlsZScsIGRlZmF1bHQ6J2l0ZW1fdHlwZScsIGNvbnRlbnQ6eydjb3VudCc6J1JldmlldyBDb3VudCcsJ2l0ZW1fdHlwZSc6J0l0ZW0gVHlwZScsJ3Nyc19zdGFnZSc6J1NSUyBMZXZlbCcsJ2xldmVsJzonTGV2ZWwnfSwgaG92ZXJfdGlwOidDaG9vc2UgaG93IGJhcnMgYXJlIHN1YmRpdmlkZWQuJ30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcnNfY3Vycl9uZXh0OiB7dHlwZTonZHJvcGRvd24nLCBsYWJlbDonQ3VycmVudCAvIE5leHQgU1JTIExldmVsJywgZGVmYXVsdDonY3VycicsIGNvbnRlbnQ6eydjdXJyJzonQ3VycmVudCBTUlMgTGV2ZWwnLCduZXh0JzonTmV4dCBTUlMgTGV2ZWwnfSwgaG92ZXJfdGlwOidTZWxlY3Qgd2hldGhlciBTUlMgaXMgY29sb3ItY29kZWQgYnlcbmN1cnJlbnQgU1JTIGxldmVsLCBvciBuZXh0IFNSUyBsZXZlbC4nfSwKICAgICAgICAgICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICAgICAgICAgIGdycE1hcmtlcnM6IHt0eXBlOidncm91cCcsIGxhYmVsOidNYXJrZXJzJywgY29udGVudDp7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X2xldmVsX21hcmtlcnM6IHt0eXBlOidkcm9wZG93bicsIGxhYmVsOidDdXJyZW50IExldmVsIE1hcmtlcnMnLCBkZWZhdWx0Oidya3YnLCBjb250ZW50Onsnbm9uZSc6J05vbmUnLCdyayc6J1JhZCArIEthbicsJ3Jrdic6J1JhZCArIEthbiArIFZvYyd9LCBob3Zlcl90aXA6J1NlbGVjdCB3aGljaCBpdGVtIHR5cGVzIHdpbGwgdHJpZ2dlciBhIEN1cnJlbnQgTGV2ZWxcbm1hcmtlciBhdCB0aGUgYm90dG9tIG9mIHRoZSBncmFwaC4nfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1cm5fbWFya2Vyczoge3R5cGU6J2Ryb3Bkb3duJywgbGFiZWw6J0J1cm4gTWFya2VycycsIGRlZmF1bHQ6J3Nob3cnLCBjb250ZW50Onsnc2hvdyc6J1Nob3cnLCdoaWRlJzonSGlkZSd9LCBob3Zlcl90aXA6J1NlbGVjdCB3aGV0aGVyIEJ1cm4gbWFya2VycyBhcmUgc2hvd25cbmF0IHRoZSBib3R0b20gb2YgdGhlIGdyYXBoLid9LAogICAgICAgICAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgICAgICBwZ1Jldmlld0RldGFpbHM6IHt0eXBlOidwYWdlJywgbGFiZWw6J1JldmlldyBEZXRhaWxzJywgaG92ZXJfdGlwOidSZXZpZXcgRGV0YWlscyBQb3AtdXAnLCBjb250ZW50OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dfcmV2aWV3X2RldGFpbHM6IHt0eXBlOidkcm9wZG93bicsIGxhYmVsOidTaG93IFJldmlldyBEZXRhaWxzJywgZGVmYXVsdDonZnVsbCcsIGNvbnRlbnQ6eydub25lJzonTm9uZScsJ3N1bW1hcnknOidTdW1tYXJ5JywnaXRlbV9saXN0JzonSXRlbSBMaXN0JywnZnVsbCc6J0Z1bGwgSXRlbSBEZXRhaWxzJ30sIGhvdmVyX3RpcDonQ2hvb3NlIHRoZSBsZXZlbCBvZiBkZXRhaWwgdG8gZGlzcGxheVxud2hlbiBhIGJhciBvciB0aW1lIHJhbmdlIGlzIHNlbGVjdGVkLid9LAogICAgICAgICAgICAgICAgICAgICAgICByZXZpZXdfZGV0YWlsc19zdW1tYXJ5OiB7dHlwZTonZHJvcGRvd24nLCBsYWJlbDonUmV2aWV3IERldGFpbHMgU3VtbWFyeScsIGRlZmF1bHQ6J2l0ZW1fdHlwZScsIGNvbnRlbnQ6eydjb3VudCc6J1JldmlldyBDb3VudCcsJ2l0ZW1fdHlwZSc6J0l0ZW0gVHlwZScsJ3Nyc19zdGFnZSc6J1NSUyBMZXZlbCcsJ2xldmVsJzonTGV2ZWwnfSwgaG92ZXJfdGlwOidDaG9vc2Ugd2hpY2ggc3VtbWFyeSBpbmZvcm1hdGlvbiB0b1xuZGlzcGxheSBvbiB0aGUgUmV2aWV3IERldGFpbHMgcG9wLXVwLid9LAogICAgICAgICAgICAgICAgICAgICAgICByZXZpZXdfZGV0YWlsc19idXR0b25zOiB7dHlwZTonY2hlY2tib3gnLCBsYWJlbDonU2hvdyBSZXZpZXcgRGV0YWlscyBCdXR0b25zJywgZGVmYXVsdDp0cnVlLCBob3Zlcl90aXA6J1Nob3cgY29uZmlndXJhdGlvbiBidXR0b25zIG9uIFJldmlldyBEZXRhaWxzIHBvcC11cC4nfSwKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd19iYXJfc3R5bGVfZHJvcGRvd246IHt0eXBlOidjaGVja2JveCcsIGxhYmVsOidTaG93IEJhciBTdHlsZSBEcm9wZG93bicsIGRlZmF1bHQ6ZmFsc2UsIGhvdmVyX3RpcDonU2hvdyB0aGUgQmFyIFN0eWxlIGRyb3Bkb3duIGFib3ZlIHRoZSB0aW1lbGluZS4nfSwKICAgICAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB2YXIgc2V0dGluZ3NfZGlhbG9nID0gbmV3IHdrb2YuU2V0dGluZ3MoY29uZmlnKTsKICAgICAgICBzZXR0aW5nc19kaWFsb2cub3BlbigpOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBob3VycyBwZXIgYmFyLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBnZXRfaG91cnNfcGVyX2JhcigpIHsKICAgICAgICBncmFwaC54X2F4aXMud2lkdGggPSBncmFwaC5lbGVtLndpZHRoKCkgLSBncmFwaC5tYXJnaW4ubGVmdDsKICAgICAgICBncmFwaC54X2F4aXMubWF4X2hvdXJzID0gTWF0aC5yb3VuZChzZXR0aW5ncy5kYXlzICogMjQpOwoKICAgICAgICAvLyBObyBtb3JlIHRoYW4gMSBsYWJlbCBldmVyeSA1MCBwaXhlbHMKICAgICAgICB2YXIgbWluX3BpeGVsc19wZXJfbGFiZWwgPSA1MDsKICAgICAgICBncmFwaC5taW5faG91cnNfcGVyX2xhYmVsID0gbWluX3BpeGVsc19wZXJfbGFiZWwgKiBncmFwaC54X2F4aXMubWF4X2hvdXJzIC8gZ3JhcGgueF9heGlzLndpZHRoOwogICAgICAgIHhzY2FsZS5pZHggPSAwOwogICAgICAgIHdoaWxlICgoeHNjYWxlLmhvdXJzX3Blcl9sYWJlbFt4c2NhbGUuaWR4XSA8PSBncmFwaC5taW5faG91cnNfcGVyX2xhYmVsKSAmJgogICAgICAgICAgICAgICAoeHNjYWxlLmlkeCA8IHhzY2FsZS5ob3Vyc19wZXJfbGFiZWwubGVuZ3RoLTEpKSB7CiAgICAgICAgICAgIHhzY2FsZS5pZHgrKzsKICAgICAgICB9CgogICAgICAgIHJldHVybiB4c2NhbGUuYnVuZGxlX2Nob2ljZXNbeHNjYWxlLmlkeF07CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIE1hcCBsZXR0ZXJzIGluIHRoZSB4c2NhbGUgY2hhcnQgdG8gY29ycmVzcG9uZGluZyBsYWJlbC1nZW5lcmF0aW5nIGZ1bmN0aW9ucy4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgdmFyIGxhYmVsX2Z1bmN0aW9ucyA9IHsKICAgICAgICAnbSc6IG1vbnRoX2xhYmVsLAogICAgICAgICd3Jzogd2Vla19sYWJlbCwKICAgICAgICAnRCc6IG1kYXlfbGFiZWwsCiAgICAgICAgJ2QnOiBkYXlfbGFiZWwsCiAgICAgICAgJ2gnOiBob3VyX2xhYmVsLAogICAgICAgICctJzogbm9fbGFiZWwsCiAgICB9OwoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBGdW5jdGlvbnMgZm9yIGdlbmVyYXRpbmcgdGltZS1zY2FsZSBsYWJlbHMKICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gbW9udGhfbGFiZWwoZGF0ZSwgcXR5LCB1c2Vfc2hvcnQpIHsKICAgICAgICBpZiAoZGF0ZS5nZXRIb3VycygpICE9PSAwIHx8IGRhdGUuZ2V0RGF0ZSgpICE9PSAxKSByZXR1cm47CiAgICAgICAgcmV0dXJuIFsnSmFuJywnRmViJywnTWFyJywnQXByJywnTWF5JywnSnVuJywnSnVsJywnQXVnJywnU2VwJywnT2N0JywnTm92JywnRGVjJ11bZGF0ZS5nZXRNb250aCgpXTsKICAgIH0KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gd2Vla19sYWJlbChkYXRlLCBxdHksIHVzZV9zaG9ydCkgewogICAgICAgIGlmIChkYXRlLmdldEhvdXJzKCkgIT09IDAgfHwgZGF0ZS5nZXREYXkoKSAhPT0gMCkgcmV0dXJuOwogICAgICAgIHJldHVybiAodXNlX3Nob3J0ID8gJ1MnIDogJ1N1bicpOwogICAgfQogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBtZGF5X2xhYmVsKGRhdGUsIHF0eSwgdXNlX3Nob3J0KSB7CiAgICAgICAgaWYgKGRhdGUuZ2V0SG91cnMoKSAhPT0gMCkgcmV0dXJuOwogICAgICAgIHZhciBtZGF5ID0gZGF0ZS5nZXREYXRlKCk7CiAgICAgICAgaWYgKG1kYXkgJSBxdHkgIT09IDApIHJldHVybjsKICAgICAgICByZXR1cm4gbWRheTsKICAgIH0KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gZGF5X2xhYmVsKGRhdGUsIHF0eSwgdXNlX3Nob3J0KSB7CiAgICAgICAgaWYgKGRhdGUuZ2V0SG91cnMoKSAhPT0gMCkgcmV0dXJuOwogICAgICAgIHZhciBsYWJlbCA9IFsnU3VuJywnTW9uJywnVHVlJywnV2VkJywnVGh1JywnRnJpJywnU2F0J11bZGF0ZS5nZXREYXkoKV07CiAgICAgICAgcmV0dXJuICh1c2Vfc2hvcnQgPyBsYWJlbFswXSA6IGxhYmVsKTsKICAgIH0KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gaG91cl9sYWJlbChkYXRlLCBxdHksIHVzZV9zaG9ydCkgewogICAgICAgIHZhciBoaCA9IGRhdGUuZ2V0SG91cnMoKTsKICAgICAgICBpZiAoKGhoICUgcXR5KSAhPT0gMCkgcmV0dXJuOwogICAgICAgIGlmIChzZXR0aW5ncy50aW1lX2Zvcm1hdCA9PT0gJzI0aG91cicpIHsKICAgICAgICAgICAgcmV0dXJuICgnMCcraGgrJzowMCcpLnNsaWNlKC01KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gKCgoaGggKyAxMSkgJSAxMikgKyAxKSArICdhcCdbTWF0aC5mbG9vcihoaC8xMildICsgJ20nOwogICAgICAgIH0KICAgIH0KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gaG91cl9vbmx5X2xhYmVsKGRhdGUsIHF0eSwgdXNlX3Nob3J0LCB0aWNfaWR4KSB7CiAgICAgICAgaWYgKHRpY19pZHggJSBxdHkgIT09IDApIHJldHVybjsKICAgICAgICByZXR1cm4gdGljX2lkeCArICh1c2Vfc2hvcnQgPyAnaCcgOiAnIGhycycpOwogICAgfQoKICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gbm9fbGFiZWwoKSB7cmV0dXJuO30KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBEcmF3IHRoZSB0aW1lbGluZQogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBkcmF3X3RpbWVsaW5lKCkgewogICAgICAgIHZhciBwYW5lbCA9IGdyYXBoLmVsZW0sCiAgICAgICAgICAgIHBhbmVsX2hlaWdodCA9IHNldHRpbmdzLmdyYXBoX2hlaWdodCwKICAgICAgICAgICAgcGFuZWxfd2lkdGggPSBncmFwaC5lbGVtLndpZHRoKCksCiAgICAgICAgICAgIGdyYXBoX2hlaWdodCA9IHBhbmVsX2hlaWdodCAtIChncmFwaC5tYXJnaW4udG9wICsgZ3JhcGgubWFyZ2luLmJvdHRvbSk7CgogICAgICAgIHZhciBtYXRjaCA9IHhzY2FsZS5yZWRfdGljX2Nob2ljZXNbeHNjYWxlLmlkeF0ubWF0Y2goL14oXGQqKSguKShzPykkLyk7CiAgICAgICAgdmFyIHJlZF9xdHkgPSBOdW1iZXIobWF0Y2hbMV0pOwogICAgICAgIHZhciByZWRfZnVuYyA9IGxhYmVsX2Z1bmN0aW9uc1ttYXRjaFsyXV07CiAgICAgICAgdmFyIHJlZF91c2Vfc2hvcnQgPSAobWF0Y2hbM10gPT09ICdzJyk7CgogICAgICAgIG1hdGNoID0geHNjYWxlLm1ham9yX3RpY19jaG9pY2VzW3hzY2FsZS5pZHhdLm1hdGNoKC9eKFxkKikoLikocz8pJC8pOwogICAgICAgIHZhciBtYWpfcXR5ID0gTnVtYmVyKG1hdGNoWzFdKTsKICAgICAgICB2YXIgbWFqX2Z1bmMgPSBsYWJlbF9mdW5jdGlvbnNbbWF0Y2hbMl1dOwogICAgICAgIHZhciBtYWpfdXNlX3Nob3J0ID0gKG1hdGNoWzNdID09PSAncycpOwoKICAgICAgICBtYXRjaCA9IHhzY2FsZS5taW5vcl90aWNfY2hvaWNlc1t4c2NhbGUuaWR4XS5tYXRjaCgvXihcZCopKC4pKHM/KSQvKTsKICAgICAgICB2YXIgbWluX3F0eSA9IE51bWJlcihtYXRjaFsxXSk7CiAgICAgICAgdmFyIG1pbl9mdW5jID0gbGFiZWxfZnVuY3Rpb25zW21hdGNoWzJdXTsKICAgICAgICB2YXIgbWluX3VzZV9zaG9ydCA9IChtYXRjaFszXSA9PT0gJ3MnKTsKCiAgICAgICAgaWYgKHNldHRpbmdzLnRpbWVfZm9ybWF0ID09PSAnaG91cnNfb25seScpIHsKICAgICAgICAgICAgcmVkX2Z1bmMgPSBmdW5jdGlvbigpIHtyZXR1cm4gMDt9OwogICAgICAgICAgICBtYWpfZnVuYyA9IGhvdXJfb25seV9sYWJlbDsKICAgICAgICAgICAgbWluX2Z1bmMgPSBob3VyX29ubHlfbGFiZWw7CiAgICAgICAgfQoKICAgICAgICB2YXIgYnVuZGxlX3NpemUgPSB4c2NhbGUuYnVuZGxlX2Nob2ljZXNbeHNjYWxlLmlkeF07CgogICAgICAgIC8vIFN0cmluZyBmb3IgYnVpbGRpbmcgaHRtbC4KICAgICAgICB2YXIgZ3JpZCA9ICcnOwogICAgICAgIHZhciBsYWJlbF94ID0gW107CiAgICAgICAgdmFyIGxhYmVsX3kgPSAnJzsKICAgICAgICB2YXIgYmFycyA9ICcnLCBiYXJfb3ZlcmxheXMgPSAnJzsKICAgICAgICB2YXIgbWFya2VycyA9ICcnOwoKICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vIERyYXcgdmVydGljYWwgYXhpcyBncmlkCgogICAgICAgIC8vIENhbGN1bGF0ZSBtYWpvciBhbmQgbWlub3IgdmVydGljYWwgZ3JhcGggdGljcy4KICAgICAgICB2YXIgaW5jX3MgPSAxLCBpbmNfbCA9IDU7CiAgICAgICAgdmFyIG1heF9yZXZpZXdzID0gZ3JhcGgubWF4X3Jldmlld3M7CiAgICAgICAgaWYgKHNldHRpbmdzLm1heF9iYXJfaGVpZ2h0ID4gMCkgewogICAgICAgICAgICBpZiAoc2V0dGluZ3MuZml4ZWRfYmFyX2hlaWdodCB8fCAobWF4X3Jldmlld3MgPiBzZXR0aW5ncy5tYXhfYmFyX2hlaWdodCkpIG1heF9yZXZpZXdzID0gc2V0dGluZ3MubWF4X2Jhcl9oZWlnaHQ7CiAgICAgICAgfQogICAgICAgIHdoaWxlIChNYXRoLmNlaWwobWF4X3Jldmlld3MgLyBpbmNfcykgPiA1KSB7CiAgICAgICAgICAgIHN3aXRjaCAoaW5jX3MudG9TdHJpbmcoKVswXSkgewogICAgICAgICAgICAgICAgY2FzZSAnMSc6IGluY19zICo9IDI7IGluY19sICo9IDI7IGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnMic6IGluY19zID0gTWF0aC5yb3VuZCgyLjUgKiBpbmNfcyk7IGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnNSc6IGluY19zICo9IDI7IGluY19sICo9IDU7IGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBEcmF3IHZlcnRpY2FsIGdyYXBoIHRpY3MgKCMgb2YgUmV2aWV3cykuCiAgICAgICAgdmFyIHRpY19jbGFzcywgeTsKICAgICAgICBncmFwaC55X2F4aXMubWF4X3Jldmlld3MgPSBNYXRoLm1heCgzLCBNYXRoLmNlaWwobWF4X3Jldmlld3MgLyBpbmNfcykgKiBpbmNfcyk7CiAgICAgICAgZm9yICh2YXIgdGljID0gMDsgdGljIDw9IGdyYXBoLnlfYXhpcy5tYXhfcmV2aWV3czsgdGljICs9IGluY19zKSB7CiAgICAgICAgICAgIHRpY19jbGFzcyA9ICgodGljICUgaW5jX2wpID09PSAwID8gJ21ham9yJyA6ICdtaW5vcicpOwogICAgICAgICAgICB5ID0gKGdyYXBoLm1hcmdpbi50b3AgKyBncmFwaF9oZWlnaHQpIC0gTWF0aC5yb3VuZChncmFwaF9oZWlnaHQgKiAodGljIC8gZ3JhcGgueV9heGlzLm1heF9yZXZpZXdzKSk7CiAgICAgICAgICAgIGlmICh0aWMgPiAwKSB7CiAgICAgICAgICAgICAgICBncmlkICs9ICc8cGF0aCBjbGFzcz0iJyt0aWNfY2xhc3MrJyIgZD0iTScrZ3JhcGgubWFyZ2luLmxlZnQrJywnK3krJ2gnK2dyYXBoLnhfYXhpcy53aWR0aCsnIiAvPic7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGFiZWxfeSArPSAnPHRleHQgY2xhc3M9IicrdGljX2NsYXNzKyciIHg9IicrKGdyYXBoLm1hcmdpbi5sZWZ0LTQpKyciIHk9IicreSsnIiBkeT0iMC40ZW0iPicrdGljKyc8L3RleHQ+JzsKICAgICAgICB9CgogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8gRHJhdyBob3Jpem9udGFsIGF4aXMgZ3JpZAoKICAgICAgICBncmFwaC50aWNfc3BhY2luZyA9IChncmFwaC54X2F4aXMud2lkdGgpIC8gKGdyYXBoLnhfYXhpcy5tYXhfaG91cnMpOyAvLyBXaWR0aCBvZiBhIHRpbWUgc2xvdC4KICAgICAgICB2YXIgcHJldl9sYWJlbCA9IC05ZTEwOwogICAgICAgIGZvciAodmFyIHRpY19pZHggPSAwOyB0aWNfaWR4IDwgZ3JhcGgueF9heGlzLm1heF9ob3VyczsgdGljX2lkeCsrKSB7CiAgICAgICAgICAgIHZhciB0aW1lID0gbmV3IERhdGUoZ3JhcGguc3RhcnRfdGltZS5nZXRUaW1lKCkgKyB0aWNfaWR4ICogMzYwMDAwMCk7CgogICAgICAgICAgICB2YXIgcmVkX2xhYmVsID0gcmVkX2Z1bmModGltZSwgcmVkX3F0eSwgcmVkX3VzZV9zaG9ydCwgdGljX2lkeCk7CiAgICAgICAgICAgIHZhciBtYWpfbGFiZWwgPSBtYWpfZnVuYyh0aW1lLCBtYWpfcXR5LCBtYWpfdXNlX3Nob3J0LCB0aWNfaWR4KTsKICAgICAgICAgICAgdmFyIG1pbl9sYWJlbCA9IG1pbl9mdW5jKHRpbWUsIG1pbl9xdHksIG1pbl91c2Vfc2hvcnQsIHRpY19pZHgpOwoKICAgICAgICAgICAgdmFyIHggPSBncmFwaC5tYXJnaW4ubGVmdCArIE1hdGgucm91bmQoKHRpY19pZHggLSB0aW1lX3NoaWZ0LzYwKSAqIGdyYXBoLnRpY19zcGFjaW5nKTsKICAgICAgICAgICAgdmFyIGxhYmVsOwogICAgICAgICAgICBpZiAocmVkX2xhYmVsKSB7CiAgICAgICAgICAgICAgICBpZiAodGljX2lkeCA+IDApIGdyaWQgKz0gJzxwYXRoIGNsYXNzPSJyZWR0aWMiIGQ9Ik0nK3grJywwdicrKGdyYXBoLm1hcmdpbi50b3ArZ3JhcGhfaGVpZ2h0LTEpKyciIC8+JzsKICAgICAgICAgICAgICAgIGlmICghbWFqX3VzZV9zaG9ydCAmJiB0aWNfaWR4IC0gcHJldl9sYWJlbCA8IGdyYXBoLm1pbl9ob3Vyc19wZXJfbGFiZWwqMC41OCkgbGFiZWxfeC5wb3AoKTsKICAgICAgICAgICAgICAgIGxhYmVsX3gucHVzaCgnPHRleHQgY2xhc3M9InJlZHRpYyIgeD0iJysoeCs0KSsnIiB5PSInKyhncmFwaC5tYXJnaW4udG9wLTgpKyciPicrcmVkX2xhYmVsKyc8L3RleHQ+Jyk7CiAgICAgICAgICAgICAgICBwcmV2X2xhYmVsID0gdGljX2lkeDsKICAgICAgICAgICAgfSBlbHNlIGlmIChtYWpfbGFiZWwpIHsKICAgICAgICAgICAgICAgIGlmICh0aWNfaWR4ID4gMCkgZ3JpZCArPSAnPHBhdGggY2xhc3M9Im1ham9yIiBkPSJNJyt4KycsMHYnKyhncmFwaC5tYXJnaW4udG9wK2dyYXBoX2hlaWdodC0xKSsnIiAvPic7CiAgICAgICAgICAgICAgICBpZiAobWFqX3VzZV9zaG9ydCB8fCB0aWNfaWR4IC0gcHJldl9sYWJlbCA+IGdyYXBoLm1pbl9ob3Vyc19wZXJfbGFiZWwqMC41OCkgewogICAgICAgICAgICAgICAgICAgIGxhYmVsX3gucHVzaCgnPHRleHQgY2xhc3M9Im1ham9yIiB4PSInKyh4KzQpKyciIHk9IicrKGdyYXBoLm1hcmdpbi50b3AtOCkrJyI+JyttYWpfbGFiZWwrJzwvdGV4dD4nKTsKICAgICAgICAgICAgICAgICAgICBwcmV2X2xhYmVsID0gdGljX2lkeDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChtaW5fbGFiZWwpIHsKICAgICAgICAgICAgICAgIGlmICh0aWNfaWR4ID4gMCkgZ3JpZCArPSAnPHBhdGggY2xhc3M9Im1pbm9yIiBkPSJNJyt4KycsJysoZ3JhcGgubWFyZ2luLnRvcC02KSsndicrKGdyYXBoX2hlaWdodCs2KSsnIiAvPic7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8gRHJhdyBiYXJzCgogICAgICAgIHZhciBtaW5fYmFyX2hlaWdodCA9IE1hdGguY2VpbChncmFwaC55X2F4aXMubWF4X3Jldmlld3MgLyBncmFwaC55X2F4aXMuaGVpZ2h0KTsKICAgICAgICBmb3IgKHZhciBidW5kbGVfaWR4IGluIGdyYXBoLmJ1bmRsZXMpIHsKICAgICAgICAgICAgdmFyIGJ1bmRsZSA9IGdyYXBoLmJ1bmRsZXNbYnVuZGxlX2lkeF07CiAgICAgICAgICAgIHZhciBiYXJfcGFydHMgPSBbXTsKICAgICAgICAgICAgdmFyIHN0YXRzID0gYnVuZGxlLnN0YXRzOwoKICAgICAgICAgICAgdmFyIHgxID0gTWF0aC5yb3VuZChidW5kbGUuc3RhcnRfdGltZSAqIGdyYXBoLnRpY19zcGFjaW5nKTsKICAgICAgICAgICAgdmFyIHgyID0gTWF0aC5yb3VuZChidW5kbGUuZW5kX3RpbWUgKiBncmFwaC50aWNfc3BhY2luZyk7CiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5tYXhfYmFyX3dpZHRoID4gMCkgeDIgPSBNYXRoLm1pbih4MSArIHNldHRpbmdzLm1heF9iYXJfd2lkdGgsIHgyKTsKCiAgICAgICAgICAgIHN3aXRjaCAoc2V0dGluZ3MuYmFyX3N0eWxlKSB7CiAgICAgICAgICAgICAgICBjYXNlICdjb3VudCc6CiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRzLmNvdW50KSBiYXJfcGFydHMucHVzaCh7Y2xhc3M6J2NvdW50JywgaGVpZ2h0OnN0YXRzLmNvdW50fSk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAnaXRlbV90eXBlJzoKICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHMucmFkKSBiYXJfcGFydHMucHVzaCh7Y2xhc3M6J3JhZCcsIGhlaWdodDpzdGF0cy5yYWR9KTsKICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHMua2FuKSBiYXJfcGFydHMucHVzaCh7Y2xhc3M6J2thbicsIGhlaWdodDpzdGF0cy5rYW59KTsKICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHMudm9jKSBiYXJfcGFydHMucHVzaCh7Y2xhc3M6J3ZvYycsIGhlaWdodDpzdGF0cy52b2N9KTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlICdzcnNfc3RhZ2UnOgogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0cy5hcHByKSBiYXJfcGFydHMucHVzaCh7Y2xhc3M6J2FwcHInLCBoZWlnaHQ6c3RhdHMuYXBwcn0pOwogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0cy5ndXJ1KSBiYXJfcGFydHMucHVzaCh7Y2xhc3M6J2d1cnUnLCBoZWlnaHQ6c3RhdHMuZ3VydX0pOwogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0cy5tYXN0KSBiYXJfcGFydHMucHVzaCh7Y2xhc3M6J21hc3QnLCBoZWlnaHQ6c3RhdHMubWFzdH0pOwogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0cy5lbmxpKSBiYXJfcGFydHMucHVzaCh7Y2xhc3M6J2VubGknLCBoZWlnaHQ6c3RhdHMuZW5saX0pOwogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0cy5idXJuKSBiYXJfcGFydHMucHVzaCh7Y2xhc3M6J2J1cm4nLCBoZWlnaHQ6c3RhdHMuYnVybn0pOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgJ2xldmVsJzoKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBncnBfaWR4ID0gMDsgZ3JwX2lkeCA8PSA1OyBncnBfaWR4KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdycF9uYW1lID0gJ2x2bGdycCcrZ3JwX2lkeDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRzW2dycF9uYW1lXSkgYmFyX3BhcnRzLnB1c2goe2NsYXNzOidsdmxncnAnK2dycF9pZHgsIGhlaWdodDpzdGF0c1tncnBfbmFtZV19KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGJhcl9vZmZzZXQgPSAwOwogICAgICAgICAgICBmb3IgKHZhciBwYXJ0X2lkeCBpbiBiYXJfcGFydHMpIHsKICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gYmFyX3BhcnRzW3BhcnRfaWR4XTsKICAgICAgICAgICAgICAgIGlmICgocGFydF9pZHggPT0gYmFyX3BhcnRzLmxlbmd0aC0xKSAmJiAoYmFyX29mZnNldCArIHBhcnQuaGVpZ2h0IDwgbWluX2Jhcl9oZWlnaHQpKSB7CiAgICAgICAgICAgICAgICAgICAgcGFydC5oZWlnaHQgPSBtaW5fYmFyX2hlaWdodCAtIGJhcl9vZmZzZXQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBiYXJzICs9ICc8cmVjdCBjbGFzcz0iYmFyICcrcGFydC5jbGFzcysnIiB4PSInKyh4MSsxKSsnIiB5PSInK2Jhcl9vZmZzZXQrJyIgd2lkdGg9IicrKHgyLXgxLTMpKyciIGhlaWdodD0iJytwYXJ0LmhlaWdodCsnIiAvPic7CiAgICAgICAgICAgICAgICBiYXJfb2Zmc2V0ICs9IHBhcnQuaGVpZ2h0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChiYXJfcGFydHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgYmFyX292ZXJsYXlzICs9ICc8cmVjdCBjbGFzcz0iYmFyIG92ZXJsYXkiIHg9IicreDErJyIgeT0iMCIgd2lkdGg9IicrKHgyLXgxKSsnIiBoZWlnaHQ9IicrZ3JhcGgueV9heGlzLm1heF9yZXZpZXdzKyciIGRhdGEtYnVuZGxlPSInK2J1bmRsZV9pZHgrJyIgLz4nOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgbWFya2VyX3g7CiAgICAgICAgICAgIG1hcmtlcl94ID0gZ3JhcGgubWFyZ2luLmxlZnQgKyBNYXRoLmZsb29yKCh4MSt4MikvMik7CiAgICAgICAgICAgIGlmIChidW5kbGUuc3RhdHMuaGFzX2N1cnJfbWFya2VyICYmIHNldHRpbmdzLmN1cnJlbnRfbGV2ZWxfbWFya2VycyAhPT0gJ25vbmUnKSB7CiAgICAgICAgICAgICAgICBtYXJrZXJzICs9ICc8cGF0aCBjbGFzcz0iY3VyIiBkPSJNJyttYXJrZXJfeCsnLCcrKGdyYXBoLm1hcmdpbi50b3ArZ3JhcGhfaGVpZ2h0KzEpKydsLTMsNmg2eiIgLz4nOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICggYnVuZGxlLnN0YXRzLmJ1cm5fY291bnQgPiAwICYmIHNldHRpbmdzLmJ1cm5fbWFya2VycyA9PT0gJ3Nob3cnKSB7CiAgICAgICAgICAgICAgICBtYXJrZXJzICs9ICc8cGF0aCBjbGFzcz0iYnVyIiBkPSJNJyttYXJrZXJfeCsnLCcrKGdyYXBoLm1hcmdpbi50b3ArZ3JhcGhfaGVpZ2h0KzgpKydsLTMsNmg2eiIgLz4nOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vIEFzc2VtYmxlIHRoZSBIVE1MCgogICAgICAgIHBhbmVsLmh0bWwoCiAgICAgICAgICAgICc8c3ZnIGNsYXNzPSJncmFwaCBub3NlbGVjdCIgd2lkdGg9IicrcGFuZWxfd2lkdGgrJyIgaGVpZ2h0PSInK3BhbmVsX2hlaWdodCsnIj4nKwogICAgICAgICAgICAnICA8cmVjdCBjbGFzcz0iYmtnZCIgeD0iJytncmFwaC5tYXJnaW4ubGVmdCsnIiB5PSInK2dyYXBoLm1hcmdpbi50b3ArJyIgd2lkdGg9IicrZ3JhcGgueF9heGlzLndpZHRoKyciIGhlaWdodD0iJytncmFwaF9oZWlnaHQrJyIgLz4nKwogICAgICAgICAgICAnICA8ZyBjbGFzcz0iZ3JpZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC41LDAuNSkiPicrCiAgICAgICAgICAgIGdyaWQrCiAgICAgICAgICAgICcgICAgPHBhdGggY2xhc3M9InNoYWRvdyIgZD0iTScrKGdyYXBoLm1hcmdpbi5sZWZ0LTIpKycsMHYnKyhncmFwaC5tYXJnaW4udG9wK2dyYXBoX2hlaWdodCkrJyxoJysoZ3JhcGgubWFyZ2luLmxlZnQrZ3JhcGgueF9heGlzLndpZHRoKzEpKyciIC8+JysKICAgICAgICAgICAgJyAgICA8cGF0aCBjbGFzcz0ibGlnaHQiIGQ9Ik0nKyhncmFwaC5tYXJnaW4ubGVmdC0xKSsnLDB2JysoZ3JhcGgubWFyZ2luLnRvcCtncmFwaF9oZWlnaHQtMSkrJyIgLz4nKwogICAgICAgICAgICAnICAgIDxwYXRoIGNsYXNzPSJsaWdodCIgZD0iTScrKGdyYXBoLm1hcmdpbi5sZWZ0LTIpKycsJysoZ3JhcGgubWFyZ2luLnRvcCtncmFwaF9oZWlnaHQrMSkrJ2gnKyhncmFwaC5tYXJnaW4ubGVmdCtncmFwaC54X2F4aXMud2lkdGgrMSkrJyIgLz4nKwogICAgICAgICAgICAnICA8L2c+JysKICAgICAgICAgICAgJyAgPGcgY2xhc3M9ImxhYmVsLXgiPicrCiAgICAgICAgICAgIGxhYmVsX3guam9pbignJykrCiAgICAgICAgICAgICcgIDwvZz4nKwogICAgICAgICAgICAnICA8ZyBjbGFzcz0ibGFiZWwteSI+JysKICAgICAgICAgICAgbGFiZWxfeSsKICAgICAgICAgICAgJyAgPC9nPicrCiAgICAgICAgICAgICcgIDxnIGNsYXNzPSJtYXJrZXJzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjUsMC41KSI+JysKICAgICAgICAgICAgbWFya2VycysKICAgICAgICAgICAgJyAgPC9nPicrCiAgICAgICAgICAgICcgIDxnIGNsYXNzPSJiYXJzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgnK2dyYXBoLm1hcmdpbi5sZWZ0KycsJysoZ3JhcGgubWFyZ2luLnRvcCtncmFwaF9oZWlnaHQpKycpIHNjYWxlKDEsJysoLTEgKiBncmFwaF9oZWlnaHQgLyBncmFwaC55X2F4aXMubWF4X3Jldmlld3MpKycpIj4nKwogICAgICAgICAgICBiYXJzKwogICAgICAgICAgICBiYXJfb3ZlcmxheXMrCiAgICAgICAgICAgICcgIDwvZz4nKwogICAgICAgICAgICAnICA8ZyBjbGFzcz0icmVzaXplX2dyaXAiPicrCiAgICAgICAgICAgICcgICAgPHBhdGggY2xhc3M9InNoYWRvdyIgZD0iTScrKHBhbmVsX3dpZHRoLTIpKycsJytwYW5lbF9oZWlnaHQrJ2wyLC0ybTAsLTRsLTYsNm0tNCwwbDEwLC0xMCIgLz4nKwogICAgICAgICAgICAnICAgIDxwYXRoIGNsYXNzPSJsaWdodCIgZD0iTScrKHBhbmVsX3dpZHRoLTMpKycsJytwYW5lbF9oZWlnaHQrJ2wzLC0zbTAsLTRsLTcsN20tNCwwbDExLC0xMSIgLz4nKwogICAgICAgICAgICAnICAgIDxyZWN0IGNsYXNzPSJib3VuZGFyeSIgeD0iMCIgeT0iJysocGFuZWxfaGVpZ2h0LTEzKSsnIiB3aWR0aD0iJytwYW5lbF93aWR0aCsnIiBoZWlnaHQ9IjEzIiAvPicrCiAgICAgICAgICAgICcgIDwvZz4nKwogICAgICAgICAgICAnICA8ZyBjbGFzcz0iaGlnaGxpZ2h0Ij4nKwogICAgICAgICAgICAnICAgIDxyZWN0IGNsYXNzPSJtYXJrZXIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDAsMC41KSIgeD0iJytncmFwaC5tYXJnaW4ubGVmdCsnIiB5PSInK2dyYXBoLm1hcmdpbi50b3ArJyIgd2lkdGg9IjAiIGhlaWdodD0iJytncmFwaF9oZWlnaHQrJyIgLz4nKwogICAgICAgICAgICAnICAgIDxwYXRoIGNsYXNzPSJtYXJrZXIgc3RhcnQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDAsMCkiIGQ9Ik0nK2dyYXBoLm1hcmdpbi5sZWZ0KycsJysoZ3JhcGgubWFyZ2luLnRvcC0xKSsnbC0zLC01aDZsLTMsNXYnKyhncmFwaF9oZWlnaHQrMSkrJyIgLz4nKwogICAgICAgICAgICAnICAgIDxwYXRoIGNsYXNzPSJtYXJrZXIgZW5kIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTAwLDApIiBkPSJNJytncmFwaC5tYXJnaW4ubGVmdCsnLCcrKGdyYXBoLm1hcmdpbi50b3AtMSkrJ2wtMywtNWg2bC0zLDV2JysoZ3JhcGhfaGVpZ2h0KzEpKyciIC8+JysKICAgICAgICAgICAgJyAgICA8cmVjdCBjbGFzcz0iYm91bmRhcnkiIHg9IicrKGdyYXBoLm1hcmdpbi5sZWZ0LTIpKyciIHk9IjAiIHdpZHRoPSInKyhncmFwaC54X2F4aXMud2lkdGgrMikrJyIgaGVpZ2h0PSInK2dyYXBoLm1hcmdpbi50b3ArJyIgLz4nKwogICAgICAgICAgICAnICA8L2c+JysKICAgICAgICAgICAgJzwvc3ZnPicKICAgICAgICApOwogICAgICAgIHBhbmVsLmhlaWdodChwYW5lbF9oZWlnaHQpOwoKICAgICAgICAvLyBBdHRhY2ggZXZlbnQgaGFuZGxlcnMKICAgICAgICBwYW5lbC5maW5kKCcucmVzaXplX2dyaXAgLmJvdW5kYXJ5Jykub24oJ21vdXNlZG93biB0b3VjaHN0YXJ0JywgcmVzaXplX3BhbmVsKTsKICAgICAgICBwYW5lbC5maW5kKCcuaGlnaGxpZ2h0IC5ib3VuZGFyeScpLm9uKCdtb3VzZWVudGVyIG1vdXNlbGVhdmUgbW91c2Vtb3ZlIG1vdXNlZG93biB0b3VjaHN0YXJ0JywgaGlnaGxpZ2h0X2hvdmVyKTsKICAgICAgICBwYW5lbC5maW5kKCcuYmFyLm92ZXJsYXknKS5vbignbW91c2VlbnRlciBtb3VzZWxlYXZlJywgYmFyX2hvdmVyKTsKICAgICAgICBwYW5lbC5maW5kKCcuYmFyLm92ZXJsYXknKS5vbignY2xpY2snLCBiYXJfY2xpY2spOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBFdmVudCBoYW5kbGVyIGZvciBjbGlja2luZyB0aW1lbGluZSBiYXJzLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBiYXJfY2xpY2soZSkgewogICAgICAgIGlmIChzZXR0aW5ncy5zaG93X3Jldmlld19kZXRhaWxzID09PSAnbm9uZScpIHJldHVybjsKICAgICAgICBpZiAoaGlnaGxpZ2h0LmhpZ2hsaWdodGVkKSBoaWRlX2hpZ2hsaWdodCgpOwogICAgICAgIHZhciBidW5kbGVfaWR4ID0gTnVtYmVyKGUudGFyZ2V0LmF0dHJpYnV0ZXNbJ2RhdGEtYnVuZGxlJ10udmFsdWUpOwogICAgICAgIGhpZ2hsaWdodC5zdGFydCA9IGJ1bmRsZV9pZHg7CiAgICAgICAgaGlnaGxpZ2h0LmVuZCA9IGJ1bmRsZV9pZHggKyAxOwogICAgICAgIGhpZ2hsaWdodC5oaWdobGlnaHRlZCA9IHRydWU7CiAgICAgICAgZ3JhcGguZWxlbS5vZmYoJy5iYXJfaG92ZXJfbW92ZScpOwogICAgICAgIHNob3dfcmV2aWV3X2luZm8odHJ1ZSAvKiBzdGlja3kgKi8sIGUpOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBFdmVudCBoYW5kbGVyIGZvciBob3ZlcmluZyBvdmVyIHRpbWVsaW5lIGJhcnMuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGJhcl9ob3ZlcihlKSB7CiAgICAgICAgaWYgKHNldHRpbmdzLnNob3dfcmV2aWV3X2RldGFpbHMgPT09ICdub25lJykgcmV0dXJuOwogICAgICAgIGlmIChoaWdobGlnaHQuaGlnaGxpZ2h0ZWQpIHJldHVybjsKICAgICAgICBzd2l0Y2ggKGUudHlwZSkgewogICAgICAgICAgICBjYXNlICdtb3VzZWVudGVyJzoKICAgICAgICAgICAgICAgIHZhciBidW5kbGVfaWR4ID0gTnVtYmVyKGUudGFyZ2V0LmF0dHJpYnV0ZXNbJ2RhdGEtYnVuZGxlJ10udmFsdWUpOwogICAgICAgICAgICAgICAgaGlnaGxpZ2h0LnN0YXJ0ID0gYnVuZGxlX2lkeDsKICAgICAgICAgICAgICAgIGhpZ2hsaWdodC5lbmQgPSBidW5kbGVfaWR4ICsgMTsKICAgICAgICAgICAgICAgIHNob3dfcmV2aWV3X2luZm8oZmFsc2UgLyogc3RpY2t5ICovLCBlKTsKICAgICAgICAgICAgICAgIGdyYXBoLmVsZW0ub24oJ21vdXNlbW92ZS5iYXJfaG92ZXJfbW92ZScsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIGdyYXBoLnJldmlld19pbmZvLmNzcygndG9wJywgZS5jbGllbnRZIC0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gMzApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgJ21vdXNlbGVhdmUnOgogICAgICAgICAgICAgICAgZ3JhcGguZWxlbS5vZmYoJy5iYXJfaG92ZXJfbW92ZScpOwogICAgICAgICAgICAgICAgaGlkZV9yZXZpZXdfaW5mbygpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBCdWlsZCBhbmQgZGlzcGxheSB0aGUgUmV2aWV3IEluZm8gcG9wLXVwLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBzaG93X3Jldmlld19pbmZvKHN0aWNreSwgZSkgewogICAgICAgIHZhciBpbmZvID0gJCgnI3RpbWVsaW5lIC5yZXZpZXdfaW5mbycpOwogICAgICAgIGlmIChzdGlja3kpIHsKICAgICAgICAgICAgJCgnYm9keScpLm9mZignLnRpbWVsaW5lX2hpZGVpbmZvJyk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICQoJ2JvZHknKS5vbignY2xpY2sudGltZWxpbmVfaGlkZWluZm8nLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgICAgICAkKCdib2R5Jykub2ZmKCcudGltZWxpbmVfaGlkZWluZm8nKTsKICAgICAgICAgICAgICAgICAgICBoaWRlX2hpZ2hsaWdodCgpOwogICAgICAgICAgICAgICAgICAgIGhpZGVfcmV2aWV3X2luZm8oKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgc3RhcnQgPSBNYXRoLm1pbihoaWdobGlnaHQuc3RhcnQsIGhpZ2hsaWdodC5lbmQpOwogICAgICAgIHZhciBlbmQgPSBNYXRoLm1heChoaWdobGlnaHQuc3RhcnQsIGhpZ2hsaWdodC5lbmQpOwoKICAgICAgICB2YXIgYnVuZGxlID0ge2l0ZW1zOltdfTsKICAgICAgICBmb3IgKHZhciBidW5kbGVfaWR4ID0gc3RhcnQ7IGJ1bmRsZV9pZHggPCBlbmQ7IGJ1bmRsZV9pZHgrKykgewogICAgICAgICAgICBidW5kbGUuaXRlbXMgPSBidW5kbGUuaXRlbXMuY29uY2F0KGdyYXBoLmJ1bmRsZXNbYnVuZGxlX2lkeF0uaXRlbXMpOwogICAgICAgIH0KCiAgICAgICAgY2FsY19idW5kbGVfc3RhdHMoYnVuZGxlKTsKCiAgICAgICAgLy8gUHJpbnQgdGhlIGRhdGUgb3IgZGF0ZSByYW5nZS4KICAgICAgICB2YXIgYWxsb3dfbm93ID0gKChzdGFydCA9PT0gMCkgJiYgKGdyYXBoLmJ1bmRsZV9zaXplID09PSAxKSk7CiAgICAgICAgdmFyIGh0bWwgPSAnPGRpdj4nOwogICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgIHZhciBzdGFydF9kYXRlID0gbmV3IERhdGUoZ3JhcGguc3RhcnRfdGltZS5nZXRUaW1lKCkgKyBidW5kbGVfdG9fdGljKHN0YXJ0KSAqIDM2MDAwMDApOwogICAgICAgIHZhciBlbmRfZGF0ZSA9IG5ldyBEYXRlKGdyYXBoLnN0YXJ0X3RpbWUuZ2V0VGltZSgpICsgYnVuZGxlX3RvX3RpYyhlbmQpICogMzYwMDAwMCArICh0aW1lX3NoaWZ0IC0gMSkgKiA2MDAwMCk7CiAgICAgICAgdmFyIHNhbWVfZGF5ID0gKG5ldyBEYXRlKHN0YXJ0X2RhdGUpLnNldEhvdXJzKDAsMCwwLDApID09IG5ldyBEYXRlKGVuZF9kYXRlKS5zZXRIb3VycygwLDAsMCwwKSk7CiAgICAgICAgdmFyIHNob3dfbW9udGggPSAoKG5vdy5nZXRNb250aCgpICE9IHN0YXJ0X2RhdGUuZ2V0TW9udGgoKSkgfHwgKChuZXcgRGF0ZShlbmRfZGF0ZSkuc2V0SG91cnMoMCwwLDAsMCkgLSBuZXcgRGF0ZShub3cpLnNldEhvdXJzKDAsMCwwLDApKSA+ICg2LjUgKiA4NjQwMDAwMCkpKTsKICAgICAgICBpZiAoKChlbmQtc3RhcnQpID4gMSkgfHwgKGdyYXBoLmJ1bmRsZV9zaXplID4gMSkpIHsKICAgICAgICAgICAgaHRtbCArPSBmb3JtYXRfZGF0ZShzdGFydF9kYXRlLCBhbGxvd19ub3csIHRydWUgLyogc2hvd19kYXkgKi8sIHNob3dfbW9udGgpICsgJyB0byAnICsgZm9ybWF0X2RhdGUoZW5kX2RhdGUsIGZhbHNlLCAhc2FtZV9kYXkgLyogc2hvd19kYXkgKi8sIHNob3dfbW9udGggJiYgIXNhbWVfZGF5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBodG1sICs9IGZvcm1hdF9kYXRlKHN0YXJ0X2RhdGUsIGFsbG93X25vdywgdHJ1ZSAvKiBzaG93X2RheSAqLywgc2hvd19tb250aCk7CiAgICAgICAgfQogICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7CgogICAgICAgIC8vIFBvcHVsYXRlIGl0ZW0gdHlwZSBzdW1tYXJpZXMuCiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0ic3VtbWFyeSI+JzsKICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPSJ0b3QiPicrKGJ1bmRsZS5zdGF0cy5jb3VudCkrJyByZXZpZXdzPC9kaXY+JzsKICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPSJpbmRlbnQiPic7CgogICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9Iml0ZW1fdHlwZSByYWQiPjxzcGFuIGNsYXNzPSJmaXhlZCI+JysoYnVuZGxlLnN0YXRzLnJhZCB8fCAwKSsnPC9zcGFuPiByYWRpY2FsczwvZGl2Pic7CiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0iaXRlbV90eXBlIGthbiI+PHNwYW4gY2xhc3M9ImZpeGVkIj4nKyhidW5kbGUuc3RhdHMua2FuIHx8IDApKyc8L3NwYW4+IGthbmppPC9kaXY+JzsKICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPSJpdGVtX3R5cGUgdm9jIj48c3BhbiBjbGFzcz0iZml4ZWQiPicrKGJ1bmRsZS5zdGF0cy52b2MgfHwgMCkrJzwvc3Bhbj4gdm9jYWJ1bGFyeTwvZGl2Pic7CgogICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9InNyc19zdGFnZSBhcHByIj48c3BhbiBjbGFzcz0iZml4ZWQiPicrKGJ1bmRsZS5zdGF0cy5hcHByIHx8IDApKyc8L3NwYW4+IGFwcHJlbnRpY2U8L2Rpdj4nOwogICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9InNyc19zdGFnZSBndXJ1Ij48c3BhbiBjbGFzcz0iZml4ZWQiPicrKGJ1bmRsZS5zdGF0cy5ndXJ1IHx8IDApKyc8L3NwYW4+IGd1cnU8L2Rpdj4nOwogICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9InNyc19zdGFnZSBtYXN0Ij48c3BhbiBjbGFzcz0iZml4ZWQiPicrKGJ1bmRsZS5zdGF0cy5tYXN0IHx8IDApKyc8L3NwYW4+IG1hc3RlcjwvZGl2Pic7CiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0ic3JzX3N0YWdlIGVubGkiPjxzcGFuIGNsYXNzPSJmaXhlZCI+JysoYnVuZGxlLnN0YXRzLmVubGkgfHwgMCkrJzwvc3Bhbj4gZW5saWdodGVuZWQ8L2Rpdj4nOwogICAgICAgIGlmIChzZXR0aW5ncy5zcnNfY3Vycl9uZXh0ID09PSAnbmV4dCcpIHsKICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0ic3JzX3N0YWdlIGJ1cm4iPjxzcGFuIGNsYXNzPSJmaXhlZCI+JysoYnVuZGxlLnN0YXRzLmJ1cm4gfHwgMCkrJzwvc3Bhbj4gYnVybjwvZGl2Pic7CiAgICAgICAgfQoKICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPSJsZXZlbCBsdmxncnAwIj48c3BhbiBjbGFzcz0iZml4ZWQiPicrKGJ1bmRsZS5zdGF0cy5sdmxncnAwIHx8IDApKyc8L3NwYW4+IGxldmVscyAxLTEwPC9kaXY+JzsKICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPSJsZXZlbCBsdmxncnAxIj48c3BhbiBjbGFzcz0iZml4ZWQiPicrKGJ1bmRsZS5zdGF0cy5sdmxncnAxIHx8IDApKyc8L3NwYW4+IGxldmVscyAxMS0yMDwvZGl2Pic7CiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0ibGV2ZWwgbHZsZ3JwMiI+PHNwYW4gY2xhc3M9ImZpeGVkIj4nKyhidW5kbGUuc3RhdHMubHZsZ3JwMiB8fCAwKSsnPC9zcGFuPiBsZXZlbHMgMjEtMzA8L2Rpdj4nOwogICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9ImxldmVsIGx2bGdycDMiPjxzcGFuIGNsYXNzPSJmaXhlZCI+JysoYnVuZGxlLnN0YXRzLmx2bGdycDMgfHwgMCkrJzwvc3Bhbj4gbGV2ZWxzIDMxLTQwPC9kaXY+JzsKICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPSJsZXZlbCBsdmxncnA0Ij48c3BhbiBjbGFzcz0iZml4ZWQiPicrKGJ1bmRsZS5zdGF0cy5sdmxncnA0IHx8IDApKyc8L3NwYW4+IGxldmVscyA0MS01MDwvZGl2Pic7CiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0ibGV2ZWwgbHZsZ3JwNSI+PHNwYW4gY2xhc3M9ImZpeGVkIj4nKyhidW5kbGUuc3RhdHMubHZsZ3JwNSB8fCAwKSsnPC9zcGFuPiBsZXZlbHMgNTEtNjA8L2Rpdj4nOwoKICAgICAgICBodG1sICs9ICc8L2Rpdj4nOwoKICAgICAgICBpZiAoKGJ1bmRsZS5zdGF0cy5jdXJyX2NvdW50ID4gMCkgfHwgKGJ1bmRsZS5zdGF0cy5idXJuX2NvdW50ID4gMCkpIHsKICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0iaW5kZW50Ij4nOwogICAgICAgICAgICBpZiAoYnVuZGxlLnN0YXRzLmN1cnJfY291bnQgPiAwKSBodG1sICs9ICc8ZGl2IGNsYXNzPSJjdXIiPjxzcGFuIGNsYXNzPSJmaXhlZCI+JytidW5kbGUuc3RhdHMuY3Vycl9jb3VudCsnPC9zcGFuPiBDdXJyZW50IExldmVsPC9kaXY+JzsKICAgICAgICAgICAgaWYgKGJ1bmRsZS5zdGF0cy5idXJuX2NvdW50ID4gMCkgaHRtbCArPSAnPGRpdiBjbGFzcz0iYnVyIj48c3BhbiBjbGFzcz0iZml4ZWQiPicrYnVuZGxlLnN0YXRzLmJ1cm5fY291bnQrJzwvc3Bhbj4gQnVybiBJdGVtJysoYnVuZGxlLnN0YXRzLmJ1cm5fY291bnQgPiAxID8gJ3MnIDogJycpKyc8L2Rpdj4nOwogICAgICAgICAgICBodG1sICs9ICc8L2Rpdj4nOwogICAgICAgIH0KCiAgICAgICAgaHRtbCArPSAnPC9kaXY+JzsKCiAgICAgICAgaWYgKHNldHRpbmdzLnJldmlld19kZXRhaWxzX2J1dHRvbnMpIHsKICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0iZGV0YWlsX2J1dHRvbnMiPic7CiAgICAgICAgICAgIGh0bWwgKz0gJzxidXR0b24gY2xhc3M9ImNvdW50Ij5SZXZpZXcgQ291bnQ8L2J1dHRvbj4nOwogICAgICAgICAgICBodG1sICs9ICc8YnV0dG9uIGNsYXNzPSJpdGVtX3R5cGUiPkl0ZW0gVHlwZTwvYnV0dG9uPic7CiAgICAgICAgICAgIGh0bWwgKz0gJzxidXR0b24gY2xhc3M9InNyc19zdGFnZSI+U1JTIExldmVsPC9idXR0b24+JzsKICAgICAgICAgICAgaHRtbCArPSAnPGJ1dHRvbiBjbGFzcz0ibGV2ZWwiPkxldmVsPC9idXR0b24+JzsKICAgICAgICAgICAgaHRtbCArPSAnPC9kaXY+JzsKICAgICAgICB9CgogICAgICAgIGlmIChzZXR0aW5ncy5zaG93X3Jldmlld19kZXRhaWxzID09PSAnaXRlbV9saXN0JyB8fCBzZXR0aW5ncy5zaG93X3Jldmlld19kZXRhaWxzID09PSAnZnVsbCcpIHsKICAgICAgICAgICAgaHRtbCA9IHBvcHVsYXRlX2l0ZW1fbGlzdChidW5kbGUsIGh0bWwpOwogICAgICAgIH0KCiAgICAgICAgaW5mby5maW5kKCcuaW5uZXInKS5odG1sKGh0bWwpOwogICAgICAgIGdyYXBoLnJldmlld19pbmZvID0gaW5mbzsKCiAgICAgICAgdmFyIG51bV93aWR0aCA9IGJ1bmRsZS5zdGF0cy5jb3VudC50b1N0cmluZygpOwogICAgICAgIGluZm8uZmluZCgnLnN1bW1hcnkgLmZpeGVkJykuY3NzKCd3aWR0aCcsIChudW1fd2lkdGgudG9TdHJpbmcoKS5sZW5ndGggKiA5ICsgOCkgKyAncHgnKTsKCiAgICAgICAgdmFyIHRvcCwgbGVmdCwgcmlnaHQsIHdpZHRoOwogICAgICAgIHZhciBoYWxmX3dpZHRoID0gZ3JhcGgueF9heGlzLndpZHRoLzI7CiAgICAgICAgdmFyIHggPSBidW5kbGVfdG9feChzdGFydCk7CiAgICAgICAgaW5mby5jc3MoJ21heC13aWR0aCcsIGhhbGZfd2lkdGgpOwogICAgICAgIGlmIChoaWdobGlnaHQuZHJhZ2dpbmcpIHsKICAgICAgICAgICAgdG9wID0gZ3JhcGgubWFyZ2luLnRvcCArIGdyYXBoLnlfYXhpcy5oZWlnaHQgKyBncmFwaC5tYXJnaW4uYm90dG9tOwogICAgICAgICAgICBpZiAoeCA8IGhhbGZfd2lkdGgpIHsKICAgICAgICAgICAgICAgIGxlZnQgPSBncmFwaC5tYXJnaW4ubGVmdCArIHg7CiAgICAgICAgICAgICAgICBpbmZvLmNzcyh7bGVmdDpsZWZ0LCByaWdodDonYXV0bycsIHRvcDp0b3B9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJpZ2h0ID0gMDsKICAgICAgICAgICAgICAgIGluZm8uY3NzKHtsZWZ0OidhdXRvJywgcmlnaHQ6cmlnaHQsIHRvcDp0b3B9KTsKICAgICAgICAgICAgICAgIGlmICh4IDwgZ3JhcGgueF9heGlzLndpZHRoIC0gaW5mby5vdXRlcldpZHRoKCkpIHsKICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gZ3JhcGgubWFyZ2luLmxlZnQgKyB4OwogICAgICAgICAgICAgICAgICAgIGluZm8uY3NzKHtsZWZ0OmxlZnQsIHJpZ2h0OidhdXRvJywgdG9wOnRvcH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChlKSB7CiAgICAgICAgICAgIHRvcCA9IGUuY2xpZW50WSAtIGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIDMwOwogICAgICAgICAgICBpZiAoeCA8IGhhbGZfd2lkdGgpIHsKICAgICAgICAgICAgICAgIGxlZnQgPSBncmFwaC5tYXJnaW4ubGVmdCArIGJ1bmRsZV90b194KHN0YXJ0KzEpICsgNDsKICAgICAgICAgICAgICAgIGluZm8uY3NzKHtsZWZ0OmxlZnQsIHJpZ2h0OidhdXRvJywgdG9wOnRvcH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmlnaHQgPSBncmFwaC54X2F4aXMud2lkdGggLSBidW5kbGVfdG9feChzdGFydCkgKyA0OwogICAgICAgICAgICAgICAgaW5mby5jc3Moe2xlZnQ6J2F1dG8nLCByaWdodDpyaWdodCwgdG9wOnRvcH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpbmZvLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gUG9wdWxhdGUgdGhlIGxpc3Qgb2YgaXRlbXMgcHJlc2VudCBpbiBhIHRpbWUgYnVuZGxlLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBwb3B1bGF0ZV9pdGVtX2xpc3QoYnVuZGxlLCBodG1sKSB7CiAgICAgICAgdmFyIHNyc190b19jbGFzcyA9IHsKICAgICAgICAgICAgY3VycjogWydhcHByJywnYXBwcicsJ2FwcHInLCdhcHByJywnYXBwcicsJ2d1cnUnLCdndXJ1JywnbWFzdCcsJ2VubGknXSwKICAgICAgICAgICAgbmV4dDogWydhcHByJywnYXBwcicsJ2FwcHInLCdhcHByJywnZ3VydScsJ2d1cnUnLCdtYXN0JywnZW5saScsJ2J1cm4nXQogICAgICAgIH07CiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz0iaXRlbV9pbmZvIGhpZGRlbiI+PC9kaXY+PHVsIGNsYXNzPSJpdGVtX2xpc3QiPic7CiAgICAgICAgZm9yICh2YXIgaXRlbV9pZHggaW4gYnVuZGxlLml0ZW1zKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gYnVuZGxlLml0ZW1zW2l0ZW1faWR4XTsKICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSBbCiAgICAgICAgICAgICAgICBpdGVtLm9iamVjdC5zbGljZSgwLDMpLAogICAgICAgICAgICAgICAgc3JzX3RvX2NsYXNzW3NldHRpbmdzLnNyc19jdXJyX25leHRdW2l0ZW0uYXNzaWdubWVudHMuc3JzX3N0YWdlXSwKICAgICAgICAgICAgICAgICdsdmxncnAnK01hdGguZmxvb3IoKGl0ZW0uZGF0YS5sZXZlbC0xKS8xMCkKICAgICAgICAgICAgXTsKICAgICAgICAgICAgdmFyIGl0ZW1fbmFtZTsKICAgICAgICAgICAgaWYgKGl0ZW0ub2JqZWN0ID09PSAncmFkaWNhbCcpIHsKICAgICAgICAgICAgICAgIGlmIChpdGVtLmRhdGEuY2hhcmFjdGVycykgewogICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz0iJytjbGFzc2VzLmpvaW4oJyAnKSsnIj4nK2l0ZW0uZGF0YS5jaGFyYWN0ZXJzKyc8L2xpPic7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz0iJytjbGFzc2VzLmpvaW4oJyAnKSsnIiBkYXRhLXJhZG5hbWU9IicraXRlbS5kYXRhLnNsdWcrJyI+Li4uPC9saT4nOwogICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9ICcjdGltZWxpbmUgLnJldmlld19pbmZvIC5pdGVtX2xpc3QgPiBsaVtkYXRhLXJhZG5hbWU9IicraXRlbS5kYXRhLnNsdWcrJyJdJzsKICAgICAgICAgICAgICAgICAgICBsb2FkX3JhZGljYWxfc3ZnKGl0ZW0pLnRoZW4ocG9wdWxhdGVfcmFkaWNhbF9zdmcuYmluZChudWxsLCBzZWxlY3RvcikpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaHRtbCArPSAnPGxpIGNsYXNzPSInK2NsYXNzZXMuam9pbignICcpKyciPicraXRlbS5kYXRhLnNsdWcrJzwvbGk+JzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBodG1sICs9ICc8L3VsPic7CiAgICAgICAgcmV0dXJuIGh0bWw7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEluc2VydCBhbiBzdmcgaW50byBhIHNwZWNpZmllZCBET00gZWxlbWVudC4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gcG9wdWxhdGVfcmFkaWNhbF9zdmcoc2VsZWN0b3IsIHN2ZykgewogICAgICAgICQoc2VsZWN0b3IpLmh0bWwoc3ZnKTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gRXZlbnQgaGFuZGxlciBmb3IgYnV0dG9ucyBvbiB0aGUgUmV2aWV3IEluZm8gcG9wLXVwLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBkZXRhaWxfYnV0dG9uX2NsaWNrZWQoZSkgewogICAgICAgIHZhciBtb2RlID0gZS50YXJnZXQuY2xhc3NOYW1lOwogICAgICAgICQoJyN0aW1lbGluZSAucmV2aWV3X2luZm8nKS5hdHRyKCdkYXRhLW1vZGUnLCBtb2RlKTsKICAgICAgICBzZXR0aW5ncy5yZXZpZXdfZGV0YWlsc19zdW1tYXJ5ID0gbW9kZTsKICAgICAgICBzYXZlX3NldHRpbmdzKCk7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEV2ZW50IGhhbmRsZXIgZm9yIGhvdmVyaW5nIG92ZXIgYW4gaXRlbSBpbiB0aGUgUmV2aWV3IERldGFpbCBwb3AtdXAuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGl0ZW1faG92ZXIoZSkgewogICAgICAgIGlmIChzZXR0aW5ncy5zaG93X3Jldmlld19kZXRhaWxzICE9PSAnZnVsbCcpIHJldHVybjsKICAgICAgICB2YXIgaW5mbyA9ICQoJyN0aW1lbGluZSAuaXRlbV9pbmZvJyk7CiAgICAgICAgc3dpdGNoIChlLnR5cGUpIHsKICAgICAgICAgICAgY2FzZSAnbW91c2VlbnRlcic6CiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpOwogICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBncmFwaC5jdXJyZW50X2J1bmRsZS5pdGVtc1t0YXJnZXQuaW5kZXgoKV07CiAgICAgICAgICAgICAgICB2YXIgcG9zID0gdGFyZ2V0LnBvc2l0aW9uKCk7CiAgICAgICAgICAgICAgICBpbmZvLmNzcyh7dG9wOnBvcy50b3ArdGFyZ2V0Lm91dGVySGVpZ2h0KCkrM30pOwogICAgICAgICAgICAgICAgcG9wdWxhdGVfaXRlbV9pbmZvKGluZm8sIGl0ZW0pOwogICAgICAgICAgICAgICAgaW5mby5yZW1vdmVDbGFzcygnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgJ21vdXNlbGVhdmUnOgogICAgICAgICAgICAgICAgaW5mby5hZGRDbGFzcygnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEhhbmRsZXIgZm9yIHJlc2l6aW5nIHRoZSB0aW1lbGluZSB3aGVuIHRoZSB3aW5kb3cgc2l6ZSBjaGFuZ2VzLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiB3aW5kb3dfcmVzaXplZCgpIHsKICAgICAgICB2YXIgbmV3X3dpZHRoID0gZ3JhcGguZWxlbS53aWR0aCgpOwogICAgICAgIGlmIChuZXdfd2lkdGggIT0gZ3JhcGgueF9heGlzLndpZHRoICsgZ3JhcGgubWFyZ2luLmxlZnQpIHsKICAgICAgICAgICAgYnVuZGxlX2J5X3RpbWVzbG90KCk7CiAgICAgICAgICAgIGRyYXdfdGltZWxpbmUoKTsKICAgICAgICB9CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEdlbmVyYXRlIHRoZSBIVE1MIGNvbnRlbnQgb2YgdGhlIEl0ZW0gRGV0YWlsIHBvcC11cC4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgdmFyIHNyc19zdGFnZXMgPSBbJ0luaXRpYXRlJywgJ0FwcHJlbnRpY2UgMScsICdBcHByZW50aWNlIDInLCAnQXBwcmVudGljZSAzJywgJ0FwcHJlbnRpY2UgNCcsICdHdXJ1IDEnLCAnR3VydSAyJywgJ01hc3RlcicsICdFbmxpZ2h0ZW5lZCcsICdCdXJuZWQnXQogICAgZnVuY3Rpb24gcG9wdWxhdGVfaXRlbV9pbmZvKGluZm8sIGl0ZW0pIHsKICAgICAgICB2YXIgaHRtbDsKICAgICAgICBzd2l0Y2ggKGl0ZW0ub2JqZWN0KSB7CiAgICAgICAgICAgIGNhc2UgJ3JhZGljYWwnOgogICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YS5jaGFyYWN0ZXJzKSB7CiAgICAgICAgICAgICAgICAgICAgaHRtbCA9ICc8c3BhbiBjbGFzcz0iaXRlbSI+UmFkaWNhbDogPHNwYW4gY2xhc3M9InNsdWciIGxhbmc9ImphIj4nK2l0ZW0uZGF0YS5jaGFyYWN0ZXJzKyc8L3NwYW4+PC9zcGFuPjxicj4nOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBodG1sID0gJzxzcGFuIGNsYXNzPSJpdGVtIj5SYWRpY2FsOiA8c3BhbiBjbGFzcz0ic2x1ZyIgZGF0YS1yYWRuYW1lPSInK2l0ZW0uZGF0YS5zbHVnKyciPi4uLjwvc3Bhbj48L3NwYW4+PGJyPic7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gJyN0aW1lbGluZSAuaXRlbV9pbmZvIFtkYXRhLXJhZG5hbWU9IicraXRlbS5kYXRhLnNsdWcrJyJdJzsKICAgICAgICAgICAgICAgICAgICBsb2FkX3JhZGljYWxfc3ZnKGl0ZW0pLnRoZW4ocG9wdWxhdGVfcmFkaWNhbF9zdmcuYmluZChudWxsLCBzZWxlY3RvcikpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICdrYW5qaSc6CiAgICAgICAgICAgICAgICBodG1sID0gJzxzcGFuIGNsYXNzPSJpdGVtIj5LYW5qaTogPHNwYW4gY2xhc3M9InNsdWciIGxhbmc9ImphIj4nK2l0ZW0uZGF0YS5zbHVnKyc8L3NwYW4+PC9zcGFuPjxicj4nOwogICAgICAgICAgICAgICAgaHRtbCArPSBnZXRfaW1wb3J0YW50X3JlYWRpbmcoaXRlbSkrJzxicj4nOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICd2b2NhYnVsYXJ5JzoKICAgICAgICAgICAgICAgIGh0bWwgPSAnPHNwYW4gY2xhc3M9Iml0ZW0iPlZvY2FiOiA8c3BhbiBjbGFzcz0ic2x1ZyIgbGFuZz0iamEiPicraXRlbS5kYXRhLnNsdWcrJzwvc3Bhbj48L3NwYW4+PGJyPic7CiAgICAgICAgICAgICAgICBodG1sICs9ICdSZWFkaW5nOiAnK2dldF9yZWFkaW5nKGl0ZW0pKyc8YnI+JzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBodG1sICs9ICdNZWFuaW5nOiAnK2dldF9tZWFuaW5ncyhpdGVtKSsnPGJyPic7CiAgICAgICAgaHRtbCArPSAnTGV2ZWw6ICcraXRlbS5kYXRhLmxldmVsKyc8YnI+JzsKICAgICAgICBodG1sICs9ICdTUlMgTGV2ZWw6ICcraXRlbS5hc3NpZ25tZW50cy5zcnNfc3RhZ2UrJyAoJytzcnNfc3RhZ2VzW2l0ZW0uYXNzaWdubWVudHMuc3JzX3N0YWdlXSsnKSc7CiAgICAgICAgaW5mby5odG1sKGh0bWwpOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBMb2FkIGEgcmFkaWNhbCdzIHN2ZyBmaWxlLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBsb2FkX3JhZGljYWxfc3ZnKGl0ZW0pIHsKICAgICAgICB2YXIgcHJvbWlzZSA9IGdyYXBoLnJhZGljYWxfY2FjaGVbaXRlbS5kYXRhLnNsdWddOwogICAgICAgIGlmIChwcm9taXNlKSByZXR1cm4gcHJvbWlzZTsKICAgICAgICBpZiAoaXRlbS5kYXRhLmNoYXJhY3Rlcl9pbWFnZXMubGVuZ3RoID09PSAwKSByZXR1cm4gcHJvbWlzZTsKICAgICAgICB2YXIgdXJsID0gaXRlbS5kYXRhLmNoYXJhY3Rlcl9pbWFnZXMuZmlsdGVyKGZ1bmN0aW9uKGltZyl7CiAgICAgICAgICAgIHJldHVybiAoaW1nLmNvbnRlbnRfdHlwZSA9PT0gJ2ltYWdlL3N2Zyt4bWwnICYmICFpbWcubWV0YWRhdGEuaW5saW5lX3N0eWxlcyk7CiAgICAgICAgfSlbMF0udXJsOwogICAgICAgIHByb21pc2UgPSB3a29mLmxvYWRfZmlsZSh1cmwpOwogICAgICAgIGdyYXBoLnJhZGljYWxfY2FjaGVbaXRlbS5kYXRhLnNsdWddID0gcHJvbWlzZTsKICAgICAgICByZXR1cm4gcHJvbWlzZTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gRXh0cmFjdCB0aGUgbWVhbmluZ3MgKGluY2x1ZGluZyBzeW5vbnltcykgZnJvbSBhbiBpdGVtLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBnZXRfbWVhbmluZ3MoaXRlbSkgewogICAgICAgIHZhciBtZWFuaW5ncyA9IFtdOwogICAgICAgIGlmIChpdGVtLnN0dWR5X21hdGVyaWFscyAmJiBpdGVtLnN0dWR5X21hdGVyaWFscy5tZWFuaW5nX3N5bm9ueW1zKSB7CiAgICAgICAgICAgIG1lYW5pbmdzID0gaXRlbS5zdHVkeV9tYXRlcmlhbHMubWVhbmluZ19zeW5vbnltczsKICAgICAgICB9CiAgICAgICAgbWVhbmluZ3MgPSBtZWFuaW5ncy5jb25jYXQoaXRlbS5kYXRhLm1lYW5pbmdzLm1hcChtZWFuaW5nID0+IG1lYW5pbmcubWVhbmluZykpOwogICAgICAgIHJldHVybiB0b190aXRsZV9jYXNlKG1lYW5pbmdzLmpvaW4oJywgJykpOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBFeHRyYWN0IHRoZSAnaW1wb3J0YW50JyByZWFkaW5ncyBmcm9tIGEga2FuamkuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIGdldF9pbXBvcnRhbnRfcmVhZGluZyhpdGVtKSB7CiAgICAgICAgdmFyIHJlYWRpbmdzID0gaXRlbS5kYXRhLnJlYWRpbmdzLmZpbHRlcihyZWFkaW5nID0+IHJlYWRpbmcucHJpbWFyeSk7CiAgICAgICAgcmV0dXJuIHRvX3RpdGxlX2Nhc2UocmVhZGluZ3NbMF0udHlwZSkrJzogJytyZWFkaW5ncy5tYXAocmVhZGluZyA9PiByZWFkaW5nLnJlYWRpbmcpLmpvaW4oJywgJyk7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEV4dHJhY3QgdGhlIGxpc3Qgb2YgcmVhZGluZ3MgZnJvbSBhbiBpdGVtLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBnZXRfcmVhZGluZyhpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uZGF0YS5yZWFkaW5ncy5tYXAocmVhZGluZyA9PiByZWFkaW5nLnJlYWRpbmcpLmpvaW4oJywgJyk7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIEhpZGUgdGhlIFJldmlldyBJbmZvIHBvcC11cC4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gaGlkZV9yZXZpZXdfaW5mbygpIHsKICAgICAgICAkKCcjdGltZWxpbmUgLnJldmlld19pbmZvJykuYWRkQ2xhc3MoJ2hpZGRlbicpOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBHZW5lcmF0ZSBhIGZvcm1hdHRlZCBkYXRlIHN0cmluZy4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gZm9ybWF0X2RhdGUodGltZSwgYWxsb3dfbm93LCBzaG93X2RheSwgc2hvd19tb250aCkgewogICAgICAgIHZhciBzdHIgPSAnJzsKICAgICAgICBpZiAoYWxsb3dfbm93ICYmIHRpbWUuZ2V0VGltZSgpID49IGdyYXBoLnN0YXJ0X3RpbWUuZ2V0VGltZSgpKSByZXR1cm4gJ05vdyc7CiAgICAgICAgaWYgKHNob3dfZGF5KSB7CiAgICAgICAgICAgIGlmIChuZXcgRGF0ZSh0aW1lKS5zZXRIb3VycygwLDAsMCwwKSA9PT0gKG5ldyBEYXRlKCkpLnNldEhvdXJzKDAsMCwwLDApKSB7CiAgICAgICAgICAgICAgICBzdHIgPSAnVG9kYXknOwogICAgICAgICAgICAgICAgc2hvd19tb250aCA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc3RyID0gJ1N1bk1vblR1ZVdlZFRodUZyaVNhdCcuc3Vic3RyKHRpbWUuZ2V0RGF5KCkqMywgMyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHNob3dfbW9udGgpIHsKICAgICAgICAgICAgICAgIHN0ciArPSAnLCAnICsgJ0phbkZlYk1hckFwck1heUp1bkp1bEF1Z1NlcE9jdE5vdkRlYycuc3Vic3RyKHRpbWUuZ2V0TW9udGgoKSozLCAzKSArICcgJyArIHRpbWUuZ2V0RGF0ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChzZXR0aW5ncy50aW1lX2Zvcm1hdCA9PT0gJzI0aG91cicpIHsKICAgICAgICAgICAgc3RyICs9ICcgJyArICgnMCcgKyB0aW1lLmdldEhvdXJzKCkpLnNsaWNlKC0yKSArICc6JyArICgnMCcrdGltZS5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdHIgKz0gJyAnICsgKCcwJyArICgoKHRpbWUuZ2V0SG91cnMoKSsxMSklMTIpKzEpKS5zbGljZSgtMikgKyAnOicrKCcwJyt0aW1lLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpICsgJ2FwJ1tNYXRoLmZsb29yKHRpbWUuZ2V0SG91cnMoKS8xMildICsgJ20nOwogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyOwogICAgfQoKICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyBGZXRjaCBpdGVtIGluZm8sIGFuZCByZWRyYXcgdGhlIHRpbWVsaW5lLgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBmZXRjaF9hbmRfdXBkYXRlKCkgewogICAgICAgIHJldHVybiB3a29mLkl0ZW1EYXRhLmdldF9pdGVtcygnc3ViamVjdHMsIGFzc2lnbm1lbnRzLCBzdHVkeV9tYXRlcmlhbHMnKQogICAgICAgIC50aGVuKHByb2Nlc3NfaXRlbXMpCiAgICAgICAgLnRoZW4oZHJhd190aW1lbGluZSk7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIFByb2Nlc3MgdGhlIGZldGNoZWQgaXRlbXMuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHByb2Nlc3NfaXRlbXMoZmV0Y2hlZF9pdGVtcykgewogICAgICAgIC8vIFJlbW92ZSBhbnkgdW5sZWFybmVkIGl0ZW1zLgogICAgICAgIGdyYXBoLml0ZW1zID0gW107CiAgICAgICAgZm9yICh2YXIgaWR4IGluIGZldGNoZWRfaXRlbXMpIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBmZXRjaGVkX2l0ZW1zW2lkeF07CiAgICAgICAgICAgIGlmICghaXRlbS5hc3NpZ25tZW50cyB8fCAhaXRlbS5hc3NpZ25tZW50cy5hdmFpbGFibGVfYXQgfHwgaXRlbS5hc3NpZ25tZW50cy5zcnNfc3RhZ2UgPD0gMCkgY29udGludWU7CiAgICAgICAgICAgIGlmIChpdGVtLmRhdGEubGV2ZWwgPiB3a29mLnVzZXIubGV2ZWwpIGNvbnRpbnVlOwogICAgICAgICAgICBncmFwaC5pdGVtcy5wdXNoKGl0ZW0pOwogICAgICAgIH0KCiAgICAgICAgZ3JhcGguaXRlbXMuc29ydChmdW5jdGlvbihhLCBiKSB7CiAgICAgICAgICAgIHJldHVybiAobmV3IERhdGUoYS5hc3NpZ25tZW50cy5hdmFpbGFibGVfYXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuYXNzaWdubWVudHMuYXZhaWxhYmxlX2F0KS5nZXRUaW1lKCkpOwogICAgICAgIH0pOwoKICAgICAgICBidW5kbGVfYnlfdGltZXNsb3QoKTsKICAgICAgICB1cGRhdGVfc2xpZGVyX3Jldmlld3MoKTsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gQnVuZGxlIHRoZSBpdGVtcyBpbnRvIHRpbWVzbG90cy4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gYnVuZGxlX2J5X3RpbWVzbG90KCkgewogICAgICAgIHZhciBidW5kbGVfc2l6ZSA9IGdyYXBoLmJ1bmRsZV9zaXplID0gZ2V0X2hvdXJzX3Blcl9iYXIoKTsKICAgICAgICB2YXIgYnVuZGxlcyA9IGdyYXBoLmJ1bmRsZXMgPSBbXTsKICAgICAgICB2YXIgdGltZXNsb3RzID0gZ3JhcGgudGltZXNsb3RzID0gW107CgogICAgICAgIC8vIFJld2luZCB0aGUgY2xvY2sgdG8gdGhlIHN0YXJ0IG9mIGEgYnVuZGxlIHBlcmlvZC4KICAgICAgICB2YXIgc3RhcnRfdGltZSA9IHRvU3RhcnRPZlVUQ0hvdXIobmV3IERhdGUoKSk7CiAgICAgICAgd2hpbGUgKHN0YXJ0X3RpbWUuZ2V0SG91cnMoKSAlIGJ1bmRsZV9zaXplICE9PSAwKSBzdGFydF90aW1lID0gbmV3IERhdGUoc3RhcnRfdGltZS5nZXRUaW1lKCkgLSAzNjAwMDAwKTsKICAgICAgICBncmFwaC5zdGFydF90aW1lID0gc3RhcnRfdGltZTsKCiAgICAgICAgLy8gRmluZCB0aGUgdGljIG9mIHRoZSBsYXN0IGJ1bmRsZSAocm91bmQgZG93biBpZiBvbmx5IGEgcGFydGlhbCkuCiAgICAgICAgZ3JhcGgudG90YWxfcmV2aWV3cyA9IDA7CiAgICAgICAgZ3JhcGgubWF4X3Jldmlld3MgPSAwOwogICAgICAgIHZhciBob3VyID0gMCwgaXRlbV9pZHggPSAwLCBpdGVtX2NvdW50ID0gMDsKICAgICAgICB2YXIgYnVuZGxlID0ge3N0YXJ0X3RpbWU6aG91ciwgaXRlbXM6W119OwogICAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgICAgIHRpbWVzbG90cy5wdXNoKGJ1bmRsZXMubGVuZ3RoKTsKICAgICAgICAgICAgaG91cisrOwogICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBwYXN0IGVuZCBvZiB0aGUgdGltZWxpbmUgKGluY2x1ZGluZyByb3VuZGluZyB1cCB0byB0aGUgbmVhcmVzdCBidW5kbGUpCiAgICAgICAgICAgIC8vIE5lZWQgdG8gdXNlIGRhdGUgZnVuY3Rpb24gdG8gYWNjb3VudCBmb3IgdGltZSBzaGlmdHMgKGUuZy4gRGF5bGlnaHQgU2F2aW5ncyBUaW1lKQogICAgICAgICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKHN0YXJ0X3RpbWUuZ2V0VGltZSgpICsgaG91ciAqIDM2MDAwMDApOwogICAgICAgICAgICBpZiAoKHRpbWUuZ2V0SG91cnMoKSAlIGJ1bmRsZV9zaXplKSAhPT0gMCkgY29udGludWU7CgogICAgICAgICAgICB2YXIgc3RhcnRfaWR4ID0gaXRlbV9pZHg7CiAgICAgICAgICAgIHdoaWxlICgoaXRlbV9pZHggPCBncmFwaC5pdGVtcy5sZW5ndGgpICYmCiAgICAgICAgICAgICAgICAgICAobmV3IERhdGUoZ3JhcGguaXRlbXNbaXRlbV9pZHhdLmFzc2lnbm1lbnRzLmF2YWlsYWJsZV9hdCkgPCB0aW1lKSkgewogICAgICAgICAgICAgICAgaXRlbV9pZHgrKzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnVuZGxlLml0ZW1zID0gZ3JhcGguaXRlbXMuc2xpY2Uoc3RhcnRfaWR4LCBpdGVtX2lkeCk7CiAgICAgICAgICAgIGJ1bmRsZS5lbmRfdGltZSA9IGhvdXI7CiAgICAgICAgICAgIGNhbGNfYnVuZGxlX3N0YXRzKGJ1bmRsZSk7CiAgICAgICAgICAgIGdyYXBoLmJ1bmRsZXMucHVzaChidW5kbGUpOwoKICAgICAgICAgICAgZ3JhcGgudG90YWxfcmV2aWV3cyArPSBidW5kbGUuaXRlbXMubGVuZ3RoOwogICAgICAgICAgICBpZiAoYnVuZGxlLml0ZW1zLmxlbmd0aCA+IGdyYXBoLm1heF9yZXZpZXdzKSBncmFwaC5tYXhfcmV2aWV3cyA9IGJ1bmRsZS5pdGVtcy5sZW5ndGg7CiAgICAgICAgICAgIGlmIChob3VyID49IGdyYXBoLnhfYXhpcy5tYXhfaG91cnMpIGJyZWFrOwoKICAgICAgICAgICAgYnVuZGxlID0ge3N0YXJ0X3RpbWU6aG91ciwgaXRlbXM6W119OwogICAgICAgIH0KICAgICAgICBncmFwaC54X2F4aXMubWF4X2hvdXJzID0gaG91cjsKICAgIH0KCiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gQ2FsY3VsYXRlIHN0YXRzIGZvciBhIGJ1bmRsZQogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBmdW5jdGlvbiBjYWxjX2J1bmRsZV9zdGF0cyhidW5kbGUpIHsKICAgICAgICB2YXIgaXR5cGVfdG9faW50ID0ge3JhZGljYWw6MCwga2Fuamk6MSwgdm9jYWJ1bGFyeToyfTsKICAgICAgICB2YXIgaXR5cGVfdG9fY2xhc3MgPSB7cmFkaWNhbDoncmFkJywga2Fuamk6J2thbicsIHZvY2FidWxhcnk6J3ZvYyd9OwogICAgICAgIHZhciBzcnNfdG9fY2xhc3MgPSB7CiAgICAgICAgICAgIGN1cnI6IFsnYXBwcicsJ2FwcHInLCdhcHByJywnYXBwcicsJ2FwcHInLCdndXJ1JywnZ3VydScsJ21hc3QnLCdlbmxpJ10sCiAgICAgICAgICAgIG5leHQ6IFsnYXBwcicsJ2FwcHInLCdhcHByJywnYXBwcicsJ2d1cnUnLCdndXJ1JywnbWFzdCcsJ2VubGknLCdidXJuJ10KICAgICAgICB9OwogICAgICAgIGJ1bmRsZS5pdGVtcy5zb3J0KGZ1bmN0aW9uKGEsIGIpewogICAgICAgICAgICB2YXIgYV9pdHlwZSA9IGl0eXBlX3RvX2ludFthLm9iamVjdF07CiAgICAgICAgICAgIHZhciBiX2l0eXBlID0gaXR5cGVfdG9faW50W2Iub2JqZWN0XTsKICAgICAgICAgICAgaWYgKGFfaXR5cGUgIT09IGJfaXR5cGUpIHJldHVybiBhX2l0eXBlIC0gYl9pdHlwZTsKICAgICAgICAgICAgaWYgKGEuZGF0YS5sZXZlbCAhPT0gYi5kYXRhLmxldmVsKSByZXR1cm4gYS5kYXRhLmxldmVsIC0gYi5kYXRhLmxldmVsOwogICAgICAgICAgICByZXR1cm4gYS5kYXRhLnNsdWcubG9jYWxlQ29tcGFyZShiLmRhdGEuc2x1Zyk7CiAgICAgICAgfSk7CiAgICAgICAgYnVuZGxlLnN0YXRzID0gewogICAgICAgICAgICBjb3VudDowLAogICAgICAgICAgICByYWQ6MCwga2FuOjAsIHZvYzowLAogICAgICAgICAgICBhcHByOjAsIGd1cnU6MCwgbWFzdDowLCBlbmxpOjAsIGJ1cm46MCwKICAgICAgICAgICAgbHZsZ3JwMDowLCBsdmxncnAxOjAsIGx2bGdycDI6MCwgbHZsZ3JwMzowLCBsdmxncnA0OjAsIGx2bGdycDU6MCwKICAgICAgICAgICAgY3Vycl9jb3VudDogMCwKICAgICAgICAgICAgaGFzX2N1cnJfbWFya2VyOiBmYWxzZSwKICAgICAgICAgICAgYnVybl9jb3VudDogMAogICAgICAgIH07CiAgICAgICAgdmFyIHN0YXRzID0gYnVuZGxlLnN0YXRzOwogICAgICAgIGZvciAodmFyIGl0ZW1faWR4IGluIGJ1bmRsZS5pdGVtcykgewogICAgICAgICAgICB2YXIgaXRlbSA9IGJ1bmRsZS5pdGVtc1tpdGVtX2lkeF07CiAgICAgICAgICAgIHN0YXRzLmNvdW50Kys7CiAgICAgICAgICAgIHN0YXRzW2l0eXBlX3RvX2NsYXNzW2l0ZW0ub2JqZWN0XV0rKzsKICAgICAgICAgICAgc3RhdHNbc3JzX3RvX2NsYXNzW3NldHRpbmdzLnNyc19jdXJyX25leHRdW2l0ZW0uYXNzaWdubWVudHMuc3JzX3N0YWdlXV0rKzsKICAgICAgICAgICAgc3RhdHNbJ2x2bGdycCcrTWF0aC5mbG9vcigoaXRlbS5kYXRhLmxldmVsLTEpLzEwKV0rKzsKICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YS5sZXZlbCA9PT0gd2tvZi51c2VyLmxldmVsKSB7CiAgICAgICAgICAgICAgICBzdGF0cy5jdXJyX2NvdW50Kys7CiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuY3VycmVudF9sZXZlbF9tYXJrZXJzLmluZGV4T2YoaXRlbS5vYmplY3RbMF0pID49IDApIHsKICAgICAgICAgICAgICAgICAgICBzdGF0cy5oYXNfY3Vycl9tYXJrZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGJ1bmRsZS5zdGF0cy5idXJuX2NvdW50ID0gYnVuZGxlLnN0YXRzW3Nyc190b19jbGFzc1tzZXR0aW5ncy5zcnNfY3Vycl9uZXh0XVs4XV07CiAgICAgICAgZ3JhcGguY3VycmVudF9idW5kbGUgPSBidW5kbGU7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIFJldHVybiB0aGUgdGltZXN0YW1wIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGN1cnJlbnQgVVRDIGhvdXIuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHRvU3RhcnRPZlVUQ0hvdXIoZGF0ZSkgewogICAgICAgIHZhciBkID0gKGRhdGUgaW5zdGFuY2VvZiBEYXRlID8gZGF0ZS5nZXRUaW1lKCkgOiBkYXRlKTsKICAgICAgICBkID0gTWF0aC5mbG9vcihkLzM2MDAwMDApKjM2MDAwMDA7CiAgICAgICAgcmV0dXJuIChkYXRlIGluc3RhbmNlb2YgRGF0ZSA/IG5ldyBEYXRlKGQpIDogZCk7CiAgICB9CgogICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIFN0YXJ0IGEgdGltZXIgdG8gcmVmcmVzaCB0aGUgdGltZWxpbmUgKHdpdGhvdXQgZmV0Y2gpIGF0IHRoZSB0b3Agb2YgdGhlIGhvdXIuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHN0YXJ0X3JlZnJlc2hfdGltZXIoKSB7CiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7CiAgICAgICAgdmFyIG5leHRfaG91ciA9IHRvU3RhcnRPZlVUQ0hvdXIobm93KSArIDM2MDEwMDA7IC8vIDEgc2Vjb25kIHBhc3QgdGhlIG5leHQgVVRDIGhvdXIuCiAgICAgICAgdmFyIHdhaXRfdGltZSA9IChuZXh0X2hvdXIgLSBub3cpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgYnVuZGxlX2J5X3RpbWVzbG90KCk7CiAgICAgICAgICAgIHVwZGF0ZV9zbGlkZXJfcmV2aWV3cygpOwogICAgICAgICAgICBkcmF3X3RpbWVsaW5lKCk7CiAgICAgICAgICAgIHN0YXJ0X3JlZnJlc2hfdGltZXIoKTsKICAgICAgICB9LCB3YWl0X3RpbWUpOwogICAgfQoKfSkod2luZG93LnRpbWVsaW5lKTsK"},{"name":"WaniKani LevelUP Celebrator","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["https://www.wanikani.com/","https://www.wanikani.com/dashboard"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1588770711067,"data":{}},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/233-wanikani-levelup-celebrator/code/WaniKani%20LevelUP%20Celebrator.user.js","uuid":"c263f0d7-79a8-4cec-b4c7-e4729456fc3e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgV2FuaUthbmkgTGV2ZWxVUCBDZWxlYnJhdG9yCi8vIEBuYW1lc3BhY2UgICAgIGh0dHBzOi8vd3d3LndhbmlrYW5pLmNvbQovLyBAZGVzY3JpcHRpb24gICBUaGlzIHdpbGwgZGlzcGxheSBhICJsZXZlbC11cCIgbm90aWZpY2F0aW9uIG9uIHlvdXIgV0sgRGFzaGJvYXJkIGFmdGVyIHlvdSBsZXZlbCB1cC4gIFlvdSBjYW4gY3VzdG9taXplIHRoZSBpbWFnZSBhbmQgdGV4dCBvZiB0aGUgZGlzcGxheS4gIE90aGVyIGFjaGlldmVtZW50cyBhcmUgYWxzbyBub3RlZC4gIEJ5IFJob3NWZWVkY3kuCi8vIEB2ZXJzaW9uIDIuNC4wCi8vIEBpbmNsdWRlICAgICAgIGh0dHBzOi8vd3d3LndhbmlrYW5pLmNvbS8KLy8gQGluY2x1ZGUgICAgICAgaHR0cHM6Ly93d3cud2FuaWthbmkuY29tL2Rhc2hib2FyZAovLyBAcnVuLWF0CSAgZG9jdW1lbnQtZW5kCi8vIEBncmFudAkgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKCi8vID09L1VzZXJTY3JpcHQ9PQoKZnVuY3Rpb24gZ2V0KGlkKSB7CiAgICBjb25zb2xlLmxvZygnZ2V0IGZjdCcpOwogICAgaWYgKGlkICYmIHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHsKCWNvbnNvbGUubG9nKGlkKTsKICAgICAgICBpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKICAgIH0KICAgIHJldHVybiBpZCB8fCBudWxsOwp9CgoKZnVuY3Rpb24gR01zZXR1cCgpIHsKICBpZiAoR01fcmVnaXN0ZXJNZW51Q29tbWFuZCkgewogICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgnV2FuaUthbmkgTGV2ZWxVUCBDZWxlYnJhdG9yOiBTZXQgaW1hZ2UgVVJMJywgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBjdXJFbnRyeSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJXS2x2bHVwSW1nVVJMIikgfHwgIiI7CiAgICAgIHZhciBuZXdJbWdVUkwgPSBwcm9tcHQoJ05ldyBJbWFnZSBVUkw6JywgY3VyRW50cnkpOwogICAgICBpZiAobmV3SW1nVVJMICE9IG51bGwpIHsKCWlmICh0eXBlb2YobmV3SW1nVVJMKSAhPT0gInN0cmluZyIpIHsKCQluZXdJbWdVUkwgPSBTdHJpbmcobmV3SW1nVVJMKTsKCX0KICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiV0tsdmx1cEltZ1VSTCIsIG5ld0ltZ1VSTCk7CiAgICAgIH0KICAgIH0pOwoKICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoJ1dhbmlLYW5pIExldmVsVVAgQ2VsZWJyYXRvcjogU2V0IGltYWdlIHBvc2l0aW9uJywgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBjdXJFbnRyeSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJXS2x2bHVwSW1nUG9zIikgfHwgIkxlZnQiOwogICAgICB2YXIgbmV3SW1nUG9zID0gcHJvbXB0KCdJbWFnZSBwb3NpdGlvbiByZWxhdGl2ZSB0byB0ZXh0IChsZWZ0LCByaWdodCwgYWJvdmUsIGJlbG93KTonLCBjdXJFbnRyeSk7CiAgICAgIGlmIChuZXdJbWdQb3MgIT0gbnVsbCkgewoJaWYgKHR5cGVvZihuZXdJbWdQb3MpICE9PSAic3RyaW5nIikgewoJCW5ld0ltZ1BvcyA9IFN0cmluZyhuZXdJbWdQb3MpOwoJfQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJXS2x2bHVwSW1nUG9zIiwgbmV3SW1nUG9zKTsKICAgICAgfQogICAgfSk7CgogICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgnV2FuaUthbmkgTGV2ZWxVUCBDZWxlYnJhdG9yOiBTZXQgdGV4dCcsIGZ1bmN0aW9uKCkgewogICAgICB2YXIgY3VyRW50cnkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiV0tsdmx1cFRleHQiKSB8fCAiIjsKICAgICAgdmFyIG5ld1RleHQgPSBwcm9tcHQoJ05ldyB0ZXh0OicsIGN1ckVudHJ5KTsKICAgICAgaWYgKG5ld1RleHQgIT0gbnVsbCkgewoJaWYgKHR5cGVvZihuZXdUZXh0KSAhPT0gInN0cmluZyIpIHsKCQluZXdUZXh0ID0gU3RyaW5nKG5ld1RleHQpOwoJfQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJXS2x2bHVwVGV4dCIsIG5ld1RleHQpOwogICAgICB9CiAgICB9KTsKCiAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCdXYW5pS2FuaSBMZXZlbFVQIENlbGVicmF0b3I6IFByZXZpZXcnLCBmdW5jdGlvbigpIHsKCXNlc3Npb25TdG9yYWdlLnNldEl0ZW0oIldLbHZsdXBQcmV2aWV3IiwgMSk7Cglsb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0pOwoKICB9Cn0KCgpmdW5jdGlvbiBjaGVja0xldmVsKCkgewoKCWNvbnNvbGUubG9nKCJjaGVja0xldmVsKCkgc3RhcnQiKTsKCgl2YXIgbGFzdEtub3duTGV2ZWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiV0tsdmx1cFByZXZMZXZlbCIpIHx8IDE7CiAgICB2YXIgbGV2ZWxUZXh0ID0gJCgnbGkudXNlci1zdW1tYXJ5X19hdHRyaWJ1dGUgYScpWzBdLmhyZWYuc3BsaXQoJy9sZXZlbC8nKVsxXTsKICAgIHZhciBjdXJsZXZlbCA9IChsZXZlbFRleHQ/IGxldmVsVGV4dDogbGFzdEtub3duTGV2ZWwpOwoKICAgIGNvbnNvbGUubG9nKCJsZXZlbFRleHQ6ICIsIGxldmVsVGV4dCk7CiAgICBjb25zb2xlLmxvZygiY3VybGV2ZWw6ICIsIGN1cmxldmVsKTsKCgl2YXIgcHJldiA9IE51bWJlcihsYXN0S25vd25MZXZlbCk7Cgl2YXIgY3VyICA9IE51bWJlcihjdXJsZXZlbCk7Cgl2YXIgbmV4dCA9IHByZXYgKyAxOwoKCWlmIChjdXIgPT0gbmV4dCkgeyAKCQljb25zb2xlLmxvZygibGV2ZWxlZCB1cCEiKTsKCQl2YXIgZCA9IG5ldyBEYXRlKCk7CgkJdmFyIG4gPSBkLmdldFRpbWUoKTsKCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiV0tsdmx1cExldlRpbWUiLCBuKTsgLy8gcmVjb3JkIGxldmVsLXVwIHRpbWUKCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiV0tsdmx1cFByZXZMZXZlbCIsIGN1cik7ICAvLyB1cGRhdGUgJ2xhc3RLbm93bkxldmVsJyBmb3IgbmV4dCB0aW1lCgoJfSBlbHNlIGlmIChjdXIgIT0gcHJldikgewoJCS8vIGVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlJ3JlIHJ1bm5pbmcsIG9yIHRoZXJlJ3MgYSBkaWZmZXJlbnQgdXNlciBoZXJlLCAKCQkvLyBvciB0aGUgdXNlcidzIHN1YnNjcmlwdGlvbiBzdGF0dXMgaGFzIGNoYW5nZWQsIG9yIHNvbWV0aGluZyBlbHNlIHdlaXJkIGlzIGdvaW5nIG9uOwoKCQkvLyBpZiBjdXIgPT0gMiwgYXNzdW1lIHRoZSB1c2VyJ3Mgc3Vic2NyaXB0aW9uIGV4cGlyZWQ7IGxlYXZlIGV2ZXJ5dGhpbmcgYmUgYW5kIHdhaXQgZm9yIHJlbmV3YWwuIE90aGVyd2lzZSwKCgkJaWYgKGN1ciAhPSAyIHx8ICEgbG9jYWxTdG9yYWdlLmdldEl0ZW0oIldLbHZsdXBQcmV2TGV2ZWwiKSkgeyAKCgkJCS8vIGNsZWFyIFdLbHZsdXBMZXZUaW1lIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCBkaXNwbGF5IHRoZSBsZXZlbC11cCBtZXNzYWdlCgkJCWNvbnNvbGUubG9nKCJyZWluaXRpYWxpemluZyIpOwoJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiV0tsdmx1cExldlRpbWUiLCAwKTsKCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oIldLbHZsdXBQcmV2TGV2ZWwiLCBjdXIpOyAgLy8gdXBkYXRlICdsYXN0S25vd25MZXZlbCcgZm9yIG5leHQgdGltZQoKCQkJLy8gYWxzbyByZWluaXRpYWxpemUgdGhlIG5leHRNaWxlc3RvbmVzIGFycmF5CgkJCWluaXRpYWxpemVNaWxlc3RvbmVzKCk7CgoJCX0KCgl9IC8vZWxzZSBjdXIgPT0gcHJldiwgc28gJ2xhc3RLbm93bkxldmVsJyBpcyBzdGlsbCBjb3JyZWN0IChvciBpdCB3aWxsIGNvbnRpbnVlIHRvIGRlZmF1bHQgdG8gMSBpZiBpdCBoYXNuJ3QgYmVlbiBzdG9yZWQgeWV0KQoKCWNvbnNvbGUubG9nKCJwcmV2IGxldmVsOiAiLCBwcmV2KTsKCWNvbnNvbGUubG9nKCJjdXIgbGV2ZWw6ICIsIGN1cik7Cgljb25zb2xlLmxvZygibmV4dCBsZXZlbDogIiwgbmV4dCk7Cgljb25zb2xlLmxvZygiY2hlY2tMZXZlbCgpIGVuZCIpOwoKCXJldHVybiBjdXI7Cn0KCgoKZnVuY3Rpb24gc2hvdWxkRGlzcGxheSgpIHsKCgljb25zb2xlLmxvZygnc2hvdWxkRGlzcGxheSgpIHN0YXJ0Jyk7CgoJdmFyIGxldlRpbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiV0tsdmx1cExldlRpbWUiKSB8fCAwOwoJdmFyIHJhd2R1ciA9IDEwOyAgLy8gbmV3IGxldmVsIGRpc3BsYXkgaXMgZW5hYmxlZCBmb3IgMTAgbWludXRlcyBhZnRlciBmaXJzdCBkaXNwbGF5IHRpbWUKCXZhciBkID0gbmV3IERhdGUoKTsKCXZhciBub3cgPSBkLmdldFRpbWUoKTsKCXZhciByZXR2YWw7Cgl2YXIgZHVyYXRpb24gPSBOdW1iZXIocmF3ZHVyKTsKCXZhciBwcmV2aWV3ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiV0tsdmx1cFByZXZpZXciKTsKCgl2YXIgdGhlVHh0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIldLbHZsdXBUZXh0Iik7CgoJY29uc29sZS5sb2coIm5vdyA9ICIsIG5vdyk7Cgljb25zb2xlLmxvZygibGV2VGltZSA9ICIsIGxldlRpbWUpOwoJY29uc29sZS5sb2coInJhd2R1ciA9ICIsIHJhd2R1cik7Cgljb25zb2xlLmxvZygiZHVyYXRpb24gbWludXRlcyA9ICIsIGR1cmF0aW9uKTsKCglpZiAocHJldmlldyAmJiBwcmV2aWV3ID09IDEpIHsKCQljb25zb2xlLmxvZygiUHJldmlldyBlbmFibGVkLCBkaXNwbGF5IGl0Iik7CgkJc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiV0tsdmx1cFByZXZpZXciLCAwKTsJLy8gb25jZSBvbmx5CgkJcmV0dXJuIDE7Cgl9CgoJaWYgKHRoZVR4dCAmJiB0aGVUeHQuc3Vic3RyaW5nKDAsIDgpID09ICIlI1RFU1QlIyIpIHsKCQljb25zb2xlLmxvZygidGV4dCBiZWdpbnMgd2l0aCAlI1RFU1QlIywgYWx3YXlzIGRpc3BsYXkiKTsKCQlyZXR1cm4gMTsKCX0KCQoJZHVyYXRpb24gKj0gNjAwMDA7IC8vIGNvbnZlcnQgdG8gbWlsbGlzZWNvbmRzCgoJY29uc29sZS5sb2coImR1cmF0aW9uIG1zZWMgPSAiLCBkdXJhdGlvbik7CgoJY29uc29sZS5sb2coIm5vdyAtIGxldlRpbWUgPSAiLCBub3cgLSBsZXZUaW1lKTsKCglpZiAoKG5vdyAtIGxldlRpbWUpIDw9IGR1cmF0aW9uKSB7CgkJcmV0dmFsID0gMTsKCX0gZWxzZSB7CgkJcmV0dmFsID0gMDsKCX0KCgljb25zb2xlLmxvZygicmV0dmFsID0gIiwgcmV0dmFsKTsKCgljb25zb2xlLmxvZygnc2hvdWxkRGlzcGxheSgpIGVuZCcpOwoJcmV0dXJuIHJldHZhbDsKfQoKCgpmdW5jdGlvbiBkaXNwbGF5TGV2ZWxVcE1lc3NhZ2UgKCBjdXJMZXZlbCApIHsKCWNvbnNvbGUubG9nKCdkaXNwbGF5TGV2ZWxVcE1lc3NhZ2UoKSBzdGFydCcpOwoJdmFyIG1zZyA9IGdldCgic2VhcmNoIik7CiAgICAJdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKIAl2YXIgdGhlSW1nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIldLbHZsdXBJbWdVUkwiKTsKIAl2YXIgdGhlUG9zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIldLbHZsdXBJbWdQb3MiKSB8fCAiTEVGVCI7Cgl2YXIgdGhlVHh0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIldLbHZsdXBUZXh0Iik7CgogICAgc3dpdGNoKHRoZVBvcy50b1VwcGVyQ2FzZSgpKSB7CgogICAgICAgIGNhc2UgIkJFTE9XIjoKICAgICAgICBjYXNlICJVTkRFUiI6CiAgICAgICAgY2FzZSAiVU5ERVJORUFUSCI6CiAgICAgICAgY2FzZSAiRE9XTiI6CiAgICAgICAgY2FzZSAiQk9UVE9NIjoKICAgICAgICBjYXNlICLjgZfjgZ8iOgogICAgICAgIGNhc2UgIuS4iyI6CiAgICAgICAgICAgIHQuaW5uZXJIVE1MID0gJzxkaXYgaWQ9IldLbHZsdXBUeHQiIHN0eWxlPSJtYXJnaW46YXV0bzt0ZXh0LWFsaWduOmNlbnRlcjtsaW5lLWhlaWdodDoxMTAlO2ZvbnQtc2l6ZTozMDAlIj4gPC9kaXY+JysKICAgICAgICAgICAgICAgICc8aW1nIGlkPSJXS2x2bHVwSW1nIiBzdHlsZT0iZGlzcGxheTpibG9jazttYXJnaW46YXV0byI+IDwvaW1nPicrCiAgICAgICAgCQknPC9kaXY+JzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIkFCT1ZFIjoKICAgICAgICBjYXNlICJUT1AiOgogICAgICAgIGNhc2UgIlVQIjoKICAgICAgICBjYXNlICJPVkVSIjoKICAgICAgICBjYXNlICJPTiBUT1AgT0YiOgogICAgICAgIGNhc2UgIkNFTlRFUiI6CiAgICAgICAgY2FzZSAiQ0VOVEVSRUQiOgogICAgICAgIGNhc2UgIuOBhuOBiCI6CiAgICAgICAgY2FzZSAi5LiKIjoKICAgICAgICBjYXNlICLjgarjgYsiOgogICAgICAgIGNhc2UgIuS4rSI6CiAgICAgICAgY2FzZSAi44Gh44KF44GG44GK44GGIjoKICAgICAgICBjYXNlICLkuK3lpK4iOgogICAgICAgICAgICB0LmlubmVySFRNTCA9ICc8aW1nIGlkPSJXS2x2bHVwSW1nIiBzdHlsZT0iZGlzcGxheTpibG9jazttYXJnaW46YXV0byI+IDwvaW1nPicrCiAgICAgICAgICAgICAgICAnPGRpdiBpZD0iV0tsdmx1cFR4dCIgc3R5bGU9Im1hcmdpbjphdXRvO3RleHQtYWxpZ246Y2VudGVyO2xpbmUtaGVpZ2h0OjExMCU7Zm9udC1zaXplOjMwMCUiPiA8L2Rpdj4nKwogICAgICAgIAkJJzwvZGl2Pic7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJMRUZUIjoKICAgICAgICBjYXNlICJBVCBMRUZUIjoKICAgICAgICBjYXNlICJPTiBMRUZUIjoKICAgICAgICBjYXNlICJPTiBUSEUgTEVGVCI6CiAgICAgICAgY2FzZSAiTEVGVCBPRiI6CiAgICAgICAgY2FzZSAiVE8gVEhFIExFRlQgT0YiOgogICAgICAgIGNhc2UgIuOBsuOBoOOCiiI6CiAgICAgICAgY2FzZSAi5bemIjoKICAgICAgICBjYXNlICLjgbLjgaDjgorjgYzjgo8iOgogICAgICAgIGNhc2UgIuW3puWBtCI6CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgdC5pbm5lckhUTUwgPSAnPGltZyBpZD0iV0tsdmx1cEltZyIgc3R5bGU9ImZsb2F0OmxlZnQ7bWFyZ2luOjIwcHgiPiA8L2ltZz4nKwogICAgICAgICAgICAgICAgJzxkaXYgaWQ9IldLbHZsdXBUeHQiIHN0eWxlPSJtYXJnaW46MjBweDtmbG9hdDpsZWZ0O3RleHQtYWxpZ246Y2VudGVyO2xpbmUtaGVpZ2h0OjExMCU7Zm9udC1zaXplOjMwMCUiPiA8L2Rpdj4nKwogICAgICAgIAkJJzwvZGl2Pic7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJSSUdIVCI6CiAgICAgICAgY2FzZSAiQVQgUklHSFQiOgogICAgICAgIGNhc2UgIk9OIFJJR0hUIjoKICAgICAgICBjYXNlICJPTiBUSEUgUklHSFQiOgogICAgICAgIGNhc2UgIlJJR0hUIE9GIjoKICAgICAgICBjYXNlICJUTyBUSEUgUklHSFQgT0YiOgogICAgICAgIGNhc2UgIk1JR0kiOgogICAgICAgIGNhc2UgIuOBv+OBjiI6CiAgICAgICAgY2FzZSAi5Y+zIjoKICAgICAgICBjYXNlICLjgb/jgY7jgYzjgo8iOgogICAgICAgIGNhc2UgIuWPs+WBtCI6CiAgICAgICAgICAgIHQuaW5uZXJIVE1MID0gJzxpbWcgaWQ9IldLbHZsdXBJbWciIHN0eWxlPSJmbG9hdDpyaWdodDttYXJnaW46MjBweCI+IDwvaW1nPicrCiAgICAgICAgICAgICAgICAnPGRpdiBpZD0iV0tsdmx1cFR4dCIgc3R5bGU9Im1hcmdpbjoyMHB4O2Zsb2F0OnJpZ2h0O3RleHQtYWxpZ246Y2VudGVyO2xpbmUtaGVpZ2h0OjExMCU7Zm9udC1zaXplOjMwMCUiPiA8L2Rpdj4nKwogICAgICAgIAkJJzwvZGl2Pic7CiAgICAgICAgICAgIGJyZWFrOwoKICAgIH0KICAgIHQuc3R5bGUud2lkdGggPSAiMTIwMHB4IjsKICAgIHQuc3R5bGUubWFyZ2luID0gImF1dG8iOwoKICAgIG1zZy5hcHBlbmRDaGlsZCh0KTsKCgl2YXIgdGhpbmcxID0gZ2V0KCJXS2x2bHVwSW1nIik7CglpZiAodGhpbmcxICYmIHRoZUltZykgewoJCXRoaW5nMS5zcmMgPSB0aGVJbWc7Cgl9CgoJdmFyIHRoaW5nMiA9IGdldCgiV0tsdmx1cFR4dCIpOwoKCWlmICh0aGluZzIgJiYgdGhlVHh0KSB7CgkJaWYgKHRoZVR4dC5zdWJzdHJpbmcoMCwgOCkgPT0gIiUjVEVTVCUjIikgewoJCQkvLyBpbmRpY2F0ZXMgdGVzdCBtb2RlOyBzdHJpcCB0aGUgdGVzdCBmbGFnIG91dCBvZiB0aGUgdGV4dAoJCQl0aGVUeHQgPSB0aGVUeHQucmVwbGFjZSgiJSNURVNUJSMiLCAiIik7CgkJfQoJCQoJCXRoZVR4dCA9IHRoZVR4dC5yZXBsYWNlKC8jTEVWRUxOVU0jL2csIGN1ckxldmVsKTsgIC8vIHN1cHBvcnQgI0xFVkVMTlVNIyB2YXJpYWJsZSBpbiB0ZXh0IHN0cmluZ3MKCgkJdGhpbmcyLmlubmVySFRNTD0gdGhlVHh0OwoJfSAKCgljb25zb2xlLmxvZygnZGlzcGxheUxldmVsVXBNZXNzYWdlKCkgZW5kJyk7Cn0KCgpmdW5jdGlvbiBnZXROZXh0TWlsZXN0b25lKCBudW1UdXJ0bGVzICkgewoKCWNvbnNvbGUubG9nKCJnZXROZXh0TWlsZXN0b25lKCkiKTsKCgl2YXIgbWlsZXN0b25lcyA9IFsxLCAxMDAsIDI1MCwgNTAwLCA3NTAsIDEwMDAsIDE1MDAsIDIwMDAsIDI1MDAsIDMwMDAsIDQwMDAsIDUwMDAsIDYwMDAsIDcwMDAsIDgwMDAsIDkwMDAsIDEwMDAwLCA5OTk5OTldOwoJdmFyIGk9MDsKCgljb25zb2xlLmxvZygibnVtVHVydGxlcyA9ICIsIG51bVR1cnRsZXMpOwoKCXdoaWxlICggbWlsZXN0b25lc1tpXSA8PSBudW1UdXJ0bGVzICkgewoKCQlpKys7Cgl9Cgljb25zb2xlLmxvZygibmV4dCBtaWxlc3RvbmUgPSAiLCBtaWxlc3RvbmVzW2ldKTsKCXJldHVybiBtaWxlc3RvbmVzW2ldOwp9CgoKZnVuY3Rpb24gZ2V0VHVydGxlQ291bnRzKCkgewkvLyBjdW11bGF0aXZlIChlbmwgPSBlbmwgKyBidXIsIGV0Yy4pCgoJY29uc29sZS5sb2coImdldFR1cnRsZUNvdW50cygpIik7CgoJLy8gSSdtIGRvaW5nIHRoZSBzdHJpbmcgc3BsaXQoIiAiKSBhbmQgcmVwbGFjZSgpIHNvIHdlIHdpbGwgcGxheSBuaWNlbHkgd2l0aCBvbmUgb2YgbXkgb3RoZXIgc2NyaXB0cyBqdXN0IGluIGNhc2UgdGhlIG90aGVyIG9uZSBydW5zIGZpcnN0CgoJdmFyIGJzdHIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnVybmVkIikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNwYW4iKVswXS5pbm5lckhUTUwuc3BsaXQoIiAiKVswXSB8fCAiMCI7Cgl2YXIgZXN0ciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbmxpZ2h0ZW5lZCIpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzcGFuIilbMF0uaW5uZXJIVE1MLnNwbGl0KCIgIilbMF0gfHwgIjAiOwoJdmFyIG1zdHIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFzdGVyIikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNwYW4iKVswXS5pbm5lckhUTUwuc3BsaXQoIiAiKVswXSB8fCAiMCI7Cgl2YXIgZ3N0ciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJndXJ1IikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNwYW4iKVswXS5pbm5lckhUTUwuc3BsaXQoIiAiKVswXSB8fCAiMCI7Cgl2YXIgYXN0ciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHByZW50aWNlIikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNwYW4iKVswXS5pbm5lckhUTUwuc3BsaXQoIiAiKVswXSB8fCAiMCI7CgoJdmFyIHVwYXJyb3cgPSAi4oaRIjsKCXZhciBkb3duYXJyb3cgPSAi4oaTIjsKCglic3RyID0gYnN0ci5yZXBsYWNlKHVwYXJyb3csICIiKTsKCWVzdHIgPSBlc3RyLnJlcGxhY2UodXBhcnJvdywgIiIpOwoJbXN0ciA9IG1zdHIucmVwbGFjZSh1cGFycm93LCAiIik7Cglnc3RyID0gZ3N0ci5yZXBsYWNlKHVwYXJyb3csICIiKTsKCWFzdHIgPSBhc3RyLnJlcGxhY2UodXBhcnJvdywgIiIpOwoKCWJzdHIgPSBic3RyLnJlcGxhY2UoZG93bmFycm93LCAiIik7Cgllc3RyID0gZXN0ci5yZXBsYWNlKGRvd25hcnJvdywgIiIpOwoJbXN0ciA9IG1zdHIucmVwbGFjZShkb3duYXJyb3csICIiKTsKCWdzdHIgPSBnc3RyLnJlcGxhY2UoZG93bmFycm93LCAiIik7Cglhc3RyID0gYXN0ci5yZXBsYWNlKGRvd25hcnJvdywgIiIpOwoKCXZhciBidXJuZWQgPSBOdW1iZXIoIGJzdHIgKTsKCXZhciBlbmxpZ2h0ZW5lZCA9IE51bWJlciggZXN0ciApOwoJdmFyIG1hc3RlciA9IE51bWJlciggbXN0ciApOwoJdmFyIGd1cnUgPSBOdW1iZXIoIGdzdHIgKTsKCXZhciBhcHByZW50aWNlID0gTnVtYmVyKCBhc3RyICk7CgoJY29uc29sZS5sb2coInJhdyBjb3VudHM6ICIsIGFwcHJlbnRpY2UsIGd1cnUsIG1hc3RlciwgZW5saWdodGVuZWQsIGJ1cm5lZCk7CgoJZW5saWdodGVuZWQgKz0gYnVybmVkOwoJbWFzdGVyICs9IGVubGlnaHRlbmVkOwoJZ3VydSArPSBtYXN0ZXI7CglhcHByZW50aWNlICs9IGd1cnU7CgoJY29uc29sZS5sb2coImN1bXVsYXRpdmUgY291bnRzOiAiLCBhcHByZW50aWNlLCBndXJ1LCBtYXN0ZXIsIGVubGlnaHRlbmVkLCBidXJuZWQpOwoKCXJldHVybiBbYXBwcmVudGljZSwgZ3VydSwgbWFzdGVyLCBlbmxpZ2h0ZW5lZCwgYnVybmVkXTsKfQoKCgpmdW5jdGlvbiBpbml0ICgpIHsKCWNvbnNvbGUubG9nKCdpbml0KCkgc3RhcnQnKTsKCiAJdmFyIHRoZUltZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJXS2x2bHVwSW1nVVJMIik7Cgl2YXIgdGhlVHh0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIldLbHZsdXBUZXh0Iik7Cgl2YXIgbmV4dE1pbGVzdG9uZXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiV0tsdmx1cE1pbGVzdG9uZXMiKTsKICAgIAogICAgICAJaWYgKCF0aGVJbWcpIHsKCQl0aGVJbWcgPSAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9LNlVRTDFaLmdpZiI7CiAgICAgICAgCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCJXS2x2bHVwSW1nVVJMIiwgdGhlSW1nKTsKICAgICAgCX0KICAgICAgCiAgICAgIAlpZiAoIXRoZVR4dCkgewoJCXRoZVR4dCA9ICc8YnIvPllvdSBsZXZlbGVkIHVwITxici8+Q29uZ3JhdHVsYXRpb25zISc7CiAgICAgICAgCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCJXS2x2bHVwVGV4dCIsIHRoZVR4dCk7CiAgICAgIAl9CgoJaWYgKCFuZXh0TWlsZXN0b25lcykgewoKCQlpbml0aWFsaXplTWlsZXN0b25lcygpOwoJCQoJfQoKCWNvbnNvbGUubG9nKCdpbml0KCkgZW5kJyk7Cn0KCgpmdW5jdGlvbiBpbml0aWFsaXplTWlsZXN0b25lcyAoKSB7CgoJY29uc29sZS5sb2coImluaXRpYWxpemVNaWxlc3RvbmVzKCkiKTsKCgl2YXIgdHVydGxlQ291bnRzID0gZ2V0VHVydGxlQ291bnRzKCk7CS8vIGN1bXVsYXRpdmUgKGVubCA9IGVubCArIGJ1ciwgZXRjLikKCXZhciBuZXh0TWlsZXN0b25lcyA9IG5ldyBBcnJheSgpOwoKCWZvciAodmFyIHg9MTsgeCA8IHR1cnRsZUNvdW50cy5sZW5ndGg7IHgrKykgewoKCQluZXh0TWlsZXN0b25lc1t4LTFdID0gZ2V0TmV4dE1pbGVzdG9uZSggdHVydGxlQ291bnRzW3hdICk7ICAvLyB0dXJ0bGVDb3VudHNbXSBpbmNsdWRlcyBBcHByZW50aWNlIGl0ZW1zLCBuZXh0TWlsZXN0b25lc1tdIGRvZXMgbm90Cgl9CgoJbG9jYWxTdG9yYWdlLnNldEl0ZW0oIldLbHZsdXBNaWxlc3RvbmVzIiwgSlNPTi5zdHJpbmdpZnkobmV4dE1pbGVzdG9uZXMpKTsKfQoKCmZ1bmN0aW9uIGNoZWNrTWlsZXN0b25lcyggbGV2ZWwgKSB7CgoJY29uc29sZS5sb2coImNoZWNrTWlsZXN0b25lcygpIik7CgoJdmFyIG5leHRNaWxlc3RvbmVzID0gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLmdldEl0ZW0oIldLbHZsdXBNaWxlc3RvbmVzIikgKTsKCXZhciB0dXJ0bGVDb3VudHMgPSBnZXRUdXJ0bGVDb3VudHMoKTsKCXZhciBhY2hpZXZlbWVudHMgPSBuZXcgQXJyYXkoKTsKCXZhciBnb3RPbmUgPSAwOwoJdmFyIHRlc3RBbGxEb25lID0gbnVsbDsgLy9zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJXS2x2bHVwVGVzdEFsbEJ1cm5lZCIpOwoKCWNvbnNvbGUubG9nKCJuZXh0TWlsZXN0b25lczogIiwgSlNPTi5zdHJpbmdpZnkobmV4dE1pbGVzdG9uZXMpKTsKCglpZiAoIHRlc3RBbGxEb25lIHx8IChsZXZlbCA+PSA1MCAgJiYgKHR1cnRsZUNvdW50c1swXSA9PSB0dXJ0bGVDb3VudHNbNF0pKSkgewoKCQkvLyBhbHNvIGNoZWNrIHRoYXQgbGVzc29ucyA9PSAwIGFuZCByZXZpZXdzID09IDAKCgkJdmFyIHJ2d3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJyZXZpZXdzIilbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNwYW4iKVswXTsKCQl2YXIgbHNucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxlc3NvbnMiKVswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3BhbiIpWzBdOwoJCgkJaWYgKHRlc3RBbGxEb25lIHx8IChydndzID09IDAgJiYgbHNucyA9PSAwKSkgewoKCQkJY29uc29sZS5sb2coImFsbCB0dXJ0bGVzIGJ1cm5lZCEiKTsKCgkJCS8vIHNldCBmbGFnCgkJCXNlc3Npb25TdG9yYWdlLnNldEl0ZW0oIldLbHZsdXBBbGxCdXJuZWQiLCAxKTsKCgkJCS8vIHJldHVybiBzb21lIG90aGVyd2lzZS1pbXBvc3NpYmxlIGFycmF5IHNvIHRoYXQgd2UnbGwgZ2V0IGludG8gZGlzcGxheU1pbGVzdG9uZXMoKQoJCQljb25zb2xlLmxvZygicmV0dXJuaW5nIFsxLDEsMSwxXSIpOwkKCQkJcmV0dXJuIFsxLCAxLCAxLCAxXTsKCQl9Cgl9CgoJZm9yICh2YXIgeD0wOyB4IDwgbmV4dE1pbGVzdG9uZXMubGVuZ3RoOyB4KyspIHsKCgkJaWYgKHR1cnRsZUNvdW50c1t4KzFdID49IG5leHRNaWxlc3RvbmVzW3hdKSB7IC8vIHR1cnRsZUNvdW50c1tdIGluY2x1ZGVzIEFwcHJlbnRpY2UgaXRlbXMsIG5leHRNaWxlc3RvbmVzW10gZG9lcyBub3QKCQkJCgkJCWFjaGlldmVtZW50c1t4XSA9IG5leHRNaWxlc3RvbmVzW3hdOwoJCQluZXh0TWlsZXN0b25lc1t4XSA9IGdldE5leHRNaWxlc3RvbmUoIHR1cnRsZUNvdW50c1t4KzFdICk7CgkJCWdvdE9uZSsrOwoKCQl9IGVsc2UgewoJCQlhY2hpZXZlbWVudHNbeF0gPSAwOwoJCX0KCX0KCgljb25zb2xlLmxvZygiYWNoaWV2ZW1lbnRzOiAiLCBKU09OLnN0cmluZ2lmeShhY2hpZXZlbWVudHMpKTsKCglpZiAoZ290T25lICE9IDApIHsKCgkJY29uc29sZS5sb2coImNoZWNrTWlsZXN0b25lcygpIHJldHVybmluZyBhY2hpZXZlbWVudHMiKTsKCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiV0tsdmx1cE1pbGVzdG9uZXMiLCBKU09OLnN0cmluZ2lmeShuZXh0TWlsZXN0b25lcykpOwoJCXJldHVybiBhY2hpZXZlbWVudHM7CgoJfSBlbHNlIHsKCQljb25zb2xlLmxvZygiY2hlY2tNaWxlc3RvbmVzKCkgcmV0dXJuaW5nIG51bGwiKTsKCQlyZXR1cm4gbnVsbDsKCX0KfQoKCmZ1bmN0aW9uIGRpc3BsYXlNaWxlc3RvbmVzICggbWlsZXN0b25lcyApIHsKCgljb25zb2xlLmxvZygnZGlzcGxheU1pbGVzdG9uZXMoKSBzdGFydCcpOwoJdmFyIG1zZyA9IGdldCgic2VhcmNoIik7CiAgICAJdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKIAl2YXIgdGhlSW1nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIldLbHZsdXBJbWdVUkwiKTsKCXZhciB0aGVUeHQgPSAiPGJyLz4iOwoJdmFyIGxhYmVscyA9IFsiIEd1cnUgdHVydGxlISIsICIgTWFzdGVyIHR1cnRsZSEiLCAiIEVubGlnaHRlbmVkIHR1cnRsZSEiLCAiIEJ1cm5lZCB0dXJ0bGUhIl07CiAJdmFyIHRoZVBvcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJXS2x2bHVwSW1nUG9zIikgfHwgIkxFRlQiOwoKICAgIHN3aXRjaCh0aGVQb3MudG9VcHBlckNhc2UoKSkgewoKICAgICAgICBjYXNlICJCRUxPVyI6CiAgICAgICAgY2FzZSAiVU5ERVIiOgogICAgICAgIGNhc2UgIlVOREVSTkVBVEgiOgogICAgICAgIGNhc2UgIkRPV04iOgogICAgICAgIGNhc2UgIkJPVFRPTSI6CiAgICAgICAgY2FzZSAi44GX44GfIjoKICAgICAgICBjYXNlICLkuIsiOgogICAgICAgICAgICB0LmlubmVySFRNTCA9ICc8ZGl2IGlkPSJXS2x2bHVwVHh0IiBzdHlsZT0ibWFyZ2luOmF1dG87dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MTEwJTtmb250LXNpemU6MzAwJSI+IDwvZGl2PicrCiAgICAgICAgICAgICAgICAnPGltZyBpZD0iV0tsdmx1cEltZyIgc3R5bGU9ImRpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG8iPiA8L2ltZz4nKwogICAgICAgIAkJJzwvZGl2Pic7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJBQk9WRSI6CiAgICAgICAgY2FzZSAiVE9QIjoKICAgICAgICBjYXNlICJVUCI6CiAgICAgICAgY2FzZSAiT1ZFUiI6CiAgICAgICAgY2FzZSAiT04gVE9QIE9GIjoKICAgICAgICBjYXNlICJDRU5URVIiOgogICAgICAgIGNhc2UgIkNFTlRFUkVEIjoKICAgICAgICBjYXNlICLjgYbjgYgiOgogICAgICAgIGNhc2UgIuS4iiI6CiAgICAgICAgY2FzZSAi44Gq44GLIjoKICAgICAgICBjYXNlICLkuK0iOgogICAgICAgIGNhc2UgIuOBoeOCheOBhuOBiuOBhiI6CiAgICAgICAgY2FzZSAi5Lit5aSuIjoKICAgICAgICAgICAgdC5pbm5lckhUTUwgPSAnPGltZyBpZD0iV0tsdmx1cEltZyIgc3R5bGU9ImRpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG8iPiA8L2ltZz4nKwogICAgICAgICAgICAgICAgJzxkaXYgaWQ9IldLbHZsdXBUeHQiIHN0eWxlPSJtYXJnaW46YXV0bzt0ZXh0LWFsaWduOmNlbnRlcjtsaW5lLWhlaWdodDoxMTAlO2ZvbnQtc2l6ZTozMDAlIj4gPC9kaXY+JysKICAgICAgICAJCSc8L2Rpdj4nOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiTEVGVCI6CiAgICAgICAgY2FzZSAiQVQgTEVGVCI6CiAgICAgICAgY2FzZSAiT04gTEVGVCI6CiAgICAgICAgY2FzZSAiT04gVEhFIExFRlQiOgogICAgICAgIGNhc2UgIkxFRlQgT0YiOgogICAgICAgIGNhc2UgIlRPIFRIRSBMRUZUIE9GIjoKICAgICAgICBjYXNlICLjgbLjgaDjgooiOgogICAgICAgIGNhc2UgIuW3piI6CiAgICAgICAgY2FzZSAi44Gy44Gg44KK44GM44KPIjoKICAgICAgICBjYXNlICLlt6blgbQiOgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHQuaW5uZXJIVE1MID0gJzxpbWcgaWQ9IldLbHZsdXBJbWciIHN0eWxlPSJmbG9hdDpsZWZ0O21hcmdpbjoyMHB4Ij4gPC9pbWc+JysKICAgICAgICAgICAgICAgICc8ZGl2IGlkPSJXS2x2bHVwVHh0IiBzdHlsZT0ibWFyZ2luOjIwcHg7ZmxvYXQ6bGVmdDt0ZXh0LWFsaWduOmNlbnRlcjtsaW5lLWhlaWdodDoxMTAlO2ZvbnQtc2l6ZTozMDAlIj4gPC9kaXY+JysKICAgICAgICAJCSc8L2Rpdj4nOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiUklHSFQiOgogICAgICAgIGNhc2UgIkFUIFJJR0hUIjoKICAgICAgICBjYXNlICJPTiBSSUdIVCI6CiAgICAgICAgY2FzZSAiT04gVEhFIFJJR0hUIjoKICAgICAgICBjYXNlICJSSUdIVCBPRiI6CiAgICAgICAgY2FzZSAiVE8gVEhFIFJJR0hUIE9GIjoKICAgICAgICBjYXNlICJNSUdJIjoKICAgICAgICBjYXNlICLjgb/jgY4iOgogICAgICAgIGNhc2UgIuWPsyI6CiAgICAgICAgY2FzZSAi44G/44GO44GM44KPIjoKICAgICAgICBjYXNlICLlj7PlgbQiOgogICAgICAgICAgICB0LmlubmVySFRNTCA9ICc8aW1nIGlkPSJXS2x2bHVwSW1nIiBzdHlsZT0iZmxvYXQ6cmlnaHQ7bWFyZ2luOjIwcHgiPiA8L2ltZz4nKwogICAgICAgICAgICAgICAgJzxkaXYgaWQ9IldLbHZsdXBUeHQiIHN0eWxlPSJtYXJnaW46MjBweDtmbG9hdDpyaWdodDt0ZXh0LWFsaWduOmNlbnRlcjtsaW5lLWhlaWdodDoxMTAlO2ZvbnQtc2l6ZTozMDAlIj4gPC9kaXY+JysKICAgICAgICAJCSc8L2Rpdj4nOwogICAgICAgICAgICBicmVhazsKCiAgICB9CgogICAgdC5zdHlsZS53aWR0aCA9ICIxMjAwcHgiOwogICAgdC5zdHlsZS5tYXJnaW4gPSAiYXV0byI7CgogICAgbXNnLmFwcGVuZENoaWxkKHQpOwoKCXZhciB0aGluZzEgPSBnZXQoIldLbHZsdXBJbWciKTsKCWlmICh0aGluZzEgJiYgdGhlSW1nKSB7CgkJdGhpbmcxLnNyYyA9IHRoZUltZzsKCX0KCgl2YXIgYWxsRG9uZVdLID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiV0tsdmx1cEFsbEJ1cm5lZCIpOwoJCglpZiAoYWxsRG9uZVdLICYmIGFsbERvbmVXSyA9PSAxKSB7CgoJCXRoZVR4dCArPSAiQUxMIFRVUlRMRVMgQlVSTkVEITxici8+V0FOSUtBTkkgQ09NUExFVEUhIjsKCQkvL3Nlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oIldLbHZsdXBUZXN0QWxsQnVybmVkIik7Cgl9IGVsc2UgewoKCQlmb3IgKHZhciB4ID0gbWlsZXN0b25lcy5sZW5ndGggLSAxOyB4ID49IDA7IHgtLSkgewoKCQkJaWYgKG1pbGVzdG9uZXNbeF0gPT0gMSkgewoKCQkJCXRoZVR4dCArPSAiRmlyc3QiICsgbGFiZWxzW3hdICsgIjxici8+IjsKCQkJfQoJCQllbHNlIGlmIChtaWxlc3RvbmVzW3hdICE9IDApIHsKCgkJCQl0aGVUeHQgKz0gbWlsZXN0b25lc1t4XSArICJ0aCIgKyBsYWJlbHNbeF0gKyAiPGJyLz4iOwoJCQl9CgkJfQoJfQoKICAgIHZhciBjdXN0b21CdXJuTGFiZWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiV0tCTFJCdXJuTGV2ZWxOYW1lIikgfHwgIkJ1cm5lZCI7CiAgICBpZiAoY3VzdG9tQnVybkxhYmVsICYmIChjdXN0b21CdXJuTGFiZWwgIT0gIkJ1cm5lZCIpKSB7CiAgICAgICAgdmFyIG5ld1RleHQgPSB0aGVUeHQucmVwbGFjZSgiQnVybmVkIiwgY3VzdG9tQnVybkxhYmVsKTsKICAgICAgICBpZiAobmV3VGV4dCA9PSB0aGVUeHQpIHsKICAgICAgICAgICAgdmFyIG5ld0NCTCA9IGN1c3RvbUJ1cm5MYWJlbC50b1VwcGVyQ2FzZSgpOwogICAgICAgICAgICBuZXdUZXh0ID0gdGhlVHh0LnJlcGxhY2UoIkJVUk5FRCIsIG5ld0NCTCk7CiAgICAgICAgfQogICAgICAgIHRoZVR4dCA9IG5ld1RleHQ7CiAgICB9CgoJdmFyIHRoaW5nMiA9IGdldCgiV0tsdmx1cFR4dCIpOwoKCWlmICh0aGluZzIpIHsKCgkJdGhpbmcyLmlubmVySFRNTD0gdGhlVHh0OwoJfSAKCgljb25zb2xlLmxvZygnZGlzcGxheU1pbGVzdG9uZXMoKSBlbmQnKTsKfQoKCgpmdW5jdGlvbiBtYWluICgpIHsKCgl2YXIgY3VyTGV2ZWw7CgoJY29uc29sZS5sb2coIm1haW4oKSIpOwoKCWluaXQoKTsKCglHTXNldHVwKCk7CgoJY3VyTGV2ZWwgPSBjaGVja0xldmVsKCk7CgoJdmFyIGxhc3RLbm93bkxldmVsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIldLbHZsdXBQcmV2TGV2ZWwiKSB8fCAxOwoKCWlmIChjdXJMZXZlbCAhPSBsYXN0S25vd25MZXZlbCkgeyByZXR1cm47IH0KCglpZiAoc2hvdWxkRGlzcGxheSgpKSB7CgoJCXZhciBkdXJ0ZXh0ID0gZ2V0KCJXS2x2bGR1clR4dCIpOwoKCQlpZiAoZHVydGV4dCkgeyBkdXJ0ZXh0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZHVydGV4dCk7IH0gIC8vIG92ZXJyaWRlIFdLIExldmVsIER1cmF0aW9uIHNjcmlwdAoKCQlkaXNwbGF5TGV2ZWxVcE1lc3NhZ2UoIGN1ckxldmVsICk7CgoJfSBlbHNlIHsKCgkJdmFyIG1pbGVzdG9uZXMgPSBjaGVja01pbGVzdG9uZXMoIGN1ckxldmVsICk7CgoJCWlmIChtaWxlc3RvbmVzKSB7CgoJCQl2YXIgZHVydGV4dCA9IGdldCgiV0tsdmxkdXJUeHQiKTsKCgkJCWlmIChkdXJ0ZXh0KSB7IGR1cnRleHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkdXJ0ZXh0KTsgfSAgLy8gb3ZlcnJpZGUgV0sgTGV2ZWwgRHVyYXRpb24gc2NyaXB0CgoJCQlkaXNwbGF5TWlsZXN0b25lcyggbWlsZXN0b25lcyApOwoKCQl9IAoJfQp9Cgp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIG1haW4sIGZhbHNlKTsKCmNvbnNvbGUubG9nKCdzY3JpcHQgbG9hZCBlbmQnKTsK"},{"name":"WaniKani Katakana Madness","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["https://www.wanikani.com/*","http://www.wanikani.com/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1588770714968,"data":{}},"enabled":true,"position":5,"file_url":"https://greasyfork.org/scripts/26481-wanikani-katakana-madness/code/WaniKani%20Katakana%20Madness.user.js","uuid":"426adb92-86f2-42f5-8e8f-83e095586b99","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBXYW5pS2FuaSBLYXRha2FuYSBNYWRuZXNzCi8vIEBhdXRob3IgICAgICAgTHVrZS1GaWxld2Fsa2VyCi8vIEBuYW1lc3BhY2UgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi9zY3JpcHRzLzI2NDgxLXdhbmlrYW5pLWthdGFrYW5hLW1hZG5lc3MKLy8gQGluY2x1ZGUgICAgICBodHRwczovL3d3dy53YW5pa2FuaS5jb20vKgovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly93d3cud2FuaWthbmkuY29tLyoKLy8gQHZlcnNpb24gICAgICAxLjAuOAovLyBAZGVzY3JpcHRpb24gIFRyYW5zZm9ybXMgZXZlcnl0aGluZyByZWxhdGVkIHRvIG9uJ3lvbWkgaW50byBrYXRha2FuYQovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LWVuZAovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQGxpY2Vuc2UgICAgICBHUEwgdjMuMAovLyA9PS9Vc2VyU2NyaXB0PT0KCi8qCiogS2FuamkgaW1wb3J0YW50IHJlYWRpbmcgKDE6IG9ueW9taSwgMDoga3VueW9taSkKKiBTYXZlZCBsb2NhbHksIHRvIHVwZGF0ZSBlbnRlciBhcGlLZXkgYW5kIHVzZSBmdW5jdGlvbiBvbiB0aGUgYm90dG9tIG9mIHRoZSBzY3JpcHQKKi8KdmFyIGFwaUtleSA9ICJrZXkiOwp2YXIga2FuamlZb21pUExFQVNBTlQgPSB7IuS4gCI6MSwi5LqMIjoxLCLkuZ0iOjEsIuS4gyI6MSwi5Lq6IjoxLCLlhaUiOjEsIuWFqyI6MSwi5YqbIjoxLCLljYEiOjEsIuS4iSI6MSwi5LiKIjoxLCLkuIsiOjEsIuWPoyI6MSwi5aSnIjoxLCLlpbMiOjEsIuWxsSI6MSwi5bedIjowLCLlt6UiOjEsIuWIgCI6MSwi5ZyfIjoxLCLljYMiOjEsIuWklSI6MCwi5a2QIjoxLCLlsI8iOjEsIuS4gSI6MSwi5LqGIjoxLCLlj4giOjAsIuS4uCI6MCwi5omNIjoxLCLkuK0iOjEsIuS6lCI6MSwi5YWtIjoxLCLlhoYiOjEsIuWkqSI6MSwi5omLIjowLCLmlociOjEsIuaXpSI6MSwi5pyIIjoxLCLmnKgiOjEsIuawtCI6MSwi54GrIjoxLCLniqwiOjAsIueOiyI6MSwi5Ye6IjoxLCLlm5siOjEsIuWPsyI6MSwi5bemIjoxLCLmnKwiOjEsIuatoyI6MSwi55SwIjowLCLnjokiOjAsIueZvSI6MSwi55uuIjowLCLnq4siOjEsIuOAhSI6MCwi5rC3IjowLCLomasiOjAsIuefsyI6MSwi5LiWIjoxLCLkuLsiOjEsIuS7liI6MSwi5LujIjoxLCLlhpkiOjEsIuWOuyI6MSwi5Y+3IjoxLCLlubMiOjEsIuaJkyI6MSwi55SzIjowLCLnmr8iOjAsIuekvCI6MSwi5LyRIjoxLCLlhYgiOjEsIuWQjSI6MSwi5a2XIjoxLCLlubQiOjEsIuaXqSI6MSwi5rCXIjoxLCLnmb4iOjEsIueruSI6MCwi57O4IjowLCLmnZEiOjAsIuiAsyI6MCwi55S3IjoxLCLnlLoiOjEsIuiKsSI6MCwi6KaLIjowLCLosp0iOjAsIui1pCI6MCwi6LazIjoxLCLou4oiOjEsIuS4jSI6MSwi5LuVIjoxLCLlrp0iOjEsIuWkriI6MSwi5LqhIjoxLCLljJYiOjEsIuS4oSI6MSwi5ZywIjoxLCLlhagiOjEsIuWQkSI6MSwi5a6JIjoxLCLlt54iOjEsIuaciSI6MSwi5puyIjoxLCLmrKEiOjEsIuatuyI6MSwi576KIjoxLCLooYAiOjEsIuS6rCI6MSwi5Zu9IjoxLCLlpJwiOjEsIuWmuSI6MSwi5aeJIjoxLCLlupciOjEsIuaYjiI6MSwi5p2xIjoxLCLmrakiOjEsIueUuyI6MSwi55u0IjoxLCLnn6UiOjEsIumVtyI6MSwi5YmNIjoxLCLljZciOjEsIuWupCI6MSwi5b6MIjoxLCLmgJ0iOjEsIuaYnyI6MSwi5rW3IjoxLCLmtLsiOjEsIuenkSI6MSwi54K5IjoxLCLojLYiOjEsIumjnyI6MSwi6aaWIjowLCLnp4EiOjEsIum7hCI6MCwi6buSIjoxLCLmrKAiOjEsIuawjyI6MSwi55SxIjoxLCLmnK0iOjEsIuawkSI6MSwi6L66IjoxLCLku5giOjAsIuS7pSI6MSwi5aSxIjoxLCLlv4UiOjEsIuacqiI6MSwi5pyrIjoxLCLmoKEiOjEsIuWkjyI6MCwi5a62IjoxLCLlvLEiOjEsIuaZgiI6MSwi57SZIjowLCLoqJgiOjEsIumrmCI6MSwi6YCaIjoxLCLlvLciOjEsIuaVmSI6MSwi55CGIjoxLCLntYQiOjEsIuiIuSI6MSwi6YCxIjoxLCLpm6oiOjAsIumtmiI6MSwi6bOlIjoxLCLpoqgiOjEsIumdkiI6MSwi6IKJIjoxLCLnsbMiOjEsIuWFhCI6MSwi55quIjoxLCLkuqQiOjEsIuS8miI6MSwi5YWJIjoxLCLlkIwiOjEsIuWbniI6MSwi5aSaIjoxLCLlvZMiOjEsIuavjiI6MSwi5769IjowLCLogIMiOjEsIuiHqiI6MSwi6ImyIjowLCLooYwiOjEsIuilvyI6MSwi5L2VIjowLCLkvZMiOjEsIuS9nCI6MSwi5ZuzIjoxLCLlo7AiOjAsIuW8nyI6MSwi5b2iIjoxLCLmnaUiOjEsIuekviI6MSwi6KeSIjoxLCLoqIAiOjEsIui1sCI6MSwi6LC3IjowLCLov5EiOjEsIumHjCI6MCwi6bqmIjowLCLlraYiOjEsIuaelyI6MCwi56m6IjoxLCLph5EiOjEsIumbqCI6MCwi6I2JIjowLCLpn7MiOjEsIuaxoCI6MSwi5Y+NIjoxLCLmlK8iOjEsIuS9jyI6MSwi5YqpIjoxLCLlkJsiOjEsIuWMuyI6MSwi5a++IjoxLCLlsYAiOjEsIuaKlSI6MSwi5b25IjoxLCLmsboiOjEsIueptiI6MSwi6LqrIjoxLCLogIUiOjEsIueglCI6MSwi5aC0IjoxLCLmnJ0iOjAsIueVqiI6MSwi562UIjowLCLntbUiOjEsIuiytyI6MCwi6YGTIjoxLCLplpMiOjEsIumbsiI6MCwi5pWwIjoxLCLoqbEiOjEsIualvSI6MSwi5omAIjoxLCLmo64iOjAsIumbuyI6MSwi6aasIjoxLCLkuIciOjEsIuS7iiI6MSwi5YWDIjoxLCLlhawiOjEsIuWGhSI6MSwi5YiGIjoxLCLliIciOjEsIuWPiyI6MSwi5Y2IIjoxLCLlpKoiOjEsIuWwkSI6MSwi5byVIjowLCLlv4MiOjEsIuaIuCI6MCwi5pa5IjoxLCLniZsiOjEsIueItiI6MCwi5q+bIjoxLCLlhqwiOjAsIuWMlyI6MSwi5Y2KIjoxLCLlj6QiOjEsIuWPsCI6MSwi5aSWIjoxLCLluIIiOjEsIuW6gyI6MCwi5q+NIjowLCLnlKgiOjEsIuefoiI6MCwi55SfIjoxLCLmraIiOjEsIuiQvSI6MSwi6IGeIjoxLCLmqKoiOjAsIumAsiI6MSwi6LuiIjoxLCLovrIiOjEsIumJhCI6MSwi6JGJIjowLCLmnIAiOjEsIue1giI6MSwi57+SIjoxLCLmrYwiOjEsIuiqniI6MSwi6KqtIjowLCLps7QiOjAsIue3miI6MSwi6ZuGIjoxLCLpo7IiOjAsIualrSI6MSwi5ryiIjoxLCLlp4siOjEsIui1tyI6MCwi6YCfIjoxLCLphY0iOjEsIumFkiI6MSwi6ZmiIjoxLCLot68iOjEsIui7vSI6MCwi6YGLIjoxLCLplosiOjEsIueulyI6MSwi6aCtIjowLCLoqr8iOjEsIuimqiI6MSwi6aGUIjowLCLnl4UiOjEsIuaxgiI6MSwi5pawIjoxLCLov5QiOjEsIuWumiI6MSwi5aOyIjoxLCLkuosiOjEsIuS9vyI6MSwi5YW3IjoxLCLlj5ciOjEsIuWSjCI6MSwi5a6fIjoxLCLmnI0iOjEsIuazsyI6MCwi54mpIjoxLCLoi6YiOjEsIuihqCI6MSwi6YOoIjoxLCLkuZciOjAsIuWuoiI6MSwi5bGLIjowLCLluqYiOjEsIueVjCI6MSwi5oyBIjoxLCLnmboiOjEsIuebuCI6MSwi55yMIjoxLCLnvo4iOjEsIuiyoCI6MSwi6YCBIjoxLCLph40iOjEsIuirhyI6MSwi6KaBIjoxLCLli50iOjEsIuS7riI6MSwi5LqIIjoxLCLkv50iOjEsIuippiI6MSwi6aiTIjoxfTsKdmFyIGthbmppWW9taVBBSU5GVUwgPSB7IuW7uiI6MSwi54yrIjowLCLlj7giOjEsIuWkqyI6MSwi6aOvIjoxLCLli4ciOjEsIuWNmCI6MSwi5a+6IjowLCLlsqkiOjAsIuaZtCI6MCwi56eLIjowLCLluLAiOjAsIuaYpSI6MCwi5pi8IjowLCLoqIgiOjEsIuWIlyI6MSwi5Yy6IjoxLCLlnYIiOjAsIuS/oSI6MSwi5byPIjoxLCLlpIkiOjEsIuaYqCI6MSwi5q+SIjoxLCLms5UiOjEsIuazoyI6MCwi5rWFIjowLCLoi7EiOjEsIue0gCI6MSwi6LuNIjoxLCLnr4kiOjEsIuS7jyI6MSwi5pmpIjoxLCLkuIgiOjEsIumKgCI6MSwi6KydIjoxLCLnhLYiOjEsIumkiiI6MSwi5oSfIjoxLCLmqYsiOjAsIuipqSI6MSwi6aGMIjoxLCLlrr8iOjEsIumhmCI6MSwi6aeFIjoxLCLlmagiOjEsIuWjqyI6MSwi6KqyIjoxLCLllY8iOjEsIuaVtCI6MSwi5pqXIjoxLCLmp5giOjAsIuemjyI6MSwi57eRIjowLCLnt7QiOjEsIumkqCI6MSwi5YSEIjoxLCLmlpkiOjEsIuaomSI6MSwi5q66IjoxLCLnhrEiOjEsIuizniI6MSwi6YG4IjoxLCLovKoiOjEsIumPoSI6MCwi5oOFIjoxLCLmmKAiOjEsIueWkSI6MSwi55qGIjowLCLmg7MiOjEsIuWDjyI6MSwi5bmyIjoxLCLpnZ4iOjEsIueEoSI6MSwi5pivIjoxLCLntZAiOjEsIue0sCI6MSwi5oKyIjoxLCLolqwiOjEsIuWOnyI6MSwi6by7IjowLCLlgbQiOjAsIuWFtSI6MSwi5aCCIjoxLCLloakiOjAsIuW4rSI6MSwi5pWXIjoxLCLmooUiOjAsIuWboCI6MSwi5bi4IjoxLCLorZgiOjEsIua4iSI6MSwi6JmaIjoxLCLlrpgiOjEsIuWvnyI6MSwi5bqVIjowLCLmhJsiOjEsIue9siI6MSwi6K2mIjoxLCLmgYsiOjEsIuimmiI6MSwi6KqsIjoxLCLlubsiOjEsIuipsyI6MSwi5YqHIjoxLCLllpwiOjEsIuaenCI6MSwi5qCEIjoxLCLoiIwiOjAsIue2miI6MSwi5YqgIjoxLCLnr4AiOjEsIua4myI6MSwi6aCGIjoxLCLlrrkiOjEsIuW4gyI6MSwi5piTIjoxLCLoi6UiOjAsIuiyoSI6MSwi6KmeIjoxLCLmmIYiOjEsIumWpSI6MSwi5q20IjoxLCLlhooiOjEsIuWuhyI6MSwi5a6ZIjoxLCLlv5kiOjEsIuWxpSI6MSwi5ZujIjoxLCLmmrQiOjEsIua3tyI6MSwi5LmxIjoxLCLlvpIiOjEsIuW+lyI6MSwi5pS5IjoxLCLpgKMiOjEsIuWWhCI6MSwi57WhIjoxLCLmr5QiOjEsIuWPsiI6MSwi56ybIjoxLCLoirgiOjEsIuauiyI6MSwi5Y2SIjoxLCLlrowiOjEsIuW/tSI6MSwi5pybIjoxLCLmoLwiOjEsIuiDvSI6MSwi5aalIjoxLCLmnZ8iOjEsIumbsCI6MSwi5p2+IjowLCLkvosiOjEsIuWNlCI6MSwi5Y+CIjoxLCLlkagiOjEsIuWbuiI6MSwi5ZuyIjoxLCLlraMiOjEsIuW4jCI6MSwi5oqYIjoxLCLmnZAiOjEsIue0hCI6MSwi55qEIjoxLCLln7oiOjEsIuaApyI6MSwi5oqAIjoxLCLooZMiOjEsIumqqCI6MSwi6aCRIjoxLCLoqLwiOjEsIumBoCI6MSwi5ZOBIjoxLCLnrJEiOjAsIueVmSI6MSwi5ZySIjoxLCLmm5wiOjEsIuabuCI6MSwi6ZaAIjoxLCLlj5YiOjEsIuS/giI6MSwi5YW4IjoxLCLlrogiOjEsIuW5uCI6MSwi5oClIjoxLCLnnJ8iOjEsIueusSI6MCwi6I23IjowLCLpnaIiOjEsIuW6nCI6MSwi5rK7IjoxLCLmtbQiOjEsIui+niI6MSwi6ZaiIjoxLCLmlL8iOjEsIuW8gSI6MSwi6Zm6IjoxLCLljbEiOjEsIuWtmCI6MSwi5bCCIjoxLCLlhpIiOjEsIuWGlyI6MSwi6ZiqIjoxLCLlk6EiOjEsIumajiI6MSwi5YuJIjoxLCLnrKwiOjEsIumDvSI6MSwi5b6FIjoxLCLmt7EiOjEsIuerpSI6MSwi5bqtIjoxLCLml4UiOjEsIuaguSI6MSwi5rWBIjoxLCLmtogiOjEsIuWAjSI6MSwi5bO2IjowLCLnpa0iOjEsIueroCI6MSwi5YuVIjoxLCLllYYiOjEsIuaCqiI6MSwi5pePIjoxLCLnkIMiOjEsIumZvSI6MSwi5a+SIjowLCLmmpEiOjAsIuacnyI6MSwi5qSNIjoxLCLmra8iOjAsIua4qSI6MSwi5rivIjoxLCLmua8iOjAsIueZuyI6MSwi552AIjoxLCLph44iOjEsIuefrSI6MSwi5rOJIjoxLCLlkIgiOjEsIuaBryI6MSwi5YOVIjoxLCLoqJMiOjEsIuW8kyI6MSwi5ZGKIjoxLCLnqK4iOjEsIumBlCI6MSwi6aGeIjoxLCLloLEiOjEsIuetiSI6MSwi56WIIjoxLCLmsb0iOjEsIuWAnyI6MSwi54S8IjowLCLlv5giOjEsIuW6pyI6MSwi5rSXIjoxLCLog7giOjAsIuWDpyI6MSwi6ISzIjoxLCLnpoUiOjEsIuWPryI6MSwi6KixIjoxLCLmnpoiOjEsIuWPpSI6MSwi6Z2ZIjoxLCLnpoEiOjEsIuWWqyI6MSwi54WZIjoxLCLlpKIiOjEsIueBvSI6MSwi55SjIjoxLCLnqbQiOjAsIuWbsCI6MSwi5qmfIjoxLCLlrrMiOjEsIueOhyI6MSwi6aObIjoxLCLkvZkiOjEsIumboyI6MSwi5aaoIjoxLCLooqsiOjEsIuijlSI6MSwi5bC7IjowLCLpnIciOjEsIuWwviI6MSwi5qKwIjoxLCLnoroiOjEsIuWrjCI6MSwi5YCLIjoxLCLlnKciOjEsIuWcqCI6MSwi5YCSIjoxLCLoh60iOjAsIuWOmiI6MCwi5aa7IjoxLCLorbAiOjEsIueKryI6MSwi572qIjoxLCLpmLIiOjEsIuirliI6MSwi57WMIjoxLCLmiJAiOjEsIuWRsyI6MSwi5L2OIjoxLCLmi74iOjAsIuS8nSI6MSwi6ICBIjoxLCLkvY0iOjEsIuWIqSI6MSwi5YqqIjoxLCLnibkiOjEsIuaUviI6MSwi5LqJIjoxLCLku7IiOjAsIuWFsSI6MSwi5aW9IjoxLCLliJ0iOjEsIuWIpSI6MSwi5Yq0IjoxLCLlkb0iOjEsIuWyuCI6MSwi5piUIjowLCLms6IiOjEsIuazqCI6MSwi6IKyIjoxLCLmjIciOjEsIua0iyI6MSwi56WeIjoxLCLmiKYiOjEsIuenkiI6MSwi57SaIjoxLCLov70iOjAsIuertiI6MSwi6ImvIjoxLCLlip8iOjEsIuS+vyI6MSwi5LukIjoxLCLlg40iOjEsIuaEjyI6MX07CnZhciBrYW5qaVlvbWlERUFUSCA9IHsi5bGFIjoxLCLoo5wiOjEsIumuriI6MSwi6ZmQIjoxLCLkuI4iOjEsIuWQqyI6MSwi5b2xIjoxLCLms4EiOjEsIua4oSI6MCwi6Z+/IjoxLCLnpagiOjEsIuaZryI6MSwi5oqcIjowLCLoqLQiOjEsIuionyI6MSwi6YCuIjoxLCLlgJkiOjEsIuaniyI6MSwi5qihIjoxLCLmjZUiOjEsIuWKuSI6MSwi5bGeIjoxLCLmhaMiOjEsIuixiiI6MSwi5rqAIjoxLCLogqUiOjEsIuW3uyI6MSwi5o2cIjoxLCLntZ4iOjEsIumaoCI6MSwi6LypIjoxLCLmjpsiOjAsIuabvyI6MCwi576pIjoxLCLmlbUiOjEsIua4iCI6MSwi5aeUIjoxLCLmjJkiOjEsIuWItiI6MSwi5YikIjoxLCLli5kiOjEsIuafuyI6MSwi57ePIjoxLCLoqK0iOjEsIuizhyI6MSwi5qipIjoxLCLku7YiOjEsIua0viI6MSwi5bKhIjowLCLntKAiOjEsIuaWrSI6MSwi6KmVIjoxLCLku7siOjEsIuaJuSI6MSwi5qScIjoxLCLlr6kiOjEsIuadoSI6MSwi6LKsIjoxLCLnnIEiOjEsIueojiI6MSwi5aKXIjoxLCLop6MiOjEsIumamyI6MSwi6KqNIjoxLCLkvIEiOjEsIumsvCI6MSwi6Z2pIjoxLCLkv7MiOjEsIuijgSI6MSwi5ZG8IjowLCLlj44iOjEsIuWBnCI6MSwi6IG3IjoxLCLopo8iOjEsIuittyI6MSwi5YmyIjowLCLltI4iOjAsIua8lCI6MSwi5b6LIjoxLCLluKsiOjEsIueciyI6MSwi5rqWIjoxLCLliYciOjEsIuWwjiI6MSwi5YKZIjoxLCLlubkiOjEsIuW8tSI6MSwi5YSqIjoxLCLmsqIiOjEsIuWuhSI6MSwi5pa9IjoxLCLotIUiOjEsIuePviI6MSwi5LmzIjoxLCLln44iOjAsIuengCI6MSwi5oKpIjowLCLmmociOjEsIuiDgyI6MSwi6YOOIjoxLCLmi5siOjEsIuautSI6MSwi6IW5IjoxLCLnl5siOjEsIumAgCI6MSwi5bGIIjoxLCLnuZQiOjEsIuiyuCI6MCwi6L+3IjoxLCLmg5EiOjEsIuiqmCI6MSwi5bCxIjoxLCLnl4ciOjEsIuioqiI6MSwi5oCSIjoxLCLmmIciOjEsIuecoCI6MSwi552hIjoxLCLnt6AiOjEsIui/qyI6MSwi6Z20IjowLCLmv4MiOjEsIuerryI6MSwi5qW1IjoxLCLlgaUiOjEsIumAlCI6MSwi5bq3IjoxLCLntaYiOjEsIumbhCI6MSwi5aiYIjowLCLkub4iOjEsIueboyI6MSwi5p2vIjoxLCLlgqwiOjEsIuS/gyI6MSwi5qynIjoxLCLmsZ8iOjAsIuiriyI6MSwi6Z+TIjoxLCLlo4oiOjEsIuiouiI6MSwi6ZajIjoxLCLlg5oiOjEsIuepjSI6MSwi552jIjoxLCLnlaUiOjEsIuiHoyI6MSwi6IiqIjoxLCLlr4QiOjEsIuadvyI6MSwi6KGXIjoxLCLlrpciOjEsIue3iiI6MSwi5a60IjoxLCLmgZAiOjEsIuaAliI6MSwi5re7IjoxLCLnjJsiOjEsIueDiCI6MSwi57SiIjoxLCLoqbAiOjAsIuelnSI6MSwi5ouFIjoxLCLpoY0iOjEsIuijvSI6MSwi54eDIjoxLCLpgZUiOjAsIui8uCI6MSwi5bGKIjowLCLni60iOjAsIuiCqSI6MCwi6IWVIjowLCLohbAiOjAsIuinpiI6MSwi6KaWIjoxLCLovIkiOjEsIuWxpCI6MSwi5Z6LIjoxLCLluoEiOjEsIuW3riI6MSwi5q2mIjoxLCLnrqEiOjEsIuixoSI6MSwi6YePIjoxLCLlooMiOjEsIueSsCI6MSwi6LOqIjoxLCLov7AiOjEsIuS+myI6MSwi5bGVIjoxLCLosqkiOjEsIuagqiI6MCwi6LOAIjoxLCLlkIQiOjEsIuiqlSI6MSwi572wIjoxLCLohLEiOjEsIumBjiI6MSwi5Z2KIjoxLCLlr50iOjAsIuWuriI6MCwi5qGIIjoxLCLnva4iOjEsIuS+oSI6MSwi6LK7IjoxLCLli6IiOjEsIuWWtiI6MSwi56S6IjoxLCLntbEiOjEsIumgmCI6MSwi562WIjoxLCLol6QiOjAsIuWJryI6MSwi6KazIjoxLCLlgKQiOjEsIuWQuCI6MSwi5ae/IjoxLCLln58iOjEsIuW/nCI6MSwi5o+QIjoxLCLmj7QiOjEsIueKtiI6MSwi5oWLIjoxLCLpgKAiOjEsIuaOiCI6MSwi5Y2wIjoxLCLlibUiOjEsIuW+gCI6MSwi5b6pIjoxLCLovIMiOjEsIuethiI6MSwi6YmbIjoxLCLosq8iOjEsIuaIkSI6MSwi5pWFIjoxLCLpmpwiOjEsIuW+kyI6MSwi5r+AIjoxLCLliLoiOjEsIuWKsSI6MSwi6KiOIjoxLCLpg7UiOjEsIumHnSI6MSwi5b60IjoxLCLmgKoiOjEsIueNoyI6MSwi56qBIjoxLCLoj5MiOjEsIuaysyI6MSwi5rGXIjowLCLmjK8iOjEsIuixmiI6MCwi5YaNIjoxLCLmjqUiOjEsIueLrCI6MSwi5Y2gIjoxLCLlt6giOjEsIuWmmSI6MSwi6bqXIjoxLCLkuKYiOjEsIuWGtyI6MSwi5YemIjoxLCLpgIYiOjEsIuW6qyI6MSwi5YWQIjoxLCLlh40iOjEsIuW5vCI6MSwi56iaIjoxLCLljZoiOjEsIuWlhyI6MSwi5riFIjoxLCLmvZQiOjEsIumMsiI6MSwi5L+uIjoxLCLpmooiOjEsIuWIuCI6MSwi5ammIjoxLCLlvq4iOjEsIuebiiI6MSwi56e7IjoxLCLnsr4iOjEsIueoiyI6MSwi57W2IjoxLCLmhrIiOjEsIuihhiI6MSwi5YKYIjowLCLmtZwiOjAsIuaSgyI6MSwi5pS7IjoxLCLntroiOjEsIumthSI6MSwi57O7IjoxLCLmuIciOjAsIuWpmiI6MSwi6YGKIjoxLCLml5ciOjEsIueFpyI6MSwi5b+rIjoxLCLniYgiOjEsIuiypyI6MSwi5LmPIjoxLCLpgakiOjEsIumgkCI6MSwi5bu2IjoxLCLnv4wiOjEsIuimpyI6MSwi5oeQIjowLCLmirwiOjAsIuabtCI6MSwi5rWuIjowLCLmnpUiOjAsIua8jyI6MSwi56ymIjoxLCLos7wiOjEsIui2iiI6MSwi6aO+IjoxLCLpqJIiOjEsIuiDjCI6MSwi5pKuIjoxLCLnm5ciOjF9Owp2YXIga2FuamlZb21pSEVMTCA9IHsi6b2iIjoxLCLpnIAiOjEsIuWunCI6MCwi57mwIjowLCLpgb8iOjEsIuWmiiI6MSwi5aigIjoxLCLoh7QiOjEsIuWIiiI6MSwi5aWPIjoxLCLkvLQiOjEsIuS9tSI6MSwi5YK+IjoxLCLljbQiOjEsIuWlpSI6MCwi5oWuIjoxLCLmh7giOjEsIuaIvyI6MSwi5omxIjowLCLmipEiOjEsIuaKniI6MSwi5o+PIjoxLCLnm6QiOjEsIue3kiI6MSwi56ewIjoxLCLnt6kiOjAsIuiolyI6MSwi6LOEIjoxLCLos4IiOjEsIui0iCI6MSwi6YCDIjoxLCLpgoQiOjEsIuaLkiI6MSwi6Yi0IjoxLCLpgqYiOjEsIumYnCI6MSwi5bKQIjoxLCLpm4ciOjEsIumahiI6MSwi5o6nIjowLCLlo4EiOjAsIuajiyI6MSwi5riLIjoxLCLnvqQiOjEsIueJhyI6MCwi5LuZIjoxLCLlhYUiOjEsIuWFjSI6MSwi5YunIjoxLCLlnI8iOjEsIuWfiyI6MCwi5Z+8IjowLCLlpaoiOjAsIuW+oSI6MSwi5oWOIjoxLCLnlLIiOjEsIuaeoCI6MCwi5paQIjoxLCLnpYkiOjEsIueosiI6MCwi6KyZIjoxLCLorbIiOjEsIui6jSI6MSwi6YqDIjoxLCLpi7wiOjEsIumghSI6MSwi5aCAIjowLCLpmqMiOjEsIumhpyI6MSwi6aeQIjoxLCLpp4YiOjAsIuWUsSI6MSwi5p+xIjoxLCLlrZ0iOjEsIuS/iiI6MSwi5YW8IjoxLCLlkLkiOjAsIuWJpCI6MSwi5behIjoxLCLmiJIiOjEsIuaOkiI6MSwi5pC6IjoxLCLpi60iOjEsIuaVjyI6MSwi5pW3IjowLCLmrr8iOjEsIueKoCI6MSwi542yIjoxLCLojIIiOjEsIumbhSI6MSwi6aC7IjoxLCLnuYEiOjEsIuauliI6MSwi6KGdIjoxLCLoloQiOjEsIuiqiSI6MSwi6KSSIjoxLCLpgI8iOjEsIuWtqyI6MSwi5a+MIjoxLCLono0iOjEsIumboiI6MSwi57eoIjoxLCLoj68iOjEsIuaXoiI6MSwi5pmuIjoxLCLosaoiOjEsIumRkSI6MSwi6ZmkIjoxLCLlsIsiOjEsIuW5viI6MCwi5buKIjoxLCLmjoMiOjEsIuazpSI6MSwi6amaIjoxLCLmo5IiOjEsIuWYhiI6MSwi5YCJIjoxLCLlt6MiOjAsIuaVkSI6MSwi5bivIjoxLCLlvoQiOjEsIuaVoyI6MSwi57KJIjoxLCLohIgiOjEsIuiPnCI6MSwi6LKoIjoxLCLpmbgiOjEsIuS8vCI6MSwi5aKTIjoxLCLlnYciOjEsIuW+syI6MSwi5o6iIjoxLCLlgbUiOjEsIueUmCI6MCwi5bCGIjoxLCLml6ciOjEsIuWnkyI6MSwi6LK/IjoxLCLnm58iOjEsIumBuiI6MSwi5YK1IjoxLCLkvLgiOjAsIuWPiiI6MSwi5aWIIjoxLCLluYUiOjAsIuW7gyI6MSwi5o+bIjoxLCLmkZgiOjEsIuaguCI6MSwi57iEIjoxLCLmspYiOjAsIua0pSI6MCwi54yuIjoxLCLnmYIiOjEsIue2mSI6MSwi57atIjoxLCLkvI4iOjEsIuiIniI6MSwi6LiPIjoxLCLoiKwiOjEsIumgvCI6MSwi5L6dIjoxLCLoq74iOjEsIum5vyI6MCwi54mZIjoxLCLotoUiOjEsIuWFhiI6MSwi5oqxIjowLCLot6EiOjEsIuaIuyI6MCwi6LezIjoxLCLmmK0iOjEsIua8gSI6MSwi5YSfIjoxLCLli58iOjEsIuWIkSI6MSwi5Z+3IjoxLCLloYEiOjEsIuW0qSI6MSwi5oKjIjoxLCLmipciOjEsIuaKtSI6MSwi5pesIjoxLCLniIYiOjEsIua5viI6MSwi5by+IjoxLCLogbQiOjEsIumBoyI6MSwi6ZeYIjoxLCLpppkiOjEsIumZoyI6MSwi6IeoIjoxLCLliYoiOjEsIuWlkSI6MSwi5o6yIjoxLCLni5kiOjEsIuiRrCI6MSwi5oG1IjoxLCLolLUiOjEsIuewoSI6MSwi6ZaJIjoxLCLoqowiOjEsIueqkyI6MCwi5ZCmIjoxLCLnrYsiOjEsIuWegiI6MSwi5a6jIjoxLCLlsIoiOjEsIuW/oCI6MSwi5ouhIjoxLCLmk40iOjEsIuaVrCI6MSwi54GwIjowLCLnhp8iOjEsIueVsCI6MSwi55qHIjoxLCLnm5siOjEsIueggiI6MSwi5rygIjoxLCLns5YiOjEsIue0jSI6MSwi6IK6IjoxLCLokZciOjEsIuiSuCI6MSwi6KOFIjoxLCLoo48iOjAsIuiruCI6MSwi6LODIjoxLCLmmq4iOjEsIumGpCI6MSwi54KOIjoxLCLnoLQiOjEsIuadiSI6MCwi54aKIjowLCLphaIiOjAsIueNhCI6MSwi6YqFIjoxLCLpgYUiOjEsIua4rCI6MSwi5b2rIjoxLCLoiI4iOjEsIuismyI6MSwi5rueIjoxLCLku4siOjEsIue0uSI6MSwi5bexIjoxLCLljoQiOjEsIuS6gCI6MCwi5LqSIjoxLCLliaMiOjEsIuW9vCI6MCwi5a+/IjoxLCLmgaUiOjAsIuaxgSI6MSwi5ZmMIjoxLCLngroiOjEsIumFlCI6MSwi6Y2LIjowLCLmuZYiOjEsIuaJlSI6MCwi5rK5IjoxLCLkuYUiOjEsIuWNtSI6MCwi6L68IjowLCLluo8iOjEsIuW/lyI6MSwi6L+OIjoxLCLmgakiOjEsIuaOoSI6MSwi5qGcIjowLCLmsLgiOjEsIua2siI6MSwi55y8IjoxLCLnpZYiOjEsIue4viI6MSwi6IiIIjoxLCLooZsiOjEsIuikhyI6MSwi6ZuRIjoxLCLphbgiOjEsIuizmyI6MSwi6YqtIjoxLCLpo7wiOjAsIuWCtyI6MSwi5YWaIjoxLCLljrMiOjEsIuaNqCI6MCwi5a+GIjoxLCLmsZoiOjEsIuaaliI6MSwi5qyyIjoxLCLmnLoiOjAsIuenmCI6MSwi6KizIjoxLCLmn5MiOjEsIueIqiI6MCwi5oudIjoxLCLlpbQiOjEsIuixhiI6MSwi6KqkIjoxLCLoh5MiOjEsIuiytCI6MSwi6ZmNIjoxLCLkuLwiOjEsIuWQkCI6MCwi6Zq3IjoxLCLoiosiOjAsIue4riI6MSwi57SUIjoxLCLnuKYiOjAsIueyiyI6MSwi56OBIjoxLCLntIUiOjEsIuWwhCI6MSwi5bmVIjoxLCLolqYiOjEsIuaPriI6MSwi5o6oIjoxLCLmsr8iOjEsIua6kCI6MSwi5YukIjoxLCLmrZMiOjEsIuaJvyI6MSwi5p6dIjoxLCLmkI0iOjEsIuWIuyI6MSwi6IWQIjoxLCLogZYiOjF9Owp2YXIga2FuamlZb21pUEFSQURJU0UgPSB7IuaPoSI6MSwi57SbIjoxLCLns74iOjEsIuaeoiI6MSwi6Lu4IjoxLCLlhYsiOjEsIuWPjCI6MSwi5YiwIjoxLCLlk7IiOjEsIuWWqiI6MSwi5aCFIjowLCLmi6wiOjEsIuW6iiI6MSwi5bynIjoxLCLmjJEiOjEsIuaOmCI6MSwi5o+6IjoxLCLmj5oiOjEsIuaWjiI6MSwi5p6QIjoxLCLmmqsiOjEsIuaziiI6MSwi5p+EIjowLCLmvZ8iOjAsIua7kSI6MSwi56+EIjoxLCLnhKYiOjEsIue2sSI6MCwi57ayIjoxLCLogp0iOjEsIuiKnSI6MCwi6I2SIjowLCLooosiOjAsIuehrCI6MSwi5puHIjowLCLmvoQiOjEsIuefmyI6MSwi6IKMIjowLCLoiJ8iOjAsIueLqSI6MCwi5Ye2IjoxLCLpkJgiOjEsIuWhiiI6MCwi6aCDIjowLCLohJoiOjEsIumtgiI6MSwi5LqVIjoxLCLkuZ8iOjAsIuWRqiI6MCwi5ayiIjoxLCLmmqYiOjEsIuecuiI6MSwi6LOtIjowLCLoo7giOjEsIueWsiI6MSwi5Y2TIjoxLCLlob4iOjEsIuiPjCI6MSwi56OoIjowLCLpmbAiOjEsIua5vyI6MSwi6ZyKIjoxLCLlq4EiOjAsIueovCI6MSwi5rqdIjoxLCLni4IiOjEsIua7nSI6MCwi57+UIjowLCLloqgiOjAsIumzqSI6MCwi56mPIjoxLCLpiI0iOjEsIumtlCI6MSwi5a+uIjoxLCLmo58iOjEsIuebhiI6MSwi5ZC+IjowLCLmlqwiOjEsIuWvpyI6MSwi5qSFIjoxLCLmrbMiOjEsIua2vCI6MSwi54y/IjowLCLnnrMiOjEsIumNtSI6MCwi6Zu2IjoxLCLnooEiOjEsIuW5vSI6MSwi56efIjoxLCLms6EiOjEsIueZliI6MCwi6Y2bIjoxLCLpjKwiOjEsIuepgiI6MCwi5bidIjoxLCLoj4oiOjEsIueerCI6MSwi6KqHIjoxLCLluoQiOjEsIumYuyI6MSwi5L+1IjoxLCLpu5kiOjEsIue2vyI6MSwi5p62IjoxLCLlrZQiOjEsIuWUhyI6MCwi56CVIjoxLCLnspgiOjEsIueypyI6MSwi5qy6IjoxLCLoqZAiOjEsIumcpyI6MCwi5p+zIjoxLCLkvIoiOjEsIuS9kCI6MSwi556tIjoxLCLlsLoiOjEsIuWTgCI6MSwi5aGAIjoxLCLlpoIiOjEsIuWinCI6MSwi5amGIjoxLCLltJYiOjEsIuW4vSI6MSwi5bmjIjoxLCLmgagiOjEsIuaGjiI6MSwi5oapIjoxLCLmiYciOjEsIuaJiSI6MSwi5o6MIjoxLCLmjL8iOjEsIua7tCI6MSwi54KKIjoxLCLnlbMiOjEsIueIvSI6MCwi5664IjowLCLoiq8iOjEsIuiDtCI6MSwi6Jm5IjowLCLlt74iOjEsIumcnCI6MCwi6JqKIjowLCLpqI4iOjEsIuW4syI6MSwi6JuHIjowLCLovrEiOjEsIuiyvCI6MCwi6YmiIjoxLCLpl4ciOjAsIumamSI6MCwi6aOiIjoxLCLppJMiOjEsIueVnCI6MSwi6L+FIjoxLCLok4QiOjEsIuWwvSI6MSwi5b2pIjoxLCLmurYiOjEsIuaGtiI6MSwi6ICQIjoxLCLouIoiOjAsIuizoiI6MSwi6LydIjoxLCLnga8iOjEsIuiEhSI6MSwi6bq7IjoxLCLlkrIiOjAsIuaClCI6MSwi5Z+5IjoxLCLohIciOjAsIumBgiI6MSwi5aGXIjoxLCLnj60iOjEsIuaWnCI6MSwi5q60IjoxLCLnm74iOjEsIuepqyI6MSwi6ba0IjowLCLmt6EiOjEsIue0qyI6MSwi6aeSIjowLCLmir0iOjEsIuiqkyI6MSwi5oKfIjoxLCLmi5MiOjEsIuaLmCI6MSwi56SOIjoxLCLliIgiOjAsIuWJmyI6MSwi5ZSvIjoxLCLlsLwiOjEsIuWjhyI6MSwi5qaCIjoxLCLmtbgiOjEsIueFriI6MCwi6KaGIjoxLCLorIAiOjEsIumalCI6MSwi6Zm2IjoxLCLkv5ciOjEsIuW+gSI6MSwi6ZmbIjoxLCLmoZEiOjAsIua9pCI6MSwi54+gIjoxLCLoobAiOjEsIuWKoyI6MSwi5aWoIjoxLCLli5giOjEsIuWmgyI6MSwi6YKqIjoxLCLmkKwiOjEsIuWisyI6MSwi5b2wIjoxLCLpp4QiOjEsIuW7tyI6MSwi6KiCIjoxLCLlo64iOjEsIua8giI6MSwi6bCQIjowLCLon7kiOjAsIuewvyI6MSwi5pm2IjoxLCLou4wiOjEsIua2ryI6MSwi5benIjoxLCLls7AiOjEsIuWUkCI6MSwi6ayxIjoxLCLmvKsiOjEsIuirriI6MSwi6YqYIjoxLCLloLAiOjAsIuWgpCI6MSwi57+7IjoxLCLlkI4iOjEsIuWlriI6MSwi5LuwIjoxLCLkuq0iOjEsIuS8ryI6MSwi5YG2IjoxLCLmt4AiOjAsIuaKiiI6MSwi5rSeIjoxLCLnlqsiOjEsIuijgiI6MSwi57GNIjoxLCLmn5QiOjEsIuayiCI6MSwi5rK8IjowLCLoqrAiOjAsIuilsiI6MSwi6LKiIjoxLCLotqMiOjEsIui3nSI6MSwi5pyXIjoxLCLljbMiOjEsIuaXqCI6MSwi5aiBIjoxLCLnrZIiOjEsIuePjSI6MSwi6ZyyIjoxLCLliLciOjEsIueJpyI6MSwi5r2uIjoxLCLlnqMiOjAsIuWwgSI6MSwi5bKzIjoxLCLmhbAiOjEsIuaHhyI6MSwi5oeyIjoxLCLmkakiOjEsIuaTpiI6MSwi5paJIjoxLCLmkrIiOjEsIua7hSI6MSwi5rOwIjoxLCLngokiOjEsIua7iyI6MSwi55C0IjowLCLoh7MiOjEsIuWEgCI6MSwi6JmOIjowLCLpgZwiOjEsIuS8uiI6MCwi5b65IjoxLCLngKwiOjAsIuaOqiI6MSwi5pKkIjoxLCLmi6AiOjEsIuaouSI6MSwi5qOEIjoxLCLom40iOjAsIuicgiI6MCwi6YWOIjoxLCLonJwiOjEsIuWinyI6MSwi5r2cIjoxLCLoiaYiOjEsIuaLsyI6MSwi54KtIjoxLCLnlZEiOjAsIuS7gSI6MSwi5YyFIjoxLCLooaMiOjEsIumJsSI6MSwi6KqgIjoxLCLpg7ciOjEsIuS+tSI6MSwi5YG9IjoxLCLpm7ciOjEsIui+myI6MSwi57KSIjoxLCLkuJgiOjEsIuWoryI6MSwi5paXIjoxLCLorI4iOjAsIuacsSI6MSwi5aGUIjoxLCLpq6oiOjAsIuegsiI6MSwi5a+4IjoxLCLnq5wiOjEsIue4gSI6MSwi57+8IjoxLCLlkIkiOjEsIuWIgyI6MCwi5b+NIjoxLCLmoYMiOjAsIuS+jSI6MCwi5L+6IjowLCLlj7EiOjAsIuaiqCI6MCwi5Yy5IjowLCLph6MiOjAsIuWPqyI6MSwi56ygIjowLCLltZAiOjAsIue8tiI6MSwi5raZIjoxLCLmo5oiOjAsIuWnqyI6MCwi6Iq9IjowfTsKdmFyIGthbmppWW9taVJFQUxJVFkgPSB7Iui7kiI6MSwi5aqbIjowLCLnjoQiOjEsIuWBiSI6MSwi6aCCIjoxLCLlj6wiOjEsIuaeryI6MSwi5oyfIjowLCLmsrgiOjEsIua/ryI6MSwi54elIjoxLCLnk7YiOjEsIuiCryI6MSwi6ICVIjoxLCLohIIiOjEsIuiGmiI6MSwi6LufIjoxLCLpg4oiOjEsIumahSI6MCwi6Zq7IjoxLCLpgrgiOjEsIua4piI6MSwi6YOhIjoxLCLph4giOjEsIuiCqiI6MSwi5ZaaIjoxLCLosp4iOjEsIuiLlyI6MSwi5oWIIjoxLCLopZ8iOjAsIuiTriI6MSwi6IGhIjoxLCLkuq4iOjEsIua1piI6MCwi5aGaIjowLCLmvLgiOjAsIuiXuyI6MSwi5aaEIjoxLCLlgLkiOjEsIueLkCI6MCwi6YCdIjoxLCLljL8iOjEsIuWvoSI6MSwi55eiIjoxLCLol40iOjAsIuWdkSI6MSwi55WUIjoxLCLllIQiOjAsIuaLtyI6MSwi5riTIjoxLCLlu4kiOjEsIuisuSI6MSwi5rmnIjoxLCLphpwiOjEsIuWNhyI6MCwi5q6JIjoxLCLnhakiOjEsIuWKviI6MSwi5qGfIjoxLCLlqb8iOjAsIuaFlSI6MSwi5723IjoxLCLnn68iOjEsIuWbmiI6MSwi5p+QIjoxLCLms4wiOjEsIuibriI6MSwi5bq2IjoxLCLpr6giOjEsIuiNmCI6MSwi5qC9IjoxLCLlhqAiOjEsIuaLkCI6MSwi5YuyIjoxLCLphawiOjEsIuashCI6MSwi57SLIjoxLCLljbgiOjAsIumAuCI6MSwi5bCaIjoxLCLpoZUiOjEsIueymyI6MSwi5oSaIjoxLCLot7UiOjEsIuWRiCI6MSwi55aOIjoxLCLnlr4iOjEsIuisoSI6MSwi6Y6MIjowLCLphbciOjEsIuWPmSI6MSwi5LiUIjowLCLnl7QiOjEsIuWRhiI6MSwi5ZO6IjoxLCLmgqAiOjEsIuWCsiI6MSwi6IyOIjowLCLpmL8iOjEsIuadjyI6MSwi6IycIjowLCLmoJ4iOjAsIuS8jyI6MSwi6Y6uIjoxLCLlpYkiOjEsIuaGgiI6MSwi5qCDIjowLCLmnLQiOjEsIue0ryI6MSwi5oOcIjoxLCLkvbMiOjEsIuaCvCI6MSwi6KmyIjoxLCLotbQiOjEsIumrhCI6MSwi5YKNIjoxLCLnmZIiOjEsIumDrSI6MSwi5bC/IjoxLCLomZwiOjEsIuizkyI6MSwi5oa+IjoxLCLlvKUiOjAsIueylyI6MSwi5b6qIjoxLCLohIoiOjEsIuWHnSI6MSwi5piMIjoxLCLml6YiOjEsIuaEiSI6MSwi5qCTIjoxLCLmirkiOjEsIuS5iyI6MCwi6b6NIjoxLCLnkZsiOjEsIumBvCI6MSwi6YKjIjoxLCLlr4IiOjEsIuW6uCI6MSwi5ouNIjoxLCLnjLYiOjEsIuWusCI6MSwi57irIjoxLCLlkYkiOjEsIuWHoSI6MSwi5oGtIjowLCLpjK8iOjEsIuepgCI6MSwi5byKIjoxLCLpmbUiOjEsIuiItiI6MSwi5oKmIjoxLCLnqq4iOjEsIue4myI6MSwi6L2EIjoxLCLlvKYiOjEsIua0qiI6MSwi56qSIjoxLCLmkYIiOjEsIumjvSI6MSwi6Z2WIjowLCLntLMiOjEsIuWYiSI6MSwi5pC+IjoxLCLonbYiOjEsIueikSI6MSwi5bCJIjoxLCLljKAiOjEsIuWHmyI6MSwi6YGlIjowLCLmmboiOjEsIuaftCI6MCwi55GgIjoxLCLmlaIiOjEsIualkyI6MSwi5Ye5IjoxLCLlh7giOjEsIuiQjCI6MSwi54OPIjowLCLos4oiOjEsIuaXiyI6MSwi6byTIjoxLCLohbgiOjEsIuanvSI6MSwi5LyQIjoxLCLloJUiOjEsIua8rCI6MCwi5Z2qIjowLCLntLoiOjEsIue+hSI6MSwi5bOhIjoxLCLkv7giOjEsIumGuCI6MSwi5byUIjoxLCLkuZkiOjEsIuihoSI6MSwi6YGNIjoxLCLmrL4iOjEsIumWsiI6MSwi5ZadIjoxLCLohpwiOjEsIuebsiI6MSwi6YW1IjoxLCLog44iOjEsIumBriI6MSwi5ZOJIjowLCLokrwiOjEsIuWHhiI6MSwi5a+bIjoxLCLog54iOjEsIua1hCI6MSwi6ZqPIjoxLCLnqL8iOjEsIuS4uSI6MSwi5aOMIjoxLCLoiJciOjEsIumosCI6MSwi57evIjoxLCLoiYciOjEsIuaKqyI6MSwi6YymIjowLCLlibAiOjEsIue5iiI6MSwi6KutIjoxLCLmg6giOjEsIuiZkCI6MSwi5o2uIjowLCLlvpAiOjEsIuaQrSI6MSwi6JKZIjoxLCLnk5wiOjEsIumviSI6MCwi5oi0IjoxLCLnt4siOjEsIuabmSI6MCwi6IOhIjoxLCLluKUiOjEsIuWVkyI6MSwi6JG1IjowLCLpp78iOjEsIuirkiI6MSwi6I6JIjoxLCLpgYciOjEsIumZpSI6MSwi6LKrIjoxLCLopociOjEsIuiMqCI6MCwi5ZGCIjoxLCLmk4EiOjEsIuWtpCI6MSwi6Y6WIjoxLCLos6AiOjEsIuWZtCI6MSwi56WlIjoxLCLnibIiOjEsIuWUhiI6MSwi56epIjoxLCLohqgiOjEsIuiKsyI6MSwi5oGSIjoxLCLlgKsiOjEsIumZsyI6MSwi6aCIIjoxLCLlgY8iOjEsIuezpyI6MSwi5q6KIjoxLCLmhaIiOjEsIuayoSI6MSwi5oCgIjoxLCLpga0iOjEsIuaDsCI6MSwi54yfIjoxLCLkuYMiOjEsIumiryI6MSwi57a+IjoxLCLpmrwiOjAsIui8lCI6MCwi56GrIjoxLCLotaYiOjEsIueqgyI6MSwi5oWoIjoxLCLmiK8iOjEsIuaJtiI6MSwi5r+BIjoxLCLlpZQiOjEsIuiCliI6MSwi5py9IjoxLCLkuqsiOjEsIuauuyI6MSwi6JepIjoxLCLpto8iOjEsIuWqkiI6MSwi5ZixIjoxLCLmpI4iOjEsIui/rSI6MSwi57W5IjoxLCLpmaoiOjEsIuitnCI6MSwi5YmWIjoxLCLmt5EiOjEsIuW4hiI6MSwi6YWMIjoxLCLmhqQiOjEsIuaagSI6MCwi5YKRIjoxLCLpjKAiOjEsIuWHjCI6MCwi55GeIjowLCLoj4UiOjAsIueSgyI6MSwi5ryjIjoxLCLlkJ8iOjEsIuS+riI6MSwi6YuzIjoxLCLolJEiOjEsIuiDhiI6MSwi5rWqIjoxLCLnpo0iOjEsIumFqiI6MSwi5oanIjowLCLkupwiOjEsIuaFtiI6MSwi5qKTIjowLCLmsbAiOjEsIuaymSI6MSwi5b+MIjoxLCLpgbciOjEsIuaLmSI6MSwi56+kIjoxLCLls6AiOjAsIuWPlCI6MCwi6ZuMIjowLCLloKoiOjAsIuW0hyI6MSwi55SaIjoxLCLmvIYiOjEsIuWyrCI6MCwi57ShIjoxLCLnpIEiOjEsIuWxryI6MSwi5ae7IjoxLCLnnaYiOjEsIuaTrCI6MSwi6ZaRIjoxLCLmm7kiOjEsIuWNkSI6MSwi6KmgIjoxfTsKCi8qCiogVXNlZCBmb3Igc3dpdGNoaW5nIGJldHdlZW4gaGlyYSBhbmQga2F0YSAodmljZSB2ZXJzYSkKKi8KdmFyIGhpcmFUb0thdGEgPSB7IuOCgSI6ICLjg6EiLCAi44KAIjogIuODoCIsICLjgoMiOiAi44OjIiwgIuOCgiI6ICLjg6IiLCAi44KFIjogIuODpSIsICLjgoQiOiAi44OkIiwgIuOChyI6ICLjg6ciLCAi44KGIjogIuODpiIsICLjgokiOiAi44OpIiwgIuOCiCI6ICLjg6giLCAi44KLIjogIuODqyIsICLjgooiOiAi44OqIiwgIuOCjSI6ICLjg60iLCAi44KMIjogIuODrCIsICLjgo8iOiAi44OvIiwgIuOCkyI6ICLjg7MiLCAi44KSIjogIuODsiIsICLjgYIiOiAi44KiIiwgIuOBhCI6ICLjgqQiLCAi44GGIjogIuOCpiIsICLjgYgiOiAi44KoIiwgIuOBiyI6ICLjgqsiLCAi44GKIjogIuOCqiIsICLjgY0iOiAi44KtIiwgIuOBjCI6ICLjgqwiLCAi44GPIjogIuOCryIsICLjgY4iOiAi44KuIiwgIuOBkSI6ICLjgrEiLCAi44GQIjogIuOCsCIsICLjgZMiOiAi44KzIiwgIuOBkiI6ICLjgrIiLCAi44GVIjogIuOCtSIsICLjgZQiOiAi44K0IiwgIuOBlyI6ICLjgrciLCAi44GWIjogIuOCtiIsICLjgZkiOiAi44K5IiwgIuOBmCI6ICLjgrgiLCAi44GbIjogIuOCuyIsICLjgZoiOiAi44K6IiwgIuOBnSI6ICLjgr0iLCAi44GcIjogIuOCvCIsICLjgZ8iOiAi44K/IiwgIuOBniI6ICLjgr4iLCAi44GhIjogIuODgSIsICLjgaAiOiAi44OAIiwgIuOBoyI6ICLjg4MiLCAi44GiIjogIuODgiIsICLjgaUiOiAi44OFIiwgIuOBpCI6ICLjg4QiLCAi44GnIjogIuODhyIsICLjgaYiOiAi44OGIiwgIuOBqSI6ICLjg4kiLCAi44GoIjogIuODiCIsICLjgasiOiAi44OLIiwgIuOBqiI6ICLjg4oiLCAi44GtIjogIuODjSIsICLjgawiOiAi44OMIiwgIuOBryI6ICLjg48iLCAi44GuIjogIuODjiIsICLjgbEiOiAi44ORIiwgIuOBsCI6ICLjg5AiLCAi44GzIjogIuODkyIsICLjgbIiOiAi44OSIiwgIuOBtSI6ICLjg5UiLCAi44G0IjogIuODlCIsICLjgbciOiAi44OXIiwgIuOBtiI6ICLjg5YiLCAi44G5IjogIuODmSIsICLjgbgiOiAi44OYIiwgIuOBuyI6ICLjg5siLCAi44G6IjogIuODmiIsICLjgb0iOiAi44OdIiwgIuOBvCI6ICLjg5wiLCAi44G/IjogIuODnyIsICLjgb4iOiAi44OeIn07CnZhciBrYXRhVG9IaXJhID0geyLjg6EiOiAi44KBIiwgIuODoCI6ICLjgoAiLCAi44OjIjogIuOCgyIsICLjg6IiOiAi44KCIiwgIuODpSI6ICLjgoUiLCAi44OkIjogIuOChCIsICLjg6ciOiAi44KHIiwgIuODpiI6ICLjgoYiLCAi44OpIjogIuOCiSIsICLjg6giOiAi44KIIiwgIuODqyI6ICLjgosiLCAi44OqIjogIuOCiiIsICLjg60iOiAi44KNIiwgIuODrCI6ICLjgowiLCAi44OvIjogIuOCjyIsICLjg7MiOiAi44KTIiwgIuODsiI6ICLjgpIiLCAi44KiIjogIuOBgiIsICLjgqQiOiAi44GEIiwgIuOCpiI6ICLjgYYiLCAi44KoIjogIuOBiCIsICLjgqsiOiAi44GLIiwgIuOCqiI6ICLjgYoiLCAi44KtIjogIuOBjSIsICLjgqwiOiAi44GMIiwgIuOCryI6ICLjgY8iLCAi44KuIjogIuOBjiIsICLjgrEiOiAi44GRIiwgIuOCsCI6ICLjgZAiLCAi44KzIjogIuOBkyIsICLjgrIiOiAi44GSIiwgIuOCtSI6ICLjgZUiLCAi44K0IjogIuOBlCIsICLjgrciOiAi44GXIiwgIuOCtiI6ICLjgZYiLCAi44K5IjogIuOBmSIsICLjgrgiOiAi44GYIiwgIuOCuyI6ICLjgZsiLCAi44K6IjogIuOBmiIsICLjgr0iOiAi44GdIiwgIuOCvCI6ICLjgZwiLCAi44K/IjogIuOBnyIsICLjgr4iOiAi44GeIiwgIuODgSI6ICLjgaEiLCAi44OAIjogIuOBoCIsICLjg4MiOiAi44GjIiwgIuODgiI6ICLjgaIiLCAi44OFIjogIuOBpSIsICLjg4QiOiAi44GkIiwgIuODhyI6ICLjgaciLCAi44OGIjogIuOBpiIsICLjg4kiOiAi44GpIiwgIuODiCI6ICLjgagiLCAi44OLIjogIuOBqyIsICLjg4oiOiAi44GqIiwgIuODjSI6ICLjga0iLCAi44OMIjogIuOBrCIsICLjg48iOiAi44GvIiwgIuODjiI6ICLjga4iLCAi44ORIjogIuOBsSIsICLjg5AiOiAi44GwIiwgIuODkyI6ICLjgbMiLCAi44OSIjogIuOBsiIsICLjg5UiOiAi44G1IiwgIuODlCI6ICLjgbQiLCAi44OXIjogIuOBtyIsICLjg5YiOiAi44G2IiwgIuODmSI6ICLjgbkiLCAi44OYIjogIuOBuCIsICLjg5siOiAi44G7IiwgIuODmiI6ICLjgboiLCAi44OdIjogIuOBvSIsICLjg5wiOiAi44G8IiwgIuODnyI6ICLjgb8iLCAi44OeIjogIuOBviJ9OwoKaWYgKC9kYXNoYm9hcmQvLnRlc3QoZG9jdW1lbnQuVVJMKSB8fCBkb2N1bWVudC5VUkwgPT0gImh0dHA6Ly93d3cud2FuaWthbmkuY29tLyIgfHwgZG9jdW1lbnQuVVJMID09ICJodHRwczovL3d3dy53YW5pa2FuaS5jb20vIikgLy8gSG9tZXBhZ2UKewogICAgdmFyIHJlcGxhY2VQb3B1cCA9IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICBpZiAoIGlzT255b21pQWxsKCQodGhpcykudGV4dCgpKSA9PSAxKSAkKHRoaXMpLmF0dHIoKCdkYXRhLW9yaWdpbmFsLXRpdGxlJyksIGNvbnZlcnRUb0thdGEoJCh0aGlzKS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJykpICk7CiAgICB9OwogICAgJCgnLmxhdHRpY2Utc2luZ2xlLWNoYXJhY3RlciBhW2RhdGEtb3JpZ2luYWwtdGl0bGVdJykuZWFjaChyZXBsYWNlUG9wdXApOwoKICAgIC8vIHRoaXMgaXMgZm9yIHNjcmlwdHMgd2hvIG1vZGlmeSB0aGUgaG9tZXNjcmVlbiBhZnRlciB0aGUgcGFnZSBmaW5pc2hlZCBsb2FkaW5nCiAgICAkKCcua2FuamktcHJvZ3Jlc3MgLmxhdHRpY2Utc2luZ2xlLWNoYXJhY3RlciAuc21hbGwtY2FwcyA+IHNwYW4nKS5iaW5kKCJET01TdWJ0cmVlTW9kaWZpZWQiLGZ1bmN0aW9uKCl7CiAgICAgICAgJCgnLmthbmppLXByb2dyZXNzIC5sYXR0aWNlLXNpbmdsZS1jaGFyYWN0ZXIgYVtkYXRhLW9yaWdpbmFsLXRpdGxlXScpLmVhY2gocmVwbGFjZVBvcHVwKTsKICAgIH0pOwoKfQplbHNlIGlmICgvXC9sYXR0aWNlXC9rYW5qaS8udGVzdChkb2N1bWVudC5VUkwpKSAvLyBMYXR0aWNlCnsKICAgIHZhciByZXBsYWNlUG9wdXAgPSBmdW5jdGlvbigpCiAgICB7CiAgICAgICAgaWYgKCBpc09ueW9taUFsbCgkKHRoaXMpLnRleHQoKSkgPT0gMSkgJCh0aGlzKS5hdHRyKCgnZGF0YS1vcmlnaW5hbC10aXRsZScpLCBjb252ZXJ0VG9LYXRhKCQodGhpcykuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpKSApOwogICAgfTsKICAgICQoJy5sYXR0aWNlLXNpbmdsZS1jaGFyYWN0ZXIgYVtkYXRhLW9yaWdpbmFsLXRpdGxlXScpLmVhY2gocmVwbGFjZVBvcHVwKTsKCn0KZWxzZSBpZiAoL1wva2FuamlcLy8udGVzdChkb2N1bWVudC5VUkwpKSAvLyBLYW5qaSBkZXRhaWwgcGFnZQp7CiAgICB2YXIgcmVwbGFjZVJlYWRpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoJCh0aGlzKS5jaGlsZHJlbignaDMnKS50ZXh0KCkgPT0gIk9u4oCZeW9taSIpCiAgICAgICAgewogICAgICAgICAgICAkKHRoaXMpLmNoaWxkcmVuKCdwJykudGV4dChjb252ZXJ0VG9LYXRhKCQodGhpcykuY2hpbGRyZW4oJ3AnKS50ZXh0KCkpKTsKICAgICAgICB9CiAgICB9OwogICAgJCgnLnNwYW40JykuZWFjaChyZXBsYWNlUmVhZGluZyk7CgogICAgLy8tLS0tLS0tLS0gVmlzdWFsbHkgU2ltaWxhciBLYW5qaSAtLS0tLS0tLS0vLwogICAgdmFyIHJlcGxhY2VTaW1pbGFyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGlzT255b21pQWxsKCQodGhpcykuZmluZCgnLmNoYXJhY3RlcicpLnRleHQoKSkgPT0gMSkgJCh0aGlzKS5maW5kKCdsaScpLmVxKDApLnRleHQoY29udmVydFRvS2F0YSgkKHRoaXMpLmZpbmQoJ2xpJykuZXEoMCkudGV4dCgpKSk7CiAgICB9OwogICAgJCgnLnNpbmdsZS1jaGFyYWN0ZXItZ3JpZCcpLmZpbmQoJ2EnKS5lYWNoKHJlcGxhY2VTaW1pbGFyKTsKfQplbHNlIGlmICgvXC9rYW5qaVw/ZGlmZmljdWx0Ly50ZXN0KGRvY3VtZW50LlVSTCkgfHwgZG9jdW1lbnQuVVJMID09ICJodHRwOi8vd3d3LndhbmlrYW5pLmNvbS9rYW5qaSIpIC8vIEJpZyBrYW5qaSBwYWdlIGJhc2VkIG9uIGRpZmZpY3VsdHkKewogICAgdmFyIG4gPSBkb2N1bWVudC5VUkwubGFzdEluZGV4T2YoJz0nKTsKICAgIHZhciBkaWZmaWN1bHR5ID0gZG9jdW1lbnQuVVJMLnN1YnN0cmluZyhuICsgMSk7CgogICAgdmFyIHJlcGxhY2VMZXZlbFBvcnRpb24gPSBmdW5jdGlvbigpIHsKICAgICAgICAkKHRoaXMpLmZpbmQoJy5jaGFyYWN0ZXItaXRlbScpLmVhY2gocmVwbGFjZVJlYWRpbmcpOwogICAgfTsKCiAgICB2YXIgcmVwbGFjZVJlYWRpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICBpZiAoaXNPbnlvbWkoJCh0aGlzKS5maW5kKCcuY2hhcmFjdGVyJykudGV4dCgpLnJlcGxhY2UoL1xzL2csJycpLCBkaWZmaWN1bHR5KSkgJCh0aGlzKS5maW5kKCdsaScpLmVxKDApLnRleHQoY29udmVydFRvS2F0YSgkKHRoaXMpLmZpbmQoJ2xpJykuZXEoMCkudGV4dCgpKSk7CiAgICB9OwogICAgJCgnLnNpbmdsZS1jaGFyYWN0ZXItZ3JpZCcpLmVhY2gocmVwbGFjZUxldmVsUG9ydGlvbik7Cn0KZWxzZSBpZiAoL1wvcmFkaWNhbHNcLy8udGVzdChkb2N1bWVudC5VUkwpIHx8wqAvXC92b2NhYnVsYXJ5XC8vLnRlc3QoZG9jdW1lbnQuVVJMKSkgLy8gUmFkaWNhbCBhbmQgVm9jYWJ1bGFyeSBwYWdlCnsKICAgIC8vLS0tLS0tLS0tIEZvdW5kIEluIGFuZCBVdGlsaXplZCBLYW5qaSAtLS0tLS0tLS0vLwogICAgdmFyIHJlcGxhY2VSZWFkaW5nID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGlzT255b21pQWxsKCQodGhpcykuZmluZCgnLmNoYXJhY3RlcicpLnRleHQoKSkgPT0gMSkgJCh0aGlzKS5maW5kKCdsaScpLmVxKDApLnRleHQoY29udmVydFRvS2F0YSgkKHRoaXMpLmZpbmQoJ2xpJykuZXEoMCkudGV4dCgpKSk7CiAgICB9OwogICAgJCgnLnNpbmdsZS1jaGFyYWN0ZXItZ3JpZCcpLmZpbmQoJ2EnKS5lYWNoKHJlcGxhY2VSZWFkaW5nKTsKfQplbHNlIGlmICgvXC9sZXZlbFwvLy50ZXN0KGRvY3VtZW50LlVSTCkpIC8vIExldmVsIHBhZ2UKewogICAgdmFyIG4gPSBkb2N1bWVudC5VUkwubGFzdEluZGV4T2YoJy8nKTsKICAgIHZhciBsZXZlbCA9IGRvY3VtZW50LlVSTC5zdWJzdHJpbmcobiArIDEpOwoKICAgIHZhciByZXBsYWNlUmVhZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChpc09ueW9taSgkKHRoaXMpLmNoaWxkcmVuKCcuY2hhcmFjdGVyJykudGV4dCgpLnJlcGxhY2UoL1xzL2csJycpLCBsZXZlbCkpCiAgICAgICAgewogICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2xpJykuZXEoMCkudGV4dChjb252ZXJ0VG9LYXRhKCQodGhpcykuZmluZCgnbGknKS5lcSgwKS50ZXh0KCkpKTsKICAgICAgICB9CiAgICB9OwogICAgJCgnLnNpbmdsZS1jaGFyYWN0ZXItZ3JpZCcpLmVxKDEpLmZpbmQoJ2EnKS5lYWNoKHJlcGxhY2VSZWFkaW5nKTsKfQplbHNlIGlmICgvcmV2aWV3XC9zZXNzaW9uLy50ZXN0KGRvY3VtZW50LlVSTCkpIC8vIFJldmlldyB0ZXN0IHBhZ2UKewogICAgYW5zd2VyQ2hlY2tlci5vbGRJc0FzY2lpUHJlc2VudEtNID0gYW5zd2VyQ2hlY2tlci5pc0FzY2lpUHJlc2VudDsKICAgIGFuc3dlckNoZWNrZXIuaXNBc2NpaVByZXNlbnQgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgLy8gdGhpcyBpcyBmb3IgdHJhaWxpbmcgTiB0byDjg7MKICAgICAgICBpZihlW2UubGVuZ3RoLTFdID09PSAnTicpIHsKICAgICAgICAgICAgZSA9IGUuc3Vic3RyKDAsIGUubGVuZ3RoLTEpICsgJ+ODsycgKyBlLnN1YnN0cihlLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBhbnN3ZXJDaGVja2VyLm9sZElzQXNjaWlQcmVzZW50S00oZSk7CiAgICB9OwoKICAgIGFuc3dlckNoZWNrZXIub2xkRXZhbHVhdGVLTSA9IGFuc3dlckNoZWNrZXIuZXZhbHVhdGU7CiAgICBhbnN3ZXJDaGVja2VyLmV2YWx1YXRlID0gZnVuY3Rpb24oZSx0KSB7CiAgICAgICAgLy9jb25zb2xlLmxvZygkLmpTdG9yYWdlLmdldCgnY3VycmVudEl0ZW0nKSk7CiAgICAgICAgLy8gdGhpcyBpcyBmb3IgdHJhaWxpbmcgTiB0byDjg7MKICAgICAgICBpZihlID09PSAicmVhZGluZyIgJiYgdFt0Lmxlbmd0aC0xXSA9PT0gJ04nKSB7CiAgICAgICAgICAgIHQgPSB0LnN1YnN0cigwLCB0Lmxlbmd0aC0xKSArICfjg7MnICsgdC5zdWJzdHIodC5sZW5ndGgpOwogICAgICAgIH0KICAgICAgICBpZihpc09ueW9taVJldmlldygpKSB7CiAgICAgICAgICAgIC8vIHRoaXMgaXMgZm9yIHRoZSAiV2FuaUthbmkgaXMgbG9va2luZyBmb3IgdGhlIG9ueW9taSByZWFkaW5nIiBmdW5jdGlvbgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICQualN0b3JhZ2UuZ2V0KCdjdXJyZW50SXRlbScpLmt1bi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgJC5qU3RvcmFnZS5nZXQoJ2N1cnJlbnRJdGVtJykua3VuW2ldID0gY29udmVydFRvS2F0YSgkLmpTdG9yYWdlLmdldCgnY3VycmVudEl0ZW0nKS5rdW5baV0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJC5qU3RvcmFnZS5nZXQoJ2N1cnJlbnRJdGVtJykub24ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICQualN0b3JhZ2UuZ2V0KCdjdXJyZW50SXRlbScpLm9uW2ldID0gY29udmVydFRvS2F0YSgkLmpTdG9yYWdlLmdldCgnY3VycmVudEl0ZW0nKS5vbltpXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy9jb25zb2xlLmxvZygkLmpTdG9yYWdlLmdldCgnY3VycmVudEl0ZW0nKSk7CiAgICAgICAgcmV0dXJuIGFuc3dlckNoZWNrZXIub2xkRXZhbHVhdGVLTShlLHQpOwogICAgfTsKCiAgICAkKCcjdXNlci1yZXNwb25zZScpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkgewogICAgICAgIGlmKGlzT255b21pUmV2aWV3KCkpIHsKICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGNvbnZlcnRUb0thdGEoJCh0aGlzKS52YWwoKS50b1VwcGVyQ2FzZSgpKTsKICAgICAgICB9CiAgICB9KTsKCiAgICB2YXIgb2JzZXJ2ZU1lID0gJCgnI2l0ZW0taW5mbyAucHVyZS11LTEtNCcpWzBdOwogICAgb2JzZXJ2ZURPTSgpKCBvYnNlcnZlTWUgLGZ1bmN0aW9uKCkgewogICAgICAgIGlmKGlzT255b21pUmV2aWV3KCkpIHsKICAgICAgICAgICAgJCgnI2l0ZW0taW5mby1yZWFkaW5nID4gc3BhbicpLnRleHQoY29udmVydFRvS2F0YSgkKCcjaXRlbS1pbmZvLXJlYWRpbmcgPiBzcGFuJykudGV4dCgpKSk7CiAgICAgICAgfQogICAgfSk7CgogICAgLy8gY2hhbmdlIGxhc3QgMTAgaXRlbXMKICAgIHZhciBsYXN0MTBDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYoaXNPbnlvbWlBbGwoJCh0aGlzKS5maW5kKCdsaScpLmVxKDApLnRleHQoKSkpewogICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2xpJykuZXEoMSkudGV4dChjb252ZXJ0VG9LYXRhKCQodGhpcykuZmluZCgnbGknKS5lcSgxKS50ZXh0KCkpKTsKICAgICAgICB9CiAgICB9OwogICAgdmFyIG9ic2VydmVNZSA9ICQoJyNsYXN0LWl0ZW1zLWxpc3QnKVswXTsKICAgIG9ic2VydmVET00oKSggb2JzZXJ2ZU1lICxmdW5jdGlvbigpIHsKICAgICAgICAkKCcjbGFzdC1pdGVtcy1saXN0IC5rYW5qaScpLmVhY2gobGFzdDEwQ2hhbmdlKTsKICAgIH0pOwp9CmVsc2UgaWYgKC9yZXZpZXcvLnRlc3QoZG9jdW1lbnQuVVJMKSkgLy8gUmV2aWV3IGluZm8gcGFnZSBhdCB0aGUgYmVnaW5uaW5nIGFuZCB0aGUgZW5kIG9mIGEgcmV2aWV3CnsKICAgIHZhciBvYnNlcnZlTWUgPSAkKCcjcmV2aWV3cy1zdW1tYXJ5JylbMF07CiAgICBvYnNlcnZlRE9NKCkoIG9ic2VydmVNZSAsZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGUgPSAkKCcua2FuamkgLmhvdmVyJyk7CiAgICAgICAgaWYoZS5sZW5ndGggIT09IDAgJiYgaXNPbnlvbWlBbGwoZS5wcmV2KCdhJykuZXEoMCkudGV4dCgpKSkgewogICAgICAgICAgICB2YXIgb255b21pTm9kZSA9IGUuZmluZCgndWwnKS5maW5kKCdsaScpLmVxKDEpOwogICAgICAgICAgICBvbnlvbWlOb2RlLnRleHQoY29udmVydFRvS2F0YShvbnlvbWlOb2RlLnRleHQoKSkpOwogICAgICAgIH0KICAgIH0pOwp9CmVsc2UgaWYgKC9sZXNzb25cL3Nlc3Npb24vLnRlc3QoZG9jdW1lbnQuVVJMKSkgLy8gTGVzc29uIGFuZCBsZXNzb24gdGVzdCBwYWdlCnsKICAgIC8vLS0tLS0tLS0tIExlc3NvbiBQYXJ0IC0tLS0tLS0tLS8vCiAgICB2YXIgd2hlbkxlc3NvblNsaWRlcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBLYW5qaSBpbmZvCiAgICAgICAgdmFyIHR5cGUgPSAkKCIjc3VwcGxlbWVudC1rYW4tcmVhZGluZy10eXBlIikudGV4dCgpOwogICAgICAgIGlmKHR5cGUgPT09ICJvbid5b21pIikgewogICAgICAgICAgICAkKCcjc3VwcGxlbWVudC1rYW4tcmVhZGluZyBzcGFuJykuZXEoMSkudGV4dChjb252ZXJ0VG9LYXRhKCQoJyNzdXBwbGVtZW50LWthbi1yZWFkaW5nIHNwYW4nKS5lcSgxKS50ZXh0KCkpKTsKICAgICAgICB9CiAgICAgICAgLy8gVm9jYWJsZSBicmVha2Rvd24gaW5mbwogICAgICAgICQoIiNzdXBwbGVtZW50LXZvYy1icmVha2Rvd24iKS5maW5kKCcua2FuamknKS5lYWNoKHJlcGxhY2VCcmVha2Rvd24pOwogICAgfTsKICAgIHZhciByZXBsYWNlQnJlYWtkb3duID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmKGlzT255b21pQWxsKCQodGhpcykudGV4dCgpKSkgewogICAgICAgICAgICAkKHRoaXMpLmF0dHIoInRpdGxlIiwgY29udmVydFRvS2F0YSgkKHRoaXMpLmF0dHIoJ3RpdGxlJykpKTsKICAgICAgICB9CiAgICB9OwogICAgJCgnI2JhdGNoLWl0ZW1zJykuY2xpY2sod2hlbkxlc3NvblNsaWRlcyk7CgogICAgLy8tLS0tLS0tLS0gVGVzdCBQYXJ0IC0tLS0tLS0tLS8vCiAgICBhbnN3ZXJDaGVja2VyLm9sZElzQXNjaWlQcmVzZW50S00gPSBhbnN3ZXJDaGVja2VyLmlzQXNjaWlQcmVzZW50OwogICAgYW5zd2VyQ2hlY2tlci5pc0FzY2lpUHJlc2VudCA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAvLyB0aGlzIGlzIGZvciB0cmFpbGluZyBOIHRvIOODswogICAgICAgIGlmKGVbZS5sZW5ndGgtMV0gPT09ICdOJykgewogICAgICAgICAgICBlID0gZS5zdWJzdHIoMCwgZS5sZW5ndGgtMSkgKyAn44OzJyArIGUuc3Vic3RyKGUubGVuZ3RoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFuc3dlckNoZWNrZXIub2xkSXNBc2NpaVByZXNlbnRLTShlKTsKICAgIH07CgogICAgYW5zd2VyQ2hlY2tlci5vbGRFdmFsdWF0ZUtNID0gYW5zd2VyQ2hlY2tlci5ldmFsdWF0ZTsKICAgIGFuc3dlckNoZWNrZXIuZXZhbHVhdGUgPSBmdW5jdGlvbihlLHQpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKCQualN0b3JhZ2UuZ2V0KCdsL2N1cnJlbnRRdWl6SXRlbScpKTsKICAgICAgICAvLyB0aGlzIGlzIGZvciB0cmFpbGluZyBOIHRvIOODswogICAgICAgIGlmKGUgPT09ICJyZWFkaW5nIiAmJiB0W3QubGVuZ3RoLTFdID09PSAnTicpIHsKICAgICAgICAgICAgdCA9IHQuc3Vic3RyKDAsIHQubGVuZ3RoLTEpICsgJ+ODsycgKyB0LnN1YnN0cih0Lmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIGlmKGlzT255b21pTGVzc29uKCkpIHsKICAgICAgICAgICAgLy8gdGhpcyBpcyBmb3IgdGhlICJXYW5pS2FuaSBpcyBsb29raW5nIGZvciB0aGUgb255b21pIHJlYWRpbmciIGZ1bmN0aW9uCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJC5qU3RvcmFnZS5nZXQoJ2wvY3VycmVudFF1aXpJdGVtJykua3VuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAkLmpTdG9yYWdlLmdldCgnbC9jdXJyZW50UXVpekl0ZW0nKS5rdW5baV0gPSBjb252ZXJ0VG9LYXRhKCQualN0b3JhZ2UuZ2V0KCdsL2N1cnJlbnRRdWl6SXRlbScpLmt1bltpXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkLmpTdG9yYWdlLmdldCgnbC9jdXJyZW50UXVpekl0ZW0nKS5vbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgJC5qU3RvcmFnZS5nZXQoJ2wvY3VycmVudFF1aXpJdGVtJykub25baV0gPSBjb252ZXJ0VG9LYXRhKCQualN0b3JhZ2UuZ2V0KCdsL2N1cnJlbnRRdWl6SXRlbScpLm9uW2ldKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gYW5zd2VyQ2hlY2tlci5vbGRFdmFsdWF0ZUtNKGUsdCk7CiAgICB9OwoKICAgICQoJyN1c2VyLXJlc3BvbnNlJykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7CiAgICAgICAgaWYoaXNPbnlvbWlMZXNzb24oKSkgewogICAgICAgICAgICB0aGlzLnZhbHVlID0gY29udmVydFRvS2F0YSgkKHRoaXMpLnZhbCgpLnRvVXBwZXJDYXNlKCkpOwogICAgICAgIH0KICAgIH0pOwoKICAgIHZhciBvYnNlcnZlTWUgPSAkKCcjaXRlbS1pbmZvIC5wdXJlLXUtMS00JylbMF07CiAgICBvYnNlcnZlRE9NKCkoIG9ic2VydmVNZSAsZnVuY3Rpb24oKSB7CiAgICAgICAgaWYoaXNPbnlvbWlMZXNzb24oKSkgewogICAgICAgICAgICAkKCcjaXRlbS1pbmZvLXJlYWRpbmcgc3BhbicpLnRleHQoY29udmVydFRvS2F0YSgkKCcjaXRlbS1pbmZvLXJlYWRpbmcgc3BhbicpLnRleHQoKSkpOwogICAgICAgIH0KICAgIH0pOwoKfWVsc2UgaWYgKC9sZXNzb24vLnRlc3QoZG9jdW1lbnQuVVJMKSkgLy8gTGVzc29uIGluZm8gcGFnZSBhdCB0aGUgYmVnaW5uaW5nIGFuZCB0aGUgZW5kIG9mIGEgcnVuCnsKICAgIHZhciBvYnNlcnZlTWUgPSAkKCcja2FuamknKVswXTsKICAgIG9ic2VydmVET00oKSggb2JzZXJ2ZU1lICxmdW5jdGlvbigpIHsKICAgICAgICB2YXIgZSA9ICQoJy5rYW5qaSAuaG92ZXInKTsKICAgICAgICBpZihlLmxlbmd0aCAhPT0gMCAmJiBpc09ueW9taUFsbChlLnByZXYoJ2EnKS5lcSgwKS50ZXh0KCkpKSB7CiAgICAgICAgICAgIHZhciBvbnlvbWlOb2RlID0gZS5maW5kKCd1bCcpLmZpbmQoJ2xpJykuZXEoMSk7CiAgICAgICAgICAgIG9ueW9taU5vZGUudGV4dChjb252ZXJ0VG9LYXRhKG9ueW9taU5vZGUudGV4dCgpKSk7CiAgICAgICAgfQogICAgfSk7Cn0KCi8vIFNlYXJjaCByZXN1bHQKaWYoIC9kYXNoYm9hcmQvLnRlc3QoZG9jdW1lbnQuVVJMKSB8fCBkb2N1bWVudC5VUkwgPT0gImh0dHA6Ly93d3cud2FuaWthbmkuY29tLyIgfHwgZG9jdW1lbnQuVVJMID09ICJodHRwczovL3d3dy53YW5pa2FuaS5jb20vIiB8fCAvXC9sZXZlbC8udGVzdChkb2N1bWVudC5VUkwpIHx8CiAgIC9cL2xhdHRpY2UvLnRlc3QoZG9jdW1lbnQuVVJMKSB8fCAvXC9yYWRpY2Fscy8udGVzdChkb2N1bWVudC5VUkwpIHx8IC9cL2thbmppLy50ZXN0KGRvY3VtZW50LlVSTCkgfHwgL1wvdm9jYWJ1bGFyeS8udGVzdChkb2N1bWVudC5VUkwpIHx8CiAgIC9cL2NvbW11bml0eS8udGVzdChkb2N1bWVudC5VUkwpIHx8IC9cL2NoYXQvLnRlc3QoZG9jdW1lbnQuVVJMKSB8fCAvXC9hY2NvdW50Ly50ZXN0KGRvY3VtZW50LlVSTCkgKSB7CiAgICB2YXIgc2VhcmNoQ2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYoaXNPbnlvbWlBbGwoJCh0aGlzKS5maW5kKCdzcGFuJykudGV4dCgpKSkgewogICAgICAgICAgICAkKHRoaXMpLmZpbmQoJ2xpJykuZXEoMCkudGV4dChjb252ZXJ0VG9LYXRhKCQodGhpcykuZmluZCgnbGknKS5lcSgwKS50ZXh0KCkpKTsKICAgICAgICB9CiAgICB9OwogICAgdmFyIG9ic2VydmVNZSA9ICQoJy5zZWFyY2gtcmVzdWx0cycpWzBdOwogICAgb2JzZXJ2ZURPTSgpKCBvYnNlcnZlTWUgLGZ1bmN0aW9uKCkgewogICAgICAgICQoJy5zZWFyY2gtcmVzdWx0cyAja2FuamktJykuZWFjaChzZWFyY2hDaGFuZ2UpOwogICAgfSk7Cn0KCgoKLy8tLSBIZWxwZXIgZnVuY3Rpb25zIGZvciB0cmFuc2Zvcm1pbmcga2F0YSA8LT4gaGlyYSAtLS8vCmZ1bmN0aW9uIGlzT255b21pUmV2aWV3KCkgewoKICAgIHZhciBvYmpDdXJJdGVtID0gJC5qU3RvcmFnZS5nZXQoImN1cnJlbnRJdGVtIik7CiAgICB2YXIgc3RyUXVlc3Rpb25UeXBlID0gJC5qU3RvcmFnZS5nZXQoInF1ZXN0aW9uVHlwZSIpOwoKICAgIGlmICgia2FuIiBpbiBvYmpDdXJJdGVtKSB7CiAgICAgICAgLy8gS2FuamkKICAgICAgICBpZiAoc3RyUXVlc3Rpb25UeXBlID09PSAicmVhZGluZyIpIHsKICAgICAgICAgICAgaWYob2JqQ3VySXRlbS5lbXBoID09PSAib255b21pIikgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGlzT255b21pTGVzc29uKCkgewoKICAgIHZhciBvYmpDdXJJdGVtID0gJC5qU3RvcmFnZS5nZXQoImwvY3VycmVudFF1aXpJdGVtIik7CiAgICB2YXIgc3RyUXVlc3Rpb25UeXBlID0gJC5qU3RvcmFnZS5nZXQoImwvcXVlc3Rpb25UeXBlIik7CgogICAgaWYgKCJrYW4iIGluIG9iakN1ckl0ZW0pCiAgICB7CiAgICAgICAgLy8gS2FuamkKICAgICAgICBpZiAoc3RyUXVlc3Rpb25UeXBlID09PSAicmVhZGluZyIpIHsKICAgICAgICAgICAgaWYob2JqQ3VySXRlbS5lbXBoID09PSAib255b21pIil7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gaXNPbnlvbWkoa2FuamksIGxldmVsKQp7CiAgICBzd2l0Y2gobGV2ZWwudG9VcHBlckNhc2UoKSkgewogICAgICAgIGNhc2UgJ1BMRUFTQU5UJzogY2FzZSAnMSc6IGNhc2UgJzInOiBjYXNlICczJzogY2FzZSAnNCc6IGNhc2UgJzUnOiBjYXNlICc2JzogY2FzZSAnNyc6IGNhc2UgJzgnOiBjYXNlICc5JzogY2FzZSAnMTAnOgogICAgICAgICAgICByZXR1cm4ga2FuamlZb21pUExFQVNBTlRba2FuamldOwogICAgICAgIGNhc2UgJ1BBSU5GVUwnOiBjYXNlICcxMSc6IGNhc2UgJzEyJzogY2FzZSAnMTMnOiBjYXNlICcxNCc6IGNhc2UgJzE1JzogY2FzZSAnMTYnOiBjYXNlICcxNyc6IGNhc2UgJzE4JzogY2FzZSAnMTknOiBjYXNlICcyMCc6CiAgICAgICAgICAgIHJldHVybiBrYW5qaVlvbWlQQUlORlVMW2thbmppXTsKICAgICAgICBjYXNlICdERUFUSCc6IGNhc2UgJzIxJzogY2FzZSAnMjInOiBjYXNlICcyMyc6IGNhc2UgJzI0JzogY2FzZSAnMjUnOiBjYXNlICcyNic6IGNhc2UgJzI3JzogY2FzZSAnMjgnOiBjYXNlICcyOSc6IGNhc2UgJzMwJzoKICAgICAgICAgICAgcmV0dXJuIGthbmppWW9taURFQVRIW2thbmppXTsKICAgICAgICBjYXNlICdIRUxMJzogY2FzZSAnMzEnOiBjYXNlICczMic6IGNhc2UgJzMzJzogY2FzZSAnMzQnOiBjYXNlICczNSc6IGNhc2UgJzM2JzogY2FzZSAnMzcnOiBjYXNlICczOCc6IGNhc2UgJzM5JzogY2FzZSAnNDAnOgogICAgICAgICAgICByZXR1cm4ga2FuamlZb21pSEVMTFtrYW5qaV07CiAgICAgICAgY2FzZSAnUEFSQURJU0UnOiBjYXNlICc0MSc6IGNhc2UgJzQyJzogY2FzZSAnNDMnOiBjYXNlICc0NCc6IGNhc2UgJzQ1JzogY2FzZSAnNDYnOiBjYXNlICc0Nyc6IGNhc2UgJzQ4JzogY2FzZSAnNDknOiBjYXNlICc1MCc6CiAgICAgICAgICAgIHJldHVybiBrYW5qaVlvbWlQQVJBRElTRVtrYW5qaV07CiAgICAgICAgY2FzZSAnUkVBTElUWSc6IGNhc2UgJzUxJzogY2FzZSAnNTInOiBjYXNlICc1Myc6IGNhc2UgJzU0JzogY2FzZSAnNTUnOiBjYXNlICc1Nic6IGNhc2UgJzU3JzogY2FzZSAnNTgnOiBjYXNlICc1OSc6IGNhc2UgJzYwJzoKICAgICAgICAgICAgcmV0dXJuIGthbmppWW9taVJFQUxJVFlba2FuamldOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiAwOwogICAgfQp9CmZ1bmN0aW9uIGlzT255b21pQWxsKGthbmppKQp7CgogICAgaWYoa2FuamlZb21pUExFQVNBTlRba2FuamldKSByZXR1cm4gMTsKICAgIGlmKGthbmppWW9taVBBSU5GVUxba2FuamldKSByZXR1cm4gMTsKICAgIGlmKGthbmppWW9taURFQVRIW2thbmppXSkgcmV0dXJuIDE7CiAgICBpZihrYW5qaVlvbWlIRUxMW2thbmppXSkgcmV0dXJuIDE7CiAgICBpZihrYW5qaVlvbWlQQVJBRElTRVtrYW5qaV0pIHJldHVybiAxOwogICAgaWYoa2FuamlZb21pUkVBTElUWVtrYW5qaV0pIHJldHVybiAxOwogICAgcmV0dXJuIDA7Cgp9CmZ1bmN0aW9uIGNvbnZlcnRUb0thdGEoY2hhaW4pCnsKICAgIGNoYWluID0gY2hhaW4udHJpbSgpOwogICAgZm9yICh2YXIgaSA9IDAsIGMgPSBjaGFpbi5sZW5ndGg7IGkgPCBjOyBpKyspCiAgICB7CiAgICAgICAgY2hhaW4gPSByZXBsYWNlQXQoY2hhaW4sIGksIGhpcmFUb0thdGFbY2hhaW5baV1dIHx8IGNoYWluW2ldKTsKICAgIH0KICAgIHJldHVybiBjaGFpbjsKfQoKZnVuY3Rpb24gY29udmVydFRvSGlyYShjaGFpbikKewogICAgY2hhaW4gPSBjaGFpbi50cmltKCk7CiAgICBmb3IgKHZhciBpID0gMCwgYyA9IGNoYWluLmxlbmd0aDsgaSA8IGM7IGkrKykKICAgIHsKICAgICAgICBjaGFpbiA9IHJlcGxhY2VBdChjaGFpbiwgaSwga2F0YVRvSGlyYVtjaGFpbltpXV0gfHwgY2hhaW5baV0pOwogICAgfQogICAgcmV0dXJuIGNoYWluOwp9CgpmdW5jdGlvbiByZXBsYWNlQXQocywgbiwgdCkKewogICAgcmV0dXJuIHMuc3Vic3RyaW5nKDAsIG4pICsgdCArIHMuc3Vic3RyaW5nKG4gKyAxKTsKfQoKLyoKKiBXYWl0IGZvciBlbGVtZW50cyB0byBhcHBlYXIKKiBjYWxsIHdpdGggb2JzZXJ2ZURvbSgpKG9ic2Vydk5vZGUsIGNhbGxiYWNrRnVuY3Rpb24pOwoqIGZyb20gc3RhY2tvdmVyZmxvdzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQ1NzA2MTQKKi8KZnVuY3Rpb24gb2JzZXJ2ZURPTSgpIHsKICAgIHZhciBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgd2luZG93LldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsCiAgICAgICAgZXZlbnRMaXN0ZW5lclN1cHBvcnRlZCA9IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyOwogICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgY2FsbGJhY2spewogICAgICAgIGlmKCBNdXRhdGlvbk9ic2VydmVyICkgewogICAgICAgICAgICAvLyBkZWZpbmUgYSBuZXcgb2JzZXJ2ZXIKICAgICAgICAgICAgdmFyIG9icyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucywgb2JzZXJ2ZXIpIHsKICAgICAgICAgICAgICAgIGlmKCBtdXRhdGlvbnNbMF0uYWRkZWROb2Rlcy5sZW5ndGggKQogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyBoYXZlIHRoZSBvYnNlcnZlciBvYnNlcnZlIGZvbyBmb3IgY2hhbmdlcyBpbiBjaGlsZHJlbgogICAgICAgICAgICBvYnMub2JzZXJ2ZSggb2JqLCB7IGNoaWxkTGlzdDp0cnVlLCBzdWJ0cmVlOnRydWUgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYoIGV2ZW50TGlzdGVuZXJTdXBwb3J0ZWQgKSB7CiAgICAgICAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKCdET01Ob2RlSW5zZXJ0ZWQnLCBjYWxsYmFjaywgZmFsc2UpOwogICAgICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZVJlbW92ZWQnLCBjYWxsYmFjaywgZmFsc2UpOwogICAgICAgIH0KICAgIH07Cn0KCi8qCiogT25seSB1c2VkIGZvciBnZW5lcmF0aW5nIG9ueW9taUxpc3QKKiBDYW4gYWxzbyBiZSB1c2VkIHRvIGxvYWQga2Fuamkgb255b21pIGluZm9ybWF0aW9ucyBmcm9tIHNlcnZlciAoc2xvdykKKgoqIFVwZGF0ZToKKiBDYWxsIHdpdGggcGFyYW1ldGVyIG9mIGxldmVsIGFuZCBjb3B5IHRoZSBzdHJpbmcgZnJvbSB0aGUgbG9nIHdpbmRvdyBpbiBvbmUgb2YgdGhlIHZhcmlhYmxlcyBvbiB0aGUgdG9wCiogZS5nLgoqIGNvbnNvbGUubG9nKGxvYWRLYXRhRnJvbUFwaSgiUExFQVNBTlQiKSk7CiogY29uc29sZS5sb2cobG9hZEthdGFGcm9tQXBpKCJQQUlORlVMIikpOwoqIGNvbnNvbGUubG9nKGxvYWRLYXRhRnJvbUFwaSgiREVBVEgiKSk7CiogY29uc29sZS5sb2cobG9hZEthdGFGcm9tQXBpKCJIRUxMIikpOwoqIGNvbnNvbGUubG9nKGxvYWRLYXRhRnJvbUFwaSgiUEFSQURJU0UiKSk7CiogY29uc29sZS5sb2cobG9hZEthdGFGcm9tQXBpKCJSRUFMSVRZIikpOwoqLwpmdW5jdGlvbiBsb2FkS2F0YUZyb21BcGkobGV2ZWwpIHsKICAgIHZhciBsZXZlbHM7CiAgICBzd2l0Y2gobGV2ZWwpIHsKICAgICAgICBjYXNlICdQTEVBU0FOVCc6CiAgICAgICAgICAgIGxldmVscyA9ICIxLDIsMyw0LDUsNiw3LDgsOSwxMCI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ1BBSU5GVUwnOgogICAgICAgICAgICBsZXZlbHMgPSAiMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAiOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdERUFUSCc6CiAgICAgICAgICAgIGxldmVscyA9ICIyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ0hFTEwnOgogICAgICAgICAgICBsZXZlbHMgPSAiMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAiOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdQQVJBRElTRSc6CiAgICAgICAgICAgIGxldmVscyA9ICI0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ1JFQUxJVFknOgogICAgICAgICAgICBsZXZlbHMgPSAiNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAiOwogICAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBsZXZlbHMgPSAnMSc7CiAgICB9CgogICAgdmFyIHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgcmVxLm9wZW4oJ0dFVCcsICdodHRwczovL3d3dy53YW5pa2FuaS5jb20vYXBpL3VzZXIvJyArIGFwaUtleSArICcva2FuamkvJyArIGxldmVscywgdHJ1ZSk7CiAgICByZXEub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHJlcS5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICAgIGlmIChyZXEuc3RhdHVzID49IDIwMCAmJiByZXEuc3RhdHVzIDwgNDAwKSB7CiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IEpTT04ucGFyc2UocmVxLnJlc3BvbnNlVGV4dCkucmVxdWVzdGVkX2luZm9ybWF0aW9uOwogICAgICAgICAgICAgICAgdmFyIG91dHB1dCA9IHt9OwoKICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbGlzdFtpXS5jaGFyYWN0ZXJdID0gbGlzdFtpXS5pbXBvcnRhbnRfcmVhZGluZyA9PSAib255b21pIiA/IDEgOiAwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkob3V0cHV0KSk7CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoImVycm9yIik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgcmVxLnNlbmQoKTsKfQo="},{"name":"WaniKani Stroke Order","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["http*://*wanikani.com/kanji/*","http*://*wanikani.com/level/*/kanji/*","http*://*wanikani.com/review/session","http*://*wanikani.com/lesson/session"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":["classic.jisho.org"],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1588771067655,"data":{}},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/723-wanikani-stroke-order/code/WaniKani%20Stroke%20Order.user.js","uuid":"d0e67b26-d760-44d3-904c-763b49575996","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIFdhbmlLYW5pIFN0cm9rZSBPcmRlcgovLyBAbmFtZXNwYWNlICAgamFwYW5lc2UKLy8gQGRlc2NyaXB0aW9uIFNob3dzIGEga2FuamkncyBzdHJva2Ugb3JkZXIgb24gaXRzIHBhZ2UgYW5kIGR1cmluZyBsZXNzb25zIGFuZCByZXZpZXdzLgovLyBAbGljZW5zZSAgICAgR1BMIHZlcnNpb24gMyBvciBhbnkgbGF0ZXIgdmVyc2lvbjsgaHR0cDovL3d3dy5nbnUub3JnL2NvcHlsZWZ0L2dwbC5odG1sCi8vIEBpbmNsdWRlICAgICBodHRwKjovLyp3YW5pa2FuaS5jb20va2FuamkvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly8qd2FuaWthbmkuY29tL2xldmVsLyova2FuamkvKgovLyBAaW5jbHVkZSAgICAgaHR0cCo6Ly8qd2FuaWthbmkuY29tL3Jldmlldy9zZXNzaW9uCi8vIEBpbmNsdWRlICAgICBodHRwKjovLyp3YW5pa2FuaS5jb20vbGVzc29uL3Nlc3Npb24KLy8gQHZlcnNpb24gICAgIDEuMS4yCi8vIEBncmFudCAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAcmVxdWlyZSAgICAgaHR0cDovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjEwLjIvanF1ZXJ5Lm1pbi5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCi8qCiAqIFRoYW5rcyBhIGxvdCB0byAuLi4KICogV2FuaWthbmkgUGhvbmV0aWMtU2VtYW50aWMgQ29tcG9zaXRpb24gLSBVc2Vyc2NyaXB0CiAqIGJ5IHJ1aXBncGluaGVpcm8gKExvcmRHcmF2ZXdpc2gpCiAqIC4uLiBmb3IgY29kZSBzaG93aW5nIG1lIGhvdyB0byBpbnNlcnQgc2VjdGlvbnMgZHVyaW5nIGthbmppIHJldmlld3MuCiAqIFRoZSBjb2RlIGhlYXZpbHkgYm9ycm93cyBmcm9tIHRoYXQgc2NyaXB0IQogKiBBbHNvIHRoYW5rcyB0byBIYWxvIGZvciBhIGxvYWRpbmcgYnVnIGZpeCEKICovCgovKgogKiBIZWxwZXIgRnVuY3Rpb25zL1ZhcmlhYmxlcwogKi8KJCA9IHVuc2FmZVdpbmRvdy4kOwoKLyoKICogR2xvYmFsIFZhcmlhYmxlcy9PYmplY3RzL0NsYXNzZXMKICovCnZhciBQYWdlRW51bSA9IE9iamVjdC5mcmVlemUoeyB1bmtub3duOjAsIGthbmppOjEsIHJldmlld3M6MiwgbGVzc29uczozIH0pOwp2YXIgY3VyUGFnZSA9IFBhZ2VFbnVtLnVua25vd247CnZhciBKSVNITyA9ICJodHRwOi8vY2xhc3NpYy5qaXNoby5vcmciOwoKLyoKICogTWFpbgogKi8KZnVuY3Rpb24gaW5pdCgpIHsKICAgIC8vIERldGVybWluZSBwYWdlIHR5cGUKICAgIGlmICgvXC9rYW5qaVwvLi8udGVzdChkb2N1bWVudC5VUkwpKSB7CiAgICAgICAgY3VyUGFnZSA9IFBhZ2VFbnVtLmthbmppOwogICAgfSBlbHNlIGlmICgvXC9yZXZpZXcvLnRlc3QoZG9jdW1lbnQuVVJMKSkgewogICAgICAgIGN1clBhZ2UgPSBQYWdlRW51bS5yZXZpZXdzOwogICAgfSBlbHNlIGlmICgvXC9sZXNzb24vLnRlc3QoZG9jdW1lbnQuVVJMKSkgewogICAgICAgIGN1clBhZ2UgPSBQYWdlRW51bS5sZXNzb25zOwogICAgfQoKICAgIC8vIENyZWF0ZSBhbmQgc3RvcmUgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGhvbGQgdGhlIGltYWdlCiAgICB1bnNhZmVXaW5kb3cuZGlhZ3JhbSA9IGNyZWF0ZURpYWdyYW1TZWN0aW9uKCk7CgogICAgLy8gUmVnaXN0ZXIgY2FsbGJhY2sgZm9yIHdoZW4gdG8gbG9hZCBzdHJva2Ugb3JkZXIKICAgIHN3aXRjaCAoY3VyUGFnZSkgewogICAgICAgIGNhc2UgUGFnZUVudW0ua2Fuamk6CiAgICAgICAgICAgIGxvYWREaWFncmFtKCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgUGFnZUVudW0ucmV2aWV3czoKICAgICAgICAgICAgdmFyIG8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihtdXRhdGlvbnMpIHsKICAgICAgICAgICAgICAgLy8gVGhlIGxhc3Qgb25lIGFsd2F5cyBoYXMgMiBtdXRhdGlvbnMsIHNvIGxldCdzIHVzZSB0aGF0CiAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbnMubGVuZ3RoICE9IDIpCiAgICAgICAgICAgICAgICAgICByZXR1cm47CgogICAgICAgICAgICAgICAvLyBSZXZpZXdzIGR5bmFtaWNhbGx5IGdlbmVyYXRlIHRoZSBET00uIFdlIGFsd2F5cyBuZWVkIHRvIHJlLWluc2VydCB0aGUgZWxlbWVudAogICAgICAgICAgICAgICBpZiAoZ2V0S2FuamkoKSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFncmFtID0gY3JlYXRlRGlhZ3JhbVNlY3Rpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlhZ3JhbSAhPT0gbnVsbCAmJiBkaWFncmFtLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LmRpYWdyYW0gPSBkaWFncmFtOwogICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkRGlhZ3JhbSgpOwogICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgIH0sIDE1MCk7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG8ub2JzZXJ2ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbS1pbmZvJyksIHsnYXR0cmlidXRlcycgOiB0cnVlfSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgUGFnZUVudW0ubGVzc29uczoKICAgICAgICAgICAgdmFyIG8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcihsb2FkRGlhZ3JhbSk7CiAgICAgICAgICAgIG8ub2JzZXJ2ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VwcGxlbWVudC1rYW4nKSwgeydhdHRyaWJ1dGVzJyA6IHRydWV9KTsKICAgICAgICAgICAgbG9hZERpYWdyYW0oKTsKICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn0KCmlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7CiAgICBpbml0KCk7Cn0gZWxzZSB7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGluaXQpOwp9CgovKgogKiBSZXR1cm5zIHRoZSBjdXJyZW50IGthbmppCiAqLwpmdW5jdGlvbiBnZXRLYW5qaSgpIHsKICAgIHN3aXRjaChjdXJQYWdlKSB7CiAgICAgICAgY2FzZSBQYWdlRW51bS5rYW5qaToKICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnRpdGxlW2RvY3VtZW50LnRpdGxlLmxlbmd0aCAtIDFdOwoKICAgICAgICBjYXNlIFBhZ2VFbnVtLnJldmlld3M6CiAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJC5qU3RvcmFnZS5nZXQoImN1cnJlbnRJdGVtIik7CiAgICAgICAgICAgIGlmKCJrYW4iIGluIGN1ckl0ZW0pCiAgICAgICAgICAgICAgICByZXR1cm4gY3VySXRlbS5rYW4udHJpbSgpOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKCiAgICAgICAgY2FzZSBQYWdlRW51bS5sZXNzb25zOgogICAgICAgICAgICB2YXIga2FuamlOb2RlID0gJCgiI2NoYXJhY3RlciIpOwoKICAgICAgICAgICAgaWYoa2FuamlOb2RlID09PSB1bmRlZmluZWQgfHwga2FuamlOb2RlID09PSBudWxsKQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICAgICAgICByZXR1cm4ga2FuamlOb2RlLnRleHQoKS50cmltKCk7CiAgICB9CgogICAgcmV0dXJuIG51bGw7Cn0KCi8qCiAqIENyZWF0ZXMgYSBzZWN0aW9uIGZvciB0aGUgZGlhZ3JhbSBhbmQgcmV0dXJucyBhIHBvaW50ZXIgdG8gaXRzIGNvbnRlbnQKICovCmZ1bmN0aW9uIGNyZWF0ZURpYWdyYW1TZWN0aW9uKCkgewoKICAgIC8vIFJldmlld3MgaGFjazogT25seSBkbyBpdCBvbmNlCiAgICBpZiAoJCgnI3N0cm9rZV9vcmRlcicpLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdmFyIHNlY3Rpb25IVE1MID0gJzxzZWN0aW9uPjxoMj5TdHJva2UgT3JkZXI8L2gyPjxwIGlkPSJzdHJva2Vfb3JkZXIiPiZuYnNwOzwvcD48L3NlY3Rpb24+JzsKCiAgICAgICAgc3dpdGNoKGN1clBhZ2UpIHsKICAgICAgICAgICAgY2FzZSBQYWdlRW51bS5rYW5qaToKICAgICAgICAgICAgICAgICQoc2VjdGlvbkhUTUwpLmluc2VydEFmdGVyKCcjaW5mb3JtYXRpb24nKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIFBhZ2VFbnVtLnJldmlld3M6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicHJlcGVuZCIpOwogICAgICAgICAgICAgICAgJCgnI2l0ZW0taW5mby1jb2wyJykucHJlcGVuZChzZWN0aW9uSFRNTCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBQYWdlRW51bS5sZXNzb25zOgogICAgICAgICAgICAgICAgJCgnI3N1cHBsZW1lbnQta2FuLWJyZWFrZG93biAuY29sMScpLmFwcGVuZChzZWN0aW9uSFRNTCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuICQoJyNzdHJva2Vfb3JkZXInKTsKfQoKLyoKICogQWRkcyB0aGUgZGlhZ3JhbSBzZWN0aW9uIGVsZW1lbnQgdG8gdGhlIGFwcHJvcHJpYXRlIGxvY2F0aW9uCiAqLwpmdW5jdGlvbiBsb2FkRGlhZ3JhbSgpIHsKCiAgICBpZiAoIXVuc2FmZVdpbmRvdyB8fCAhdW5zYWZlV2luZG93LmRpYWdyYW0ubGVuZ3RoKQogICAgICAgIHJldHVybjsKCiAgICB1bnNhZmVXaW5kb3cuZGlhZ3JhbS5odG1sKCJMb2FkaW5nLi4uIik7CgogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgIHVybDogSklTSE8gKyAiL2thbmppL2RldGFpbHMvIiArIGdldEthbmppKCksCiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24oeGhyKSB7CiAgICAgICAgICAgICAgICB2YXIgZGlhZ3JhbSA9IHVuc2FmZVdpbmRvdy5kaWFncmFtOwogICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRpYWdyYW1VUkwgPSB4aHIucmVzcG9uc2VUZXh0Lm1hdGNoKC9cL3N0YXRpY1wvaW1hZ2VzXC9zdHJva2VfZGlhZ3JhbXNcL1swLTldK19mcmFtZXNcLnBuZy8pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWdyYW0uaHRtbCgnPGltZyBzcmM9IicgKyBKSVNITyArIGRpYWdyYW1VUkxbMF0gKyAnIiBhbHQ9IlN0cm9rZSBvcmRlciBkaWFncmFtIiAvPicpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5kaWFncmFtLmh0bWwoIkVycm9yIHdoaWxlIGxvYWRpbmcgZGlhZ3JhbSIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBvbmVycm9yOiBmdW5jdGlvbih4aHIpIHsKICAgICAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5kaWFncmFtLmh0bWwoIkVycm9yIHdoaWxlIGxvYWRpbmcgZGlhZ3JhbSIpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LCAwKTsKfQ==","requires":[{"meta":{"name":"jquery.min.js","url":"http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js","ts":1598911306474,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2MS4xMC4yIHwgKGMpIDIwMDUsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UKLy9AIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5Lm1pbi5tYXAKKi8KKGZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPXR5cGVvZiB0LG89ZS5sb2NhdGlvbixhPWUuZG9jdW1lbnQscz1hLmRvY3VtZW50RWxlbWVudCxsPWUualF1ZXJ5LHU9ZS4kLGM9e30scD1bXSxmPSIxLjEwLjIiLGQ9cC5jb25jYXQsaD1wLnB1c2gsZz1wLnNsaWNlLG09cC5pbmRleE9mLHk9Yy50b1N0cmluZyx2PWMuaGFzT3duUHJvcGVydHksYj1mLnRyaW0seD1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgeC5mbi5pbml0KGUsdCxyKX0sdz0vWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSxUPS9cUysvZyxDPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZyxOPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8saz0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT58KSQvLEU9L15bXF0sOnt9XHNdKiQvLFM9Lyg/Ol58OnwsKSg/OlxzKlxbKSsvZyxBPS9cXCg/OlsiXFxcL2JmbnJ0XXx1W1xkYS1mQS1GXXs0fSkvZyxqPS8iW14iXFxcclxuXSoifHRydWV8ZmFsc2V8bnVsbHwtPyg/OlxkK1wufClcZCsoPzpbZUVdWystXT9cZCt8KS9nLEQ9L14tbXMtLyxMPS8tKFtcZGEtel0pL2dpLEg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSxxPWZ1bmN0aW9uKGUpeyhhLmFkZEV2ZW50TGlzdGVuZXJ8fCJsb2FkIj09PWUudHlwZXx8ImNvbXBsZXRlIj09PWEucmVhZHlTdGF0ZSkmJihfKCkseC5yZWFkeSgpKX0sXz1mdW5jdGlvbigpe2EuYWRkRXZlbnRMaXN0ZW5lcj8oYS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixxLCExKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLHEsITEpKTooYS5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixxKSxlLmRldGFjaEV2ZW50KCJvbmxvYWQiLHEpKX07eC5mbj14LnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6eCxpbml0OmZ1bmN0aW9uKGUsbixyKXt2YXIgaSxvO2lmKCFlKXJldHVybiB0aGlzO2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoaT0iPCI9PT1lLmNoYXJBdCgwKSYmIj4iPT09ZS5jaGFyQXQoZS5sZW5ndGgtMSkmJmUubGVuZ3RoPj0zP1tudWxsLGUsbnVsbF06Ti5leGVjKGUpLCFpfHwhaVsxXSYmbilyZXR1cm4hbnx8bi5qcXVlcnk/KG58fHIpLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3RvcihuKS5maW5kKGUpO2lmKGlbMV0pe2lmKG49biBpbnN0YW5jZW9mIHg/blswXTpuLHgubWVyZ2UodGhpcyx4LnBhcnNlSFRNTChpWzFdLG4mJm4ubm9kZVR5cGU/bi5vd25lckRvY3VtZW50fHxuOmEsITApKSxrLnRlc3QoaVsxXSkmJnguaXNQbGFpbk9iamVjdChuKSlmb3IoaSBpbiBuKXguaXNGdW5jdGlvbih0aGlzW2ldKT90aGlzW2ldKG5baV0pOnRoaXMuYXR0cihpLG5baV0pO3JldHVybiB0aGlzfWlmKG89YS5nZXRFbGVtZW50QnlJZChpWzJdKSxvJiZvLnBhcmVudE5vZGUpe2lmKG8uaWQhPT1pWzJdKXJldHVybiByLmZpbmQoZSk7dGhpcy5sZW5ndGg9MSx0aGlzWzBdPW99cmV0dXJuIHRoaXMuY29udGV4dD1hLHRoaXMuc2VsZWN0b3I9ZSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1lLHRoaXMubGVuZ3RoPTEsdGhpcyk6eC5pc0Z1bmN0aW9uKGUpP3IucmVhZHkoZSk6KGUuc2VsZWN0b3IhPT10JiYodGhpcy5zZWxlY3Rvcj1lLnNlbGVjdG9yLHRoaXMuY29udGV4dD1lLmNvbnRleHQpLHgubWFrZUFycmF5KGUsdGhpcykpfSxzZWxlY3RvcjoiIixsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGcuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3RoaXMudG9BcnJheSgpOjA+ZT90aGlzW3RoaXMubGVuZ3RoK2VdOnRoaXNbZV19LHB1c2hTdGFjazpmdW5jdGlvbihlKXt2YXIgdD14Lm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxlKTtyZXR1cm4gdC5wcmV2T2JqZWN0PXRoaXMsdC5jb250ZXh0PXRoaXMuY29udGV4dCx0fSxlYWNoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHguZWFjaCh0aGlzLGUsdCl9LHJlYWR5OmZ1bmN0aW9uKGUpe3JldHVybiB4LnJlYWR5LnByb21pc2UoKS5kb25lKGUpLHRoaXN9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGcuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoMD5lP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4+PTAmJnQ+bj9bdGhpc1tuXV06W10pfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgubWFwKHRoaXMsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5jYWxsKHQsbix0KX0pKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpoLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfSx4LmZuLmluaXQucHJvdG90eXBlPXguZm4seC5leHRlbmQ9eC5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvLGEscz1hcmd1bWVudHNbMF18fHt9LGw9MSx1PWFyZ3VtZW50cy5sZW5ndGgsYz0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgcyYmKGM9cyxzPWFyZ3VtZW50c1sxXXx8e30sbD0yKSwib2JqZWN0Ij09dHlwZW9mIHN8fHguaXNGdW5jdGlvbihzKXx8KHM9e30pLHU9PT1sJiYocz10aGlzLC0tbCk7dT5sO2wrKylpZihudWxsIT0obz1hcmd1bWVudHNbbF0pKWZvcihpIGluIG8pZT1zW2ldLHI9b1tpXSxzIT09ciYmKGMmJnImJih4LmlzUGxhaW5PYmplY3Qocil8fChuPXguaXNBcnJheShyKSkpPyhuPyhuPSExLGE9ZSYmeC5pc0FycmF5KGUpP2U6W10pOmE9ZSYmeC5pc1BsYWluT2JqZWN0KGUpP2U6e30sc1tpXT14LmV4dGVuZChjLGEscikpOnIhPT10JiYoc1tpXT1yKSk7cmV0dXJuIHN9LHguZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhmK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLG5vQ29uZmxpY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGUuJD09PXgmJihlLiQ9dSksdCYmZS5qUXVlcnk9PT14JiYoZS5qUXVlcnk9bCkseH0saXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oZSl7ZT94LnJlYWR5V2FpdCsrOngucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihlKXtpZihlPT09ITA/IS0teC5yZWFkeVdhaXQ6IXguaXNSZWFkeSl7aWYoIWEuYm9keSlyZXR1cm4gc2V0VGltZW91dCh4LnJlYWR5KTt4LmlzUmVhZHk9ITAsZSE9PSEwJiYtLXgucmVhZHlXYWl0PjB8fChuLnJlc29sdmVXaXRoKGEsW3hdKSx4LmZuLnRyaWdnZXImJngoYSkudHJpZ2dlcigicmVhZHkiKS5vZmYoInJlYWR5IikpfX0saXNGdW5jdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT09eC50eXBlKGUpfSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJhcnJheSI9PT14LnR5cGUoZSl9LGlzV2luZG93OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlPT1lLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGUpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KGUpKSYmaXNGaW5pdGUoZSl9LHR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/ZSsiIjoib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlP2NbeS5jYWxsKGUpXXx8Im9iamVjdCI6dHlwZW9mIGV9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIG47aWYoIWV8fCJvYmplY3QiIT09eC50eXBlKGUpfHxlLm5vZGVUeXBlfHx4LmlzV2luZG93KGUpKXJldHVybiExO3RyeXtpZihlLmNvbnN0cnVjdG9yJiYhdi5jYWxsKGUsImNvbnN0cnVjdG9yIikmJiF2LmNhbGwoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKSlyZXR1cm4hMX1jYXRjaChyKXtyZXR1cm4hMX1pZih4LnN1cHBvcnQub3duTGFzdClmb3IobiBpbiBlKXJldHVybiB2LmNhbGwoZSxuKTtmb3IobiBpbiBlKTtyZXR1cm4gbj09PXR8fHYuY2FsbChlLG4pfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IEVycm9yKGUpfSxwYXJzZUhUTUw6ZnVuY3Rpb24oZSx0LG4pe2lmKCFlfHwic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0PXR8fGE7dmFyIHI9ay5leGVjKGUpLGk9IW4mJltdO3JldHVybiByP1t0LmNyZWF0ZUVsZW1lbnQoclsxXSldOihyPXguYnVpbGRGcmFnbWVudChbZV0sdCxpKSxpJiZ4KGkpLnJlbW92ZSgpLHgubWVyZ2UoW10sci5jaGlsZE5vZGVzKSl9LHBhcnNlSlNPTjpmdW5jdGlvbihuKXtyZXR1cm4gZS5KU09OJiZlLkpTT04ucGFyc2U/ZS5KU09OLnBhcnNlKG4pOm51bGw9PT1uP246InN0cmluZyI9PXR5cGVvZiBuJiYobj14LnRyaW0obiksbiYmRS50ZXN0KG4ucmVwbGFjZShBLCJAIikucmVwbGFjZShqLCJdIikucmVwbGFjZShTLCIiKSkpP0Z1bmN0aW9uKCJyZXR1cm4gIituKSgpOih4LmVycm9yKCJJbnZhbGlkIEpTT046ICIrbiksdCl9LHBhcnNlWE1MOmZ1bmN0aW9uKG4pe3ZhciByLGk7aWYoIW58fCJzdHJpbmciIT10eXBlb2YgbilyZXR1cm4gbnVsbDt0cnl7ZS5ET01QYXJzZXI/KGk9bmV3IERPTVBhcnNlcixyPWkucGFyc2VGcm9tU3RyaW5nKG4sInRleHQveG1sIikpOihyPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksci5hc3luYz0iZmFsc2UiLHIubG9hZFhNTChuKSl9Y2F0Y2gobyl7cj10fXJldHVybiByJiZyLmRvY3VtZW50RWxlbWVudCYmIXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RofHx4LmVycm9yKCJJbnZhbGlkIFhNTDogIituKSxyfSxub29wOmZ1bmN0aW9uKCl7fSxnbG9iYWxFdmFsOmZ1bmN0aW9uKHQpe3QmJngudHJpbSh0KSYmKGUuZXhlY1NjcmlwdHx8ZnVuY3Rpb24odCl7ZS5ldmFsLmNhbGwoZSx0KX0pKHQpfSxjYW1lbENhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShELCJtcy0iKS5yZXBsYWNlKEwsSCl9LG5vZGVOYW1lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT0wLG89ZS5sZW5ndGgsYT1NKGUpO2lmKG4pe2lmKGEpe2Zvcig7bz5pO2krKylpZihyPXQuYXBwbHkoZVtpXSxuKSxyPT09ITEpYnJlYWt9ZWxzZSBmb3IoaSBpbiBlKWlmKHI9dC5hcHBseShlW2ldLG4pLHI9PT0hMSlicmVha31lbHNlIGlmKGEpe2Zvcig7bz5pO2krKylpZihyPXQuY2FsbChlW2ldLGksZVtpXSkscj09PSExKWJyZWFrfWVsc2UgZm9yKGkgaW4gZSlpZihyPXQuY2FsbChlW2ldLGksZVtpXSkscj09PSExKWJyZWFrO3JldHVybiBlfSx0cmltOmImJiFiLmNhbGwoIlx1ZmVmZlx1MDBhMCIpP2Z1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmIuY2FsbChlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/IiI6KGUrIiIpLnJlcGxhY2UoQywiIil9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYoTShPYmplY3QoZSkpP3gubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOmguY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih0KXtpZihtKXJldHVybiBtLmNhbGwodCxlLG4pO2ZvcihyPXQubGVuZ3RoLG49bj8wPm4/TWF0aC5tYXgoMCxyK24pOm46MDtyPm47bisrKWlmKG4gaW4gdCYmdFtuXT09PWUpcmV0dXJuIG59cmV0dXJuLTF9LG1lcmdlOmZ1bmN0aW9uKGUsbil7dmFyIHI9bi5sZW5ndGgsaT1lLmxlbmd0aCxvPTA7aWYoIm51bWJlciI9PXR5cGVvZiByKWZvcig7cj5vO28rKyllW2krK109bltvXTtlbHNlIHdoaWxlKG5bb10hPT10KWVbaSsrXT1uW28rK107cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1bXSxvPTAsYT1lLmxlbmd0aDtmb3Iobj0hIW47YT5vO28rKylyPSEhdChlW29dLG8pLG4hPT1yJiZpLnB1c2goZVtvXSk7cmV0dXJuIGl9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT0wLG89ZS5sZW5ndGgsYT1NKGUpLHM9W107aWYoYSlmb3IoO28+aTtpKyspcj10KGVbaV0saSxuKSxudWxsIT1yJiYoc1tzLmxlbmd0aF09cik7ZWxzZSBmb3IoaSBpbiBlKXI9dChlW2ldLGksbiksbnVsbCE9ciYmKHNbcy5sZW5ndGhdPXIpO3JldHVybiBkLmFwcGx5KFtdLHMpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oZSxuKXt2YXIgcixpLG87cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuJiYobz1lW25dLG49ZSxlPW8pLHguaXNGdW5jdGlvbihlKT8ocj1nLmNhbGwoYXJndW1lbnRzLDIpLGk9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseShufHx0aGlzLHIuY29uY2F0KGcuY2FsbChhcmd1bWVudHMpKSl9LGkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHx4Lmd1aWQrKyxpKTp0fSxhY2Nlc3M6ZnVuY3Rpb24oZSxuLHIsaSxvLGEscyl7dmFyIGw9MCx1PWUubGVuZ3RoLGM9bnVsbD09cjtpZigib2JqZWN0Ij09PXgudHlwZShyKSl7bz0hMDtmb3IobCBpbiByKXguYWNjZXNzKGUsbixsLHJbbF0sITAsYSxzKX1lbHNlIGlmKGkhPT10JiYobz0hMCx4LmlzRnVuY3Rpb24oaSl8fChzPSEwKSxjJiYocz8obi5jYWxsKGUsaSksbj1udWxsKTooYz1uLG49ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjLmNhbGwoeChlKSxuKX0pKSxuKSlmb3IoO3U+bDtsKyspbihlW2xdLHIscz9pOmkuY2FsbChlW2xdLGwsbihlW2xdLHIpKSk7cmV0dXJuIG8/ZTpjP24uY2FsbChlKTp1P24oZVswXSxyKTphfSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sc3dhcDpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGE9e307Zm9yKG8gaW4gdClhW29dPWUuc3R5bGVbb10sZS5zdHlsZVtvXT10W29dO2k9bi5hcHBseShlLHJ8fFtdKTtmb3IobyBpbiB0KWUuc3R5bGVbb109YVtvXTtyZXR1cm4gaX19KSx4LnJlYWR5LnByb21pc2U9ZnVuY3Rpb24odCl7aWYoIW4paWYobj14LkRlZmVycmVkKCksImNvbXBsZXRlIj09PWEucmVhZHlTdGF0ZSlzZXRUaW1lb3V0KHgucmVhZHkpO2Vsc2UgaWYoYS5hZGRFdmVudExpc3RlbmVyKWEuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIscSwhMSksZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixxLCExKTtlbHNle2EuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIscSksZS5hdHRhY2hFdmVudCgib25sb2FkIixxKTt2YXIgcj0hMTt0cnl7cj1udWxsPT1lLmZyYW1lRWxlbWVudCYmYS5kb2N1bWVudEVsZW1lbnR9Y2F0Y2goaSl7fXImJnIuZG9TY3JvbGwmJmZ1bmN0aW9uIG8oKXtpZigheC5pc1JlYWR5KXt0cnl7ci5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKGUpe3JldHVybiBzZXRUaW1lb3V0KG8sNTApfV8oKSx4LnJlYWR5KCl9fSgpfXJldHVybiBuLnByb21pc2UodCl9LHguZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHQpe2NbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gTShlKXt2YXIgdD1lLmxlbmd0aCxuPXgudHlwZShlKTtyZXR1cm4geC5pc1dpbmRvdyhlKT8hMToxPT09ZS5ub2RlVHlwZSYmdD8hMDoiYXJyYXkiPT09bnx8ImZ1bmN0aW9uIiE9PW4mJigwPT09dHx8Im51bWJlciI9PXR5cGVvZiB0JiZ0PjAmJnQtMSBpbiBlKX1yPXgoYSksZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHMsbCx1LGMscCxmLGQsaCxnLG0seSx2LGI9InNpenpsZSIrLW5ldyBEYXRlLHc9ZS5kb2N1bWVudCxUPTAsQz0wLE49c3QoKSxrPXN0KCksRT1zdCgpLFM9ITEsQT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8oUz0hMCwwKTowfSxqPXR5cGVvZiB0LEQ9MTw8MzEsTD17fS5oYXNPd25Qcm9wZXJ0eSxIPVtdLHE9SC5wb3AsXz1ILnB1c2gsTT1ILnB1c2gsTz1ILnNsaWNlLEY9SC5pbmRleE9mfHxmdW5jdGlvbihlKXt2YXIgdD0wLG49dGhpcy5sZW5ndGg7Zm9yKDtuPnQ7dCsrKWlmKHRoaXNbdF09PT1lKXJldHVybiB0O3JldHVybi0xfSxCPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsUD0iW1xceDIwXFx0XFxyXFxuXFxmXSIsUj0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLFc9Ui5yZXBsYWNlKCJ3IiwidyMiKSwkPSJcXFsiK1ArIiooIitSKyIpIitQKyIqKD86KFsqXiR8IX5dPz0pIitQKyIqKD86KFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcM3woIitXKyIpfCl8KSIrUCsiKlxcXSIsST0iOigiK1IrIikoPzpcXCgoKFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcM3woKD86XFxcXC58W15cXFxcKClbXFxdXXwiKyQucmVwbGFjZSgzLDgpKyIpKil8LiopXFwpfCkiLHo9UmVnRXhwKCJeIitQKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK1ArIiskIiwiZyIpLFg9UmVnRXhwKCJeIitQKyIqLCIrUCsiKiIpLFU9UmVnRXhwKCJeIitQKyIqKFs+K35dfCIrUCsiKSIrUCsiKiIpLFY9UmVnRXhwKFArIipbK35dIiksWT1SZWdFeHAoIj0iK1ArIiooW15cXF0nXCJdKikiK1ArIipcXF0iLCJnIiksSj1SZWdFeHAoSSksRz1SZWdFeHAoIl4iK1crIiQiKSxRPXtJRDpSZWdFeHAoIl4jKCIrUisiKSIpLENMQVNTOlJlZ0V4cCgiXlxcLigiK1IrIikiKSxUQUc6UmVnRXhwKCJeKCIrUi5yZXBsYWNlKCJ3IiwidyoiKSsiKSIpLEFUVFI6UmVnRXhwKCJeIiskKSxQU0VVRE86UmVnRXhwKCJeIitJKSxDSElMRDpSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrUCsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrUCsiKig/OihbKy1dfCkiK1ArIiooXFxkKyl8KSkiK1ArIipcXCl8KSIsImkiKSxib29sOlJlZ0V4cCgiXig/OiIrQisiKSQiLCJpIiksbmVlZHNDb250ZXh0OlJlZ0V4cCgiXiIrUCsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitQKyIqKCg/Oi1cXGQpP1xcZCopIitQKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxLPS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxaPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sZXQ9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSx0dD0vXmhcZCQvaSxudD0vJ3xcXC9nLHJ0PVJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9IitQKyI/fCgiK1ArIil8LikiLCJpZyIpLGl0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0iMHgiK3QtNjU1MzY7cmV0dXJuIHIhPT1yfHxuP3Q6MD5yP1N0cmluZy5mcm9tQ2hhckNvZGUocis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NnxyPj4xMCw1NjMyMHwxMDIzJnIpfTt0cnl7TS5hcHBseShIPU8uY2FsbCh3LmNoaWxkTm9kZXMpLHcuY2hpbGROb2RlcyksSFt3LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChvdCl7TT17YXBwbHk6SC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtfLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gYXQoZSx0LG4saSl7dmFyIG8sYSxzLGwsdSxjLGQsbSx5LHg7aWYoKHQ/dC5vd25lckRvY3VtZW50fHx0OncpIT09ZiYmcCh0KSx0PXR8fGYsbj1ufHxbXSwhZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBuO2lmKDEhPT0obD10Lm5vZGVUeXBlKSYmOSE9PWwpcmV0dXJuW107aWYoaCYmIWkpe2lmKG89Wi5leGVjKGUpKWlmKHM9b1sxXSl7aWYoOT09PWwpe2lmKGE9dC5nZXRFbGVtZW50QnlJZChzKSwhYXx8IWEucGFyZW50Tm9kZSlyZXR1cm4gbjtpZihhLmlkPT09cylyZXR1cm4gbi5wdXNoKGEpLG59ZWxzZSBpZih0Lm93bmVyRG9jdW1lbnQmJihhPXQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChzKSkmJnYodCxhKSYmYS5pZD09PXMpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYob1syXSlyZXR1cm4gTS5hcHBseShuLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLG47aWYoKHM9b1szXSkmJnIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBNLmFwcGx5KG4sdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHMpKSxufWlmKHIucXNhJiYoIWd8fCFnLnRlc3QoZSkpKXtpZihtPWQ9Yix5PXQseD05PT09bCYmZSwxPT09bCYmIm9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2M9bXQoZSksKGQ9dC5nZXRBdHRyaWJ1dGUoImlkIikpP209ZC5yZXBsYWNlKG50LCJcXCQmIik6dC5zZXRBdHRyaWJ1dGUoImlkIixtKSxtPSJbaWQ9JyIrbSsiJ10gIix1PWMubGVuZ3RoO3doaWxlKHUtLSljW3VdPW0reXQoY1t1XSk7eT1WLnRlc3QoZSkmJnQucGFyZW50Tm9kZXx8dCx4PWMuam9pbigiLCIpfWlmKHgpdHJ5e3JldHVybiBNLmFwcGx5KG4seS5xdWVyeVNlbGVjdG9yQWxsKHgpKSxufWNhdGNoKFQpe31maW5hbGx5e2R8fHQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGt0KGUucmVwbGFjZSh6LCIkMSIpLHQsbixpKX1mdW5jdGlvbiBzdCgpe3ZhciBlPVtdO2Z1bmN0aW9uIHQobixyKXtyZXR1cm4gZS5wdXNoKG4rPSIgIik+by5jYWNoZUxlbmd0aCYmZGVsZXRlIHRbZS5zaGlmdCgpXSx0W25dPXJ9cmV0dXJuIHR9ZnVuY3Rpb24gbHQoZSl7cmV0dXJuIGVbYl09ITAsZX1mdW5jdGlvbiB1dChlKXt2YXIgdD1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGN0KGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9ZS5sZW5ndGg7d2hpbGUoci0tKW8uYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHB0KGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmKH50LnNvdXJjZUluZGV4fHxEKS0ofmUuc291cmNlSW5kZXh8fEQpO2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBmdChlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1uJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBkdChlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09bnx8ImJ1dHRvbiI9PT1uKSYmdC50eXBlPT09ZX19ZnVuY3Rpb24gaHQoZSl7cmV0dXJuIGx0KGZ1bmN0aW9uKHQpe3JldHVybiB0PSt0LGx0KGZ1bmN0aW9uKG4scil7dmFyIGksbz1lKFtdLG4ubGVuZ3RoLHQpLGE9by5sZW5ndGg7d2hpbGUoYS0tKW5baT1vW2FdXSYmKG5baV09IShyW2ldPW5baV0pKX0pfSl9cz1hdC5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIHQ/IkhUTUwiIT09dC5ub2RlTmFtZTohMX0scj1hdC5zdXBwb3J0PXt9LHA9YXQuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIG49ZT9lLm93bmVyRG9jdW1lbnR8fGU6dyxpPW4uZGVmYXVsdFZpZXc7cmV0dXJuIG4hPT1mJiY5PT09bi5ub2RlVHlwZSYmbi5kb2N1bWVudEVsZW1lbnQ/KGY9bixkPW4uZG9jdW1lbnRFbGVtZW50LGg9IXMobiksaSYmaS5hdHRhY2hFdmVudCYmaSE9PWkudG9wJiZpLmF0dGFjaEV2ZW50KCJvbmJlZm9yZXVubG9hZCIsZnVuY3Rpb24oKXtwKCl9KSxyLmF0dHJpYnV0ZXM9dXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksci5nZXRFbGVtZW50c0J5VGFnTmFtZT11dChmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChuLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLHIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT11dChmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J2EnPjwvZGl2PjxkaXYgY2xhc3M9J2EgaSc+PC9kaXY+IixlLmZpcnN0Q2hpbGQuY2xhc3NOYW1lPSJpIiwyPT09ZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RofSksci5nZXRCeUlkPXV0KGZ1bmN0aW9uKGUpe3JldHVybiBkLmFwcGVuZENoaWxkKGUpLmlkPWIsIW4uZ2V0RWxlbWVudHNCeU5hbWV8fCFuLmdldEVsZW1lbnRzQnlOYW1lKGIpLmxlbmd0aH0pLHIuZ2V0QnlJZD8oby5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQhPT1qJiZoKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuJiZuLnBhcmVudE5vZGU/W25dOltdfX0sby5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHJ0LGl0KTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19KTooZGVsZXRlIG8uZmluZC5JRCxvLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UocnQsaXQpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj10eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlIT09aiYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBuJiZuLnZhbHVlPT09dH19KSxvLmZpbmQuVEFHPXIuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdHlwZW9mIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUhPT1qP24uZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6dH06ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9MCxvPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoIioiPT09ZSl7d2hpbGUobj1vW2krK10pMT09PW4ubm9kZVR5cGUmJnIucHVzaChuKTtyZXR1cm4gcn1yZXR1cm4gb30sby5maW5kLkNMQVNTPXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oZSxuKXtyZXR1cm4gdHlwZW9mIG4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PWomJmg/bi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpOnR9LG09W10sZz1bXSwoci5xc2E9Sy50ZXN0KG4ucXVlcnlTZWxlY3RvckFsbCkpJiYodXQoZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9IjxzZWxlY3Q+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8Zy5wdXNoKCJcXFsiK1ArIiooPzp2YWx1ZXwiK0IrIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxnLnB1c2goIjpjaGVja2VkIil9KSx1dChmdW5jdGlvbihlKXt2YXIgdD1uLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKSxlLmFwcGVuZENoaWxkKHQpLnNldEF0dHJpYnV0ZSgidCIsIiIpLGUucXVlcnlTZWxlY3RvckFsbCgiW3RePScnXSIpLmxlbmd0aCYmZy5wdXNoKCJbKl4kXT0iK1ArIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGh8fGcucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSxnLnB1c2goIiwuKjoiKX0pKSwoci5tYXRjaGVzU2VsZWN0b3I9Sy50ZXN0KHk9ZC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGQubW96TWF0Y2hlc1NlbGVjdG9yfHxkLm9NYXRjaGVzU2VsZWN0b3J8fGQubXNNYXRjaGVzU2VsZWN0b3IpKSYmdXQoZnVuY3Rpb24oZSl7ci5kaXNjb25uZWN0ZWRNYXRjaD15LmNhbGwoZSwiZGl2IikseS5jYWxsKGUsIltzIT0nJ106eCIpLG0ucHVzaCgiIT0iLEkpfSksZz1nLmxlbmd0aCYmUmVnRXhwKGcuam9pbigifCIpKSxtPW0ubGVuZ3RoJiZSZWdFeHAobS5qb2luKCJ8IikpLHY9Sy50ZXN0KGQuY29udGFpbnMpfHxkLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sQT1kLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIFM9ITAsMDt2YXIgaT10LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpO3JldHVybiBpPzEmaXx8IXIuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpPT09aT9lPT09bnx8dih3LGUpPy0xOnQ9PT1ufHx2KHcsdCk/MTpjP0YuY2FsbChjLGUpLUYuY2FsbChjLHQpOjA6NCZpPy0xOjE6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj8tMToxfTpmdW5jdGlvbihlLHQpe3ZhciByLGk9MCxvPWUucGFyZW50Tm9kZSxhPXQucGFyZW50Tm9kZSxzPVtlXSxsPVt0XTtpZihlPT09dClyZXR1cm4gUz0hMCwwO2lmKCFvfHwhYSlyZXR1cm4gZT09PW4/LTE6dD09PW4/MTpvPy0xOmE/MTpjP0YuY2FsbChjLGUpLUYuY2FsbChjLHQpOjA7aWYobz09PWEpcmV0dXJuIHB0KGUsdCk7cj1lO3doaWxlKHI9ci5wYXJlbnROb2RlKXMudW5zaGlmdChyKTtyPXQ7d2hpbGUocj1yLnBhcmVudE5vZGUpbC51bnNoaWZ0KHIpO3doaWxlKHNbaV09PT1sW2ldKWkrKztyZXR1cm4gaT9wdChzW2ldLGxbaV0pOnNbaV09PT13Py0xOmxbaV09PT13PzE6MH0sbik6Zn0sYXQubWF0Y2hlcz1mdW5jdGlvbihlLHQpe3JldHVybiBhdChlLG51bGwsbnVsbCx0KX0sYXQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoKGUub3duZXJEb2N1bWVudHx8ZSkhPT1mJiZwKGUpLHQ9dC5yZXBsYWNlKFksIj0nJDEnXSIpLCEoIXIubWF0Y2hlc1NlbGVjdG9yfHwhaHx8bSYmbS50ZXN0KHQpfHxnJiZnLnRlc3QodCkpKXRyeXt2YXIgbj15LmNhbGwoZSx0KTtpZihufHxyLmRpc2Nvbm5lY3RlZE1hdGNofHxlLmRvY3VtZW50JiYxMSE9PWUuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIG59Y2F0Y2goaSl7fXJldHVybiBhdCh0LGYsbnVsbCxbZV0pLmxlbmd0aD4wfSxhdC5jb250YWlucz1mdW5jdGlvbihlLHQpe3JldHVybihlLm93bmVyRG9jdW1lbnR8fGUpIT09ZiYmcChlKSx2KGUsdCl9LGF0LmF0dHI9ZnVuY3Rpb24oZSxuKXsoZS5vd25lckRvY3VtZW50fHxlKSE9PWYmJnAoZSk7dmFyIGk9by5hdHRySGFuZGxlW24udG9Mb3dlckNhc2UoKV0sYT1pJiZMLmNhbGwoby5hdHRySGFuZGxlLG4udG9Mb3dlckNhc2UoKSk/aShlLG4sIWgpOnQ7cmV0dXJuIGE9PT10P3IuYXR0cmlidXRlc3x8IWg/ZS5nZXRBdHRyaWJ1dGUobik6KGE9ZS5nZXRBdHRyaWJ1dGVOb2RlKG4pKSYmYS5zcGVjaWZpZWQ/YS52YWx1ZTpudWxsOmF9LGF0LmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2UpfSxhdC51bmlxdWVTb3J0PWZ1bmN0aW9uKGUpe3ZhciB0LG49W10saT0wLG89MDtpZihTPSFyLmRldGVjdER1cGxpY2F0ZXMsYz0hci5zb3J0U3RhYmxlJiZlLnNsaWNlKDApLGUuc29ydChBKSxTKXt3aGlsZSh0PWVbbysrXSl0PT09ZVtvXSYmKGk9bi5wdXNoKG8pKTt3aGlsZShpLS0pZS5zcGxpY2UobltpXSwxKX1yZXR1cm4gZX0sYT1hdC5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1hKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIGZvcig7dD1lW3JdO3IrKyluKz1hKHQpO3JldHVybiBufSxvPWF0LnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmx0LG1hdGNoOlEsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZShydCxpdCksZVszXT0oZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UocnQsaXQpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxhdC5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZhdC5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIG4scj0hZVs1XSYmZVsyXTtyZXR1cm4gUS5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10mJmVbNF0hPT10P2VbMl09ZVs0XTpyJiZKLnRlc3QocikmJihuPW10KHIsITApKSYmKG49ci5pbmRleE9mKCIpIixyLmxlbmd0aC1uKS1yLmxlbmd0aCkmJihlWzBdPWVbMF0uc2xpY2UoMCxuKSxlWzJdPXIuc2xpY2UoMCxuKSksZS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShydCxpdCkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1lP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10fX0sQ0xBU1M6ZnVuY3Rpb24oZSl7dmFyIHQ9TltlKyIgIl07cmV0dXJuIHR8fCh0PVJlZ0V4cCgiKF58IitQKyIpIitlKyIoIitQKyJ8JCkiKSkmJk4oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHx0eXBlb2YgZS5nZXRBdHRyaWJ1dGUhPT1qJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1hdC5hdHRyKHIsZSk7cmV0dXJuIG51bGw9PWk/IiE9Ij09PXQ6dD8oaSs9IiIsIj0iPT09dD9pPT09bjoiIT0iPT09dD9pIT09bjoiXj0iPT09dD9uJiYwPT09aS5pbmRleE9mKG4pOiIqPSI9PT10P24mJmkuaW5kZXhPZihuKT4tMToiJD0iPT09dD9uJiZpLnNsaWNlKC1uLmxlbmd0aCk9PT1uOiJ+PSI9PT10PygiICIraSsiICIpLmluZGV4T2Yobik+LTE6Inw9Ij09PXQ/aT09PW58fGkuc2xpY2UoMCxuLmxlbmd0aCsxKT09PW4rIi0iOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG89Im50aCIhPT1lLnNsaWNlKDAsMyksYT0ibGFzdCIhPT1lLnNsaWNlKC00KSxzPSJvZi10eXBlIj09PXQ7cmV0dXJuIDE9PT1yJiYwPT09aT9mdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyZW50Tm9kZX06ZnVuY3Rpb24odCxuLGwpe3ZhciB1LGMscCxmLGQsaCxnPW8hPT1hPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyIsbT10LnBhcmVudE5vZGUseT1zJiZ0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksdj0hbCYmIXM7aWYobSl7aWYobyl7d2hpbGUoZyl7cD10O3doaWxlKHA9cFtnXSlpZihzP3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXk6MT09PXAubm9kZVR5cGUpcmV0dXJuITE7aD1nPSJvbmx5Ij09PWUmJiFoJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKGg9W2E/bS5maXJzdENoaWxkOm0ubGFzdENoaWxkXSxhJiZ2KXtjPW1bYl18fChtW2JdPXt9KSx1PWNbZV18fFtdLGQ9dVswXT09PVQmJnVbMV0sZj11WzBdPT09VCYmdVsyXSxwPWQmJm0uY2hpbGROb2Rlc1tkXTt3aGlsZShwPSsrZCYmcCYmcFtnXXx8KGY9ZD0wKXx8aC5wb3AoKSlpZigxPT09cC5ub2RlVHlwZSYmKytmJiZwPT09dCl7Y1tlXT1bVCxkLGZdO2JyZWFrfX1lbHNlIGlmKHYmJih1PSh0W2JdfHwodFtiXT17fSkpW2VdKSYmdVswXT09PVQpZj11WzFdO2Vsc2Ugd2hpbGUocD0rK2QmJnAmJnBbZ118fChmPWQ9MCl8fGgucG9wKCkpaWYoKHM/cC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09eToxPT09cC5ub2RlVHlwZSkmJisrZiYmKHYmJigocFtiXXx8KHBbYl09e30pKVtlXT1bVCxmXSkscD09PXQpKWJyZWFrO3JldHVybiBmLT1pLGY9PT1yfHwwPT09ZiVyJiZmL3I+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1vLnBzZXVkb3NbZV18fG8uc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxhdC5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiByW2JdP3IodCk6ci5sZW5ndGg+MT8obj1bZSxlLCIiLHRdLG8uc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2x0KGZ1bmN0aW9uKGUsbil7dmFyIGksbz1yKGUsdCksYT1vLmxlbmd0aDt3aGlsZShhLS0paT1GLmNhbGwoZSxvW2FdKSxlW2ldPSEobltpXT1vW2FdKX0pOmZ1bmN0aW9uKGUpe3JldHVybiByKGUsMCxuKX0pOnJ9fSxwc2V1ZG9zOntub3Q6bHQoZnVuY3Rpb24oZSl7dmFyIHQ9W10sbj1bXSxyPWwoZS5yZXBsYWNlKHosIiQxIikpO3JldHVybiByW2JdP2x0KGZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBvLGE9cihlLG51bGwsaSxbXSkscz1lLmxlbmd0aDt3aGlsZShzLS0pKG89YVtzXSkmJihlW3NdPSEodFtzXT1vKSl9KTpmdW5jdGlvbihlLGksbyl7cmV0dXJuIHRbMF09ZSxyKHQsbnVsbCxvLG4pLCFuLnBvcCgpfX0pLGhhczpsdChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGF0KGUsdCkubGVuZ3RoPjB9fSksY29udGFpbnM6bHQoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybih0LnRleHRDb250ZW50fHx0LmlubmVyVGV4dHx8YSh0KSkuaW5kZXhPZihlKT4tMX19KSxsYW5nOmx0KGZ1bmN0aW9uKGUpe3JldHVybiBHLnRlc3QoZXx8IiIpfHxhdC5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIitlKSxlPWUucmVwbGFjZShydCxpdCkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbih0KXt2YXIgbjtkbyBpZihuPWg/dC5sYW5nOnQuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHx0LmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybiBuPW4udG9Mb3dlckNhc2UoKSxuPT09ZXx8MD09PW4uaW5kZXhPZihlKyItIik7d2hpbGUoKHQ9dC5wYXJlbnROb2RlKSYmMT09PXQubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbih0KXt2YXIgbj1lLmxvY2F0aW9uJiZlLmxvY2F0aW9uLmhhc2g7cmV0dXJuIG4mJm4uc2xpY2UoMSk9PT10LmlkfSxyb290OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09ZH0sZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1mLmFjdGl2ZUVsZW1lbnQmJighZi5oYXNGb2N1c3x8Zi5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmISFlLmNoZWNrZWR8fCJvcHRpb24iPT09dCYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxlLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGUpe2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylpZihlLm5vZGVOYW1lPiJAInx8Mz09PWUubm9kZVR5cGV8fDQ9PT1lLm5vZGVUeXBlKXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIW8ucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0dC50ZXN0KGUubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gZXQudGVzdChlLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmImJ1dHRvbiI9PT1lLnR5cGV8fCJidXR0b24iPT09dH0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4iaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1lLnR5cGUmJihudWxsPT0odD1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8dC50b0xvd2VyQ2FzZSgpPT09ZS50eXBlKX0sZmlyc3Q6aHQoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Omh0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuW3QtMV19KSxlcTpodChmdW5jdGlvbihlLHQsbil7cmV0dXJuWzA+bj9uK3Q6bl19KSxldmVuOmh0KGZ1bmN0aW9uKGUsdCl7dmFyIG49MDtmb3IoO3Q+bjtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDpodChmdW5jdGlvbihlLHQpe3ZhciBuPTE7Zm9yKDt0Pm47bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpodChmdW5jdGlvbihlLHQsbil7dmFyIHI9MD5uP24rdDpuO2Zvcig7LS1yPj0wOyllLnB1c2gocik7cmV0dXJuIGV9KSxndDpodChmdW5jdGlvbihlLHQsbil7dmFyIHI9MD5uP24rdDpuO2Zvcig7dD4rK3I7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0sby5wc2V1ZG9zLm50aD1vLnBzZXVkb3MuZXE7Zm9yKG4gaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pby5wc2V1ZG9zW25dPWZ0KG4pO2ZvcihuIGlue3N1Ym1pdDohMCxyZXNldDohMH0pby5wc2V1ZG9zW25dPWR0KG4pO2Z1bmN0aW9uIGd0KCl7fWd0LnByb3RvdHlwZT1vLmZpbHRlcnM9by5wc2V1ZG9zLG8uc2V0RmlsdGVycz1uZXcgZ3Q7ZnVuY3Rpb24gbXQoZSx0KXt2YXIgbixyLGksYSxzLGwsdSxjPWtbZSsiICJdO2lmKGMpcmV0dXJuIHQ/MDpjLnNsaWNlKDApO3M9ZSxsPVtdLHU9by5wcmVGaWx0ZXI7d2hpbGUocyl7KCFufHwocj1YLmV4ZWMocykpKSYmKHImJihzPXMuc2xpY2UoclswXS5sZW5ndGgpfHxzKSxsLnB1c2goaT1bXSkpLG49ITEsKHI9VS5leGVjKHMpKSYmKG49ci5zaGlmdCgpLGkucHVzaCh7dmFsdWU6bix0eXBlOnJbMF0ucmVwbGFjZSh6LCIgIil9KSxzPXMuc2xpY2Uobi5sZW5ndGgpKTtmb3IoYSBpbiBvLmZpbHRlcikhKHI9UVthXS5leGVjKHMpKXx8dVthXSYmIShyPXVbYV0ocikpfHwobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6YSxtYXRjaGVzOnJ9KSxzPXMuc2xpY2Uobi5sZW5ndGgpKTtpZighbilicmVha31yZXR1cm4gdD9zLmxlbmd0aDpzP2F0LmVycm9yKGUpOmsoZSxsKS5zbGljZSgwKX1mdW5jdGlvbiB5dChlKXt2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjtmb3IoO24+dDt0Kyspcis9ZVt0XS52YWx1ZTtyZXR1cm4gcn1mdW5jdGlvbiB2dChlLHQsbil7dmFyIHI9dC5kaXIsbz1uJiYicGFyZW50Tm9kZSI9PT1yLGE9QysrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsbixpKXt3aGlsZSh0PXRbcl0paWYoMT09PXQubm9kZVR5cGV8fG8pcmV0dXJuIGUodCxuLGkpfTpmdW5jdGlvbih0LG4scyl7dmFyIGwsdSxjLHA9VCsiICIrYTtpZihzKXt3aGlsZSh0PXRbcl0paWYoKDE9PT10Lm5vZGVUeXBlfHxvKSYmZSh0LG4scykpcmV0dXJuITB9ZWxzZSB3aGlsZSh0PXRbcl0paWYoMT09PXQubm9kZVR5cGV8fG8paWYoYz10W2JdfHwodFtiXT17fSksKHU9Y1tyXSkmJnVbMF09PT1wKXtpZigobD11WzFdKT09PSEwfHxsPT09aSlyZXR1cm4gbD09PSEwfWVsc2UgaWYodT1jW3JdPVtwXSx1WzFdPWUodCxuLHMpfHxpLHVbMV09PT0hMClyZXR1cm4hMH19ZnVuY3Rpb24gYnQoZSl7cmV0dXJuIGUubGVuZ3RoPjE/ZnVuY3Rpb24odCxuLHIpe3ZhciBpPWUubGVuZ3RoO3doaWxlKGktLSlpZighZVtpXSh0LG4scikpcmV0dXJuITE7cmV0dXJuITB9OmVbMF19ZnVuY3Rpb24geHQoZSx0LG4scixpKXt2YXIgbyxhPVtdLHM9MCxsPWUubGVuZ3RoLHU9bnVsbCE9dDtmb3IoO2w+cztzKyspKG89ZVtzXSkmJighbnx8bihvLHIsaSkpJiYoYS5wdXNoKG8pLHUmJnQucHVzaChzKSk7cmV0dXJuIGF9ZnVuY3Rpb24gd3QoZSx0LG4scixpLG8pe3JldHVybiByJiYhcltiXSYmKHI9d3QocikpLGkmJiFpW2JdJiYoaT13dChpLG8pKSxsdChmdW5jdGlvbihvLGEscyxsKXt2YXIgdSxjLHAsZj1bXSxkPVtdLGg9YS5sZW5ndGgsZz1vfHxOdCh0fHwiKiIscy5ub2RlVHlwZT9bc106cyxbXSksbT0hZXx8IW8mJnQ/Zzp4dChnLGYsZSxzLGwpLHk9bj9pfHwobz9lOmh8fHIpP1tdOmE6bTtpZihuJiZuKG0seSxzLGwpLHIpe3U9eHQoeSxkKSxyKHUsW10scyxsKSxjPXUubGVuZ3RoO3doaWxlKGMtLSkocD11W2NdKSYmKHlbZFtjXV09IShtW2RbY11dPXApKX1pZihvKXtpZihpfHxlKXtpZihpKXt1PVtdLGM9eS5sZW5ndGg7d2hpbGUoYy0tKShwPXlbY10pJiZ1LnB1c2gobVtjXT1wKTtpKG51bGwseT1bXSx1LGwpfWM9eS5sZW5ndGg7d2hpbGUoYy0tKShwPXlbY10pJiYodT1pP0YuY2FsbChvLHApOmZbY10pPi0xJiYob1t1XT0hKGFbdV09cCkpfX1lbHNlIHk9eHQoeT09PWE/eS5zcGxpY2UoaCx5Lmxlbmd0aCk6eSksaT9pKG51bGwsYSx5LGwpOk0uYXBwbHkoYSx5KX0pfWZ1bmN0aW9uIFR0KGUpe3ZhciB0LG4scixpPWUubGVuZ3RoLGE9by5yZWxhdGl2ZVtlWzBdLnR5cGVdLHM9YXx8by5yZWxhdGl2ZVsiICJdLGw9YT8xOjAsYz12dChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9LHMsITApLHA9dnQoZnVuY3Rpb24oZSl7cmV0dXJuIEYuY2FsbCh0LGUpPi0xfSxzLCEwKSxmPVtmdW5jdGlvbihlLG4scil7cmV0dXJuIWEmJihyfHxuIT09dSl8fCgodD1uKS5ub2RlVHlwZT9jKGUsbixyKTpwKGUsbixyKSl9XTtmb3IoO2k+bDtsKyspaWYobj1vLnJlbGF0aXZlW2VbbF0udHlwZV0pZj1bdnQoYnQoZiksbildO2Vsc2V7aWYobj1vLmZpbHRlcltlW2xdLnR5cGVdLmFwcGx5KG51bGwsZVtsXS5tYXRjaGVzKSxuW2JdKXtmb3Iocj0rK2w7aT5yO3IrKylpZihvLnJlbGF0aXZlW2Vbcl0udHlwZV0pYnJlYWs7cmV0dXJuIHd0KGw+MSYmYnQoZiksbD4xJiZ5dChlLnNsaWNlKDAsbC0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWVbbC0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKHosIiQxIiksbixyPmwmJlR0KGUuc2xpY2UobCxyKSksaT5yJiZUdChlPWUuc2xpY2UocikpLGk+ciYmeXQoZSkpfWYucHVzaChuKX1yZXR1cm4gYnQoZil9ZnVuY3Rpb24gQ3QoZSx0KXt2YXIgbj0wLHI9dC5sZW5ndGg+MCxhPWUubGVuZ3RoPjAscz1mdW5jdGlvbihzLGwsYyxwLGQpe3ZhciBoLGcsbSx5PVtdLHY9MCxiPSIwIix4PXMmJltdLHc9bnVsbCE9ZCxDPXUsTj1zfHxhJiZvLmZpbmQuVEFHKCIqIixkJiZsLnBhcmVudE5vZGV8fGwpLGs9VCs9bnVsbD09Qz8xOk1hdGgucmFuZG9tKCl8fC4xO2Zvcih3JiYodT1sIT09ZiYmbCxpPW4pO251bGwhPShoPU5bYl0pO2IrKyl7aWYoYSYmaCl7Zz0wO3doaWxlKG09ZVtnKytdKWlmKG0oaCxsLGMpKXtwLnB1c2goaCk7YnJlYWt9dyYmKFQ9ayxpPSsrbil9ciYmKChoPSFtJiZoKSYmdi0tLHMmJngucHVzaChoKSl9aWYodis9YixyJiZiIT09dil7Zz0wO3doaWxlKG09dFtnKytdKW0oeCx5LGwsYyk7aWYocyl7aWYodj4wKXdoaWxlKGItLSl4W2JdfHx5W2JdfHwoeVtiXT1xLmNhbGwocCkpO3k9eHQoeSl9TS5hcHBseShwLHkpLHcmJiFzJiZ5Lmxlbmd0aD4wJiZ2K3QubGVuZ3RoPjEmJmF0LnVuaXF1ZVNvcnQocCl9cmV0dXJuIHcmJihUPWssdT1DKSx4fTtyZXR1cm4gcj9sdChzKTpzfWw9YXQuY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1bXSxvPUVbZSsiICJdO2lmKCFvKXt0fHwodD1tdChlKSksbj10Lmxlbmd0aDt3aGlsZShuLS0pbz1UdCh0W25dKSxvW2JdP3IucHVzaChvKTppLnB1c2gobyk7bz1FKGUsQ3QoaSxyKSl9cmV0dXJuIG99O2Z1bmN0aW9uIE50KGUsdCxuKXt2YXIgcj0wLGk9dC5sZW5ndGg7Zm9yKDtpPnI7cisrKWF0KGUsdFtyXSxuKTtyZXR1cm4gbn1mdW5jdGlvbiBrdChlLHQsbixpKXt2YXIgYSxzLHUsYyxwLGY9bXQoZSk7aWYoIWkmJjE9PT1mLmxlbmd0aCl7aWYocz1mWzBdPWZbMF0uc2xpY2UoMCkscy5sZW5ndGg+MiYmIklEIj09PSh1PXNbMF0pLnR5cGUmJnIuZ2V0QnlJZCYmOT09PXQubm9kZVR5cGUmJmgmJm8ucmVsYXRpdmVbc1sxXS50eXBlXSl7aWYodD0oby5maW5kLklEKHUubWF0Y2hlc1swXS5yZXBsYWNlKHJ0LGl0KSx0KXx8W10pWzBdLCF0KXJldHVybiBuO2U9ZS5zbGljZShzLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1hPVEubmVlZHNDb250ZXh0LnRlc3QoZSk/MDpzLmxlbmd0aDt3aGlsZShhLS0pe2lmKHU9c1thXSxvLnJlbGF0aXZlW2M9dS50eXBlXSlicmVhaztpZigocD1vLmZpbmRbY10pJiYoaT1wKHUubWF0Y2hlc1swXS5yZXBsYWNlKHJ0LGl0KSxWLnRlc3Qoc1swXS50eXBlKSYmdC5wYXJlbnROb2RlfHx0KSkpe2lmKHMuc3BsaWNlKGEsMSksZT1pLmxlbmd0aCYmeXQocyksIWUpcmV0dXJuIE0uYXBwbHkobixpKSxuO2JyZWFrfX19cmV0dXJuIGwoZSxmKShpLHQsIWgsbixWLnRlc3QoZSkpLG59ci5zb3J0U3RhYmxlPWIuc3BsaXQoIiIpLnNvcnQoQSkuam9pbigiIik9PT1iLHIuZGV0ZWN0RHVwbGljYXRlcz1TLHAoKSxyLnNvcnREZXRhY2hlZD11dChmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGYuY3JlYXRlRWxlbWVudCgiZGl2IikpfSksdXQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IiwiIyI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8Y3QoInR5cGV8aHJlZnxoZWlnaHR8d2lkdGgiLGZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gcj90OmUuZ2V0QXR0cmlidXRlKG4sInR5cGUiPT09bi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxyLmF0dHJpYnV0ZXMmJnV0KGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGlucHV0Lz4iLGUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGN0KCJ2YWx1ZSIsZnVuY3Rpb24oZSxuLHIpe3JldHVybiByfHwiaW5wdXQiIT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3Q6ZS5kZWZhdWx0VmFsdWV9KSx1dChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8Y3QoQixmdW5jdGlvbihlLG4scil7dmFyIGk7cmV0dXJuIHI/dDooaT1lLmdldEF0dHJpYnV0ZU5vZGUobikpJiZpLnNwZWNpZmllZD9pLnZhbHVlOmVbbl09PT0hMD9uLnRvTG93ZXJDYXNlKCk6bnVsbH0pLHguZmluZD1hdCx4LmV4cHI9YXQuc2VsZWN0b3JzLHguZXhwclsiOiJdPXguZXhwci5wc2V1ZG9zLHgudW5pcXVlPWF0LnVuaXF1ZVNvcnQseC50ZXh0PWF0LmdldFRleHQseC5pc1hNTERvYz1hdC5pc1hNTCx4LmNvbnRhaW5zPWF0LmNvbnRhaW5zfShlKTt2YXIgTz17fTtmdW5jdGlvbiBGKGUpe3ZhciB0PU9bZV09e307cmV0dXJuIHguZWFjaChlLm1hdGNoKFQpfHxbXSxmdW5jdGlvbihlLG4pe3Rbbl09ITB9KSx0fXguQ2FsbGJhY2tzPWZ1bmN0aW9uKGUpe2U9InN0cmluZyI9PXR5cGVvZiBlP09bZV18fEYoZSk6eC5leHRlbmQoe30sZSk7dmFyIG4scixpLG8sYSxzLGw9W10sdT0hZS5vbmNlJiZbXSxjPWZ1bmN0aW9uKHQpe2ZvcihyPWUubWVtb3J5JiZ0LGk9ITAsYT1zfHwwLHM9MCxvPWwubGVuZ3RoLG49ITA7bCYmbz5hO2ErKylpZihsW2FdLmFwcGx5KHRbMF0sdFsxXSk9PT0hMSYmZS5zdG9wT25GYWxzZSl7cj0hMTticmVha31uPSExLGwmJih1P3UubGVuZ3RoJiZjKHUuc2hpZnQoKSk6cj9sPVtdOnAuZGlzYWJsZSgpKX0scD17YWRkOmZ1bmN0aW9uKCl7aWYobCl7dmFyIHQ9bC5sZW5ndGg7KGZ1bmN0aW9uIGkodCl7eC5lYWNoKHQsZnVuY3Rpb24odCxuKXt2YXIgcj14LnR5cGUobik7ImZ1bmN0aW9uIj09PXI/ZS51bmlxdWUmJnAuaGFzKG4pfHxsLnB1c2gobik6biYmbi5sZW5ndGgmJiJzdHJpbmciIT09ciYmaShuKX0pfSkoYXJndW1lbnRzKSxuP289bC5sZW5ndGg6ciYmKHM9dCxjKHIpKX1yZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGwmJnguZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgcjt3aGlsZSgocj14LmluQXJyYXkodCxsLHIpKT4tMSlsLnNwbGljZShyLDEpLG4mJihvPj1yJiZvLS0sYT49ciYmYS0tKX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT94LmluQXJyYXkoZSxsKT4tMTohKCFsfHwhbC5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBsPVtdLG89MCx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGw9dT1yPXQsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hbH0sbG9jazpmdW5jdGlvbigpe3JldHVybiB1PXQscnx8cC5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIXV9LGZpcmVXaXRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIWx8fGkmJiF1fHwodD10fHxbXSx0PVtlLHQuc2xpY2U/dC5zbGljZSgpOnRdLG4/dS5wdXNoKHQpOmModCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gcC5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWl9fTtyZXR1cm4gcH0seC5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGUpe3ZhciB0PVtbInJlc29sdmUiLCJkb25lIix4LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLHguQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLHguQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLG49InBlbmRpbmciLHI9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG59LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBpLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztyZXR1cm4geC5EZWZlcnJlZChmdW5jdGlvbihuKXt4LmVhY2godCxmdW5jdGlvbih0LG8pe3ZhciBhPW9bMF0scz14LmlzRnVuY3Rpb24oZVt0XSkmJmVbdF07aVtvWzFdXShmdW5jdGlvbigpe3ZhciBlPXMmJnMuYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJnguaXNGdW5jdGlvbihlLnByb21pc2UpP2UucHJvbWlzZSgpLmRvbmUobi5yZXNvbHZlKS5mYWlsKG4ucmVqZWN0KS5wcm9ncmVzcyhuLm5vdGlmeSk6blthKyJXaXRoIl0odGhpcz09PXI/bi5wcm9taXNlKCk6dGhpcyxzP1tlXTphcmd1bWVudHMpfSl9KSxlPW51bGx9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/eC5leHRlbmQoZSxyKTpyfX0saT17fTtyZXR1cm4gci5waXBlPXIudGhlbix4LmVhY2godCxmdW5jdGlvbihlLG8pe3ZhciBhPW9bMl0scz1vWzNdO3Jbb1sxXV09YS5hZGQscyYmYS5hZGQoZnVuY3Rpb24oKXtuPXN9LHRbMV5lXVsyXS5kaXNhYmxlLHRbMl1bMl0ubG9jayksaVtvWzBdXT1mdW5jdGlvbigpe3JldHVybiBpW29bMF0rIldpdGgiXSh0aGlzPT09aT9yOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxpW29bMF0rIldpdGgiXT1hLmZpcmVXaXRofSksci5wcm9taXNlKGkpLGUmJmUuY2FsbChpLGkpLGl9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWcuY2FsbChhcmd1bWVudHMpLHI9bi5sZW5ndGgsaT0xIT09cnx8ZSYmeC5pc0Z1bmN0aW9uKGUucHJvbWlzZSk/cjowLG89MT09PWk/ZTp4LkRlZmVycmVkKCksYT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3RbZV09dGhpcyxuW2VdPWFyZ3VtZW50cy5sZW5ndGg+MT9nLmNhbGwoYXJndW1lbnRzKTpyLG49PT1zP28ubm90aWZ5V2l0aCh0LG4pOi0taXx8by5yZXNvbHZlV2l0aCh0LG4pfX0scyxsLHU7aWYocj4xKWZvcihzPUFycmF5KHIpLGw9QXJyYXkociksdT1BcnJheShyKTtyPnQ7dCsrKW5bdF0mJnguaXNGdW5jdGlvbihuW3RdLnByb21pc2UpP25bdF0ucHJvbWlzZSgpLmRvbmUoYSh0LHUsbikpLmZhaWwoby5yZWplY3QpLnByb2dyZXNzKGEodCxsLHMpKTotLWk7cmV0dXJuIGl8fG8ucmVzb2x2ZVdpdGgodSxuKSxvLnByb21pc2UoKX19KSx4LnN1cHBvcnQ9ZnVuY3Rpb24odCl7dmFyIG4scixvLHMsbCx1LGMscCxmLGQ9YS5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihkLnNldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIiwidCIpLGQuaW5uZXJIVE1MPSIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iLG49ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpfHxbXSxyPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSwhcnx8IXIuc3R5bGV8fCFuLmxlbmd0aClyZXR1cm4gdDtzPWEuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksdT1zLmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLG89ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXSxyLnN0eWxlLmNzc1RleHQ9InRvcDoxcHg7ZmxvYXQ6bGVmdDtvcGFjaXR5Oi41Iix0LmdldFNldEF0dHJpYnV0ZT0idCIhPT1kLmNsYXNzTmFtZSx0LmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1kLmZpcnN0Q2hpbGQubm9kZVR5cGUsdC50Ym9keT0hZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsdC5odG1sU2VyaWFsaXplPSEhZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCx0LnN0eWxlPS90b3AvLnRlc3Qoci5nZXRBdHRyaWJ1dGUoInN0eWxlIikpLHQuaHJlZk5vcm1hbGl6ZWQ9Ii9hIj09PXIuZ2V0QXR0cmlidXRlKCJocmVmIiksdC5vcGFjaXR5PS9eMC41Ly50ZXN0KHIuc3R5bGUub3BhY2l0eSksdC5jc3NGbG9hdD0hIXIuc3R5bGUuY3NzRmxvYXQsdC5jaGVja09uPSEhby52YWx1ZSx0Lm9wdFNlbGVjdGVkPXUuc2VsZWN0ZWQsdC5lbmN0eXBlPSEhYS5jcmVhdGVFbGVtZW50KCJmb3JtIikuZW5jdHlwZSx0Lmh0bWw1Q2xvbmU9Ijw6bmF2PjwvOm5hdj4iIT09YS5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCx0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9ITEsdC5zaHJpbmtXcmFwQmxvY2tzPSExLHQucGl4ZWxQb3NpdGlvbj0hMSx0LmRlbGV0ZUV4cGFuZG89ITAsdC5ub0Nsb25lRXZlbnQ9ITAsdC5yZWxpYWJsZU1hcmdpblJpZ2h0PSEwLHQuYm94U2l6aW5nUmVsaWFibGU9ITAsby5jaGVja2VkPSEwLHQubm9DbG9uZUNoZWNrZWQ9by5jbG9uZU5vZGUoITApLmNoZWNrZWQscy5kaXNhYmxlZD0hMCx0Lm9wdERpc2FibGVkPSF1LmRpc2FibGVkO3RyeXtkZWxldGUgZC50ZXN0fWNhdGNoKGgpe3QuZGVsZXRlRXhwYW5kbz0hMX1vPWEuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxvLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSx0LmlucHV0PSIiPT09by5nZXRBdHRyaWJ1dGUoInZhbHVlIiksby52YWx1ZT0idCIsby5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLHQucmFkaW9WYWx1ZT0idCI9PT1vLnZhbHVlLG8uc2V0QXR0cmlidXRlKCJjaGVja2VkIiwidCIpLG8uc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGw9YS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbC5hcHBlbmRDaGlsZChvKSx0LmFwcGVuZENoZWNrZWQ9by5jaGVja2VkLHQuY2hlY2tDbG9uZT1sLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxkLmF0dGFjaEV2ZW50JiYoZC5hdHRhY2hFdmVudCgib25jbGljayIsZnVuY3Rpb24oKXt0Lm5vQ2xvbmVFdmVudD0hMX0pLGQuY2xvbmVOb2RlKCEwKS5jbGljaygpKTtmb3IoZiBpbntzdWJtaXQ6ITAsY2hhbmdlOiEwLGZvY3VzaW46ITB9KWQuc2V0QXR0cmlidXRlKGM9Im9uIitmLCJ0IiksdFtmKyJCdWJibGVzIl09YyBpbiBlfHxkLmF0dHJpYnV0ZXNbY10uZXhwYW5kbz09PSExO2Quc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixkLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIsdC5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWQuc3R5bGUuYmFja2dyb3VuZENsaXA7Zm9yKGYgaW4geCh0KSlicmVhaztyZXR1cm4gdC5vd25MYXN0PSIwIiE9PWYseChmdW5jdGlvbigpe3ZhciBuLHIsbyxzPSJwYWRkaW5nOjA7bWFyZ2luOjA7Ym9yZGVyOjA7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDstd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7IixsPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXTtsJiYobj1hLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG4uc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0Oi05OTk5cHg7bWFyZ2luLXRvcDoxcHgiLGwuYXBwZW5kQ2hpbGQobikuYXBwZW5kQ2hpbGQoZCksZC5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkPjwvdGQ+PHRkPnQ8L3RkPjwvdHI+PC90YWJsZT4iLG89ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKSxvWzBdLnN0eWxlLmNzc1RleHQ9InBhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6MDtkaXNwbGF5Om5vbmUiLHA9MD09PW9bMF0ub2Zmc2V0SGVpZ2h0LG9bMF0uc3R5bGUuZGlzcGxheT0iIixvWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHQucmVsaWFibGVIaWRkZW5PZmZzZXRzPXAmJjA9PT1vWzBdLm9mZnNldEhlaWdodCxkLmlubmVySFRNTD0iIixkLnN0eWxlLmNzc1RleHQ9ImJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjFweDtib3JkZXI6MXB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6NHB4O21hcmdpbi10b3A6MSU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjElOyIseC5zd2FwKGwsbnVsbCE9bC5zdHlsZS56b29tP3t6b29tOjF9Ont9LGZ1bmN0aW9uKCl7dC5ib3hTaXppbmc9ND09PWQub2Zmc2V0V2lkdGh9KSxlLmdldENvbXB1dGVkU3R5bGUmJih0LnBpeGVsUG9zaXRpb249IjElIiE9PShlLmdldENvbXB1dGVkU3R5bGUoZCxudWxsKXx8e30pLnRvcCx0LmJveFNpemluZ1JlbGlhYmxlPSI0cHgiPT09KGUuZ2V0Q29tcHV0ZWRTdHlsZShkLG51bGwpfHx7d2lkdGg6IjRweCJ9KS53aWR0aCxyPWQuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KCJkaXYiKSksci5zdHlsZS5jc3NUZXh0PWQuc3R5bGUuY3NzVGV4dD1zLHIuc3R5bGUubWFyZ2luUmlnaHQ9ci5zdHlsZS53aWR0aD0iMCIsZC5zdHlsZS53aWR0aD0iMXB4Iix0LnJlbGlhYmxlTWFyZ2luUmlnaHQ9IXBhcnNlRmxvYXQoKGUuZ2V0Q29tcHV0ZWRTdHlsZShyLG51bGwpfHx7fSkubWFyZ2luUmlnaHQpKSx0eXBlb2YgZC5zdHlsZS56b29tIT09aSYmKGQuaW5uZXJIVE1MPSIiLGQuc3R5bGUuY3NzVGV4dD1zKyJ3aWR0aDoxcHg7cGFkZGluZzoxcHg7ZGlzcGxheTppbmxpbmU7em9vbToxIix0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9Mz09PWQub2Zmc2V0V2lkdGgsZC5zdHlsZS5kaXNwbGF5PSJibG9jayIsZC5pbm5lckhUTUw9IjxkaXY+PC9kaXY+IixkLmZpcnN0Q2hpbGQuc3R5bGUud2lkdGg9IjVweCIsdC5zaHJpbmtXcmFwQmxvY2tzPTMhPT1kLm9mZnNldFdpZHRoLHQuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmKGwuc3R5bGUuem9vbT0xKSksbC5yZW1vdmVDaGlsZChuKSxuPWQ9bz1yPW51bGwpfSksbj1zPWw9dT1yPW89bnVsbCx0Cn0oe30pO3ZhciBCPS8oPzpce1tcc1xTXSpcfXxcW1tcc1xTXSpcXSkkLyxQPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUihlLG4scixpKXtpZih4LmFjY2VwdERhdGEoZSkpe3ZhciBvLGEscz14LmV4cGFuZG8sbD1lLm5vZGVUeXBlLHU9bD94LmNhY2hlOmUsYz1sP2Vbc106ZVtzXSYmcztpZihjJiZ1W2NdJiYoaXx8dVtjXS5kYXRhKXx8ciE9PXR8fCJzdHJpbmciIT10eXBlb2YgbilyZXR1cm4gY3x8KGM9bD9lW3NdPXAucG9wKCl8fHguZ3VpZCsrOnMpLHVbY118fCh1W2NdPWw/e306e3RvSlNPTjp4Lm5vb3B9KSwoIm9iamVjdCI9PXR5cGVvZiBufHwiZnVuY3Rpb24iPT10eXBlb2YgbikmJihpP3VbY109eC5leHRlbmQodVtjXSxuKTp1W2NdLmRhdGE9eC5leHRlbmQodVtjXS5kYXRhLG4pKSxhPXVbY10saXx8KGEuZGF0YXx8KGEuZGF0YT17fSksYT1hLmRhdGEpLHIhPT10JiYoYVt4LmNhbWVsQ2FzZShuKV09ciksInN0cmluZyI9PXR5cGVvZiBuPyhvPWFbbl0sbnVsbD09byYmKG89YVt4LmNhbWVsQ2FzZShuKV0pKTpvPWEsb319ZnVuY3Rpb24gVyhlLHQsbil7aWYoeC5hY2NlcHREYXRhKGUpKXt2YXIgcixpLG89ZS5ub2RlVHlwZSxhPW8/eC5jYWNoZTplLHM9bz9lW3guZXhwYW5kb106eC5leHBhbmRvO2lmKGFbc10pe2lmKHQmJihyPW4/YVtzXTphW3NdLmRhdGEpKXt4LmlzQXJyYXkodCk/dD10LmNvbmNhdCh4Lm1hcCh0LHguY2FtZWxDYXNlKSk6dCBpbiByP3Q9W3RdOih0PXguY2FtZWxDYXNlKHQpLHQ9dCBpbiByP1t0XTp0LnNwbGl0KCIgIikpLGk9dC5sZW5ndGg7d2hpbGUoaS0tKWRlbGV0ZSByW3RbaV1dO2lmKG4/IUkocik6IXguaXNFbXB0eU9iamVjdChyKSlyZXR1cm59KG58fChkZWxldGUgYVtzXS5kYXRhLEkoYVtzXSkpKSYmKG8/eC5jbGVhbkRhdGEoW2VdLCEwKTp4LnN1cHBvcnQuZGVsZXRlRXhwYW5kb3x8YSE9YS53aW5kb3c/ZGVsZXRlIGFbc106YVtzXT1udWxsKX19fXguZXh0ZW5kKHtjYWNoZTp7fSxub0RhdGE6e2FwcGxldDohMCxlbWJlZDohMCxvYmplY3Q6ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCJ9LGhhc0RhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5ub2RlVHlwZT94LmNhY2hlW2VbeC5leHBhbmRvXV06ZVt4LmV4cGFuZG9dLCEhZSYmIUkoZSl9LGRhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBSKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBXKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gUihlLHQsbiwhMCl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIFcoZSx0LCEwKX0sYWNjZXB0RGF0YTpmdW5jdGlvbihlKXtpZihlLm5vZGVUeXBlJiYxIT09ZS5ub2RlVHlwZSYmOSE9PWUubm9kZVR5cGUpcmV0dXJuITE7dmFyIHQ9ZS5ub2RlTmFtZSYmeC5ub0RhdGFbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4hdHx8dCE9PSEwJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpPT09dH19KSx4LmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihlLG4pe3ZhciByLGksbz1udWxsLGE9MCxzPXRoaXNbMF07aWYoZT09PXQpe2lmKHRoaXMubGVuZ3RoJiYobz14LmRhdGEocyksMT09PXMubm9kZVR5cGUmJiF4Ll9kYXRhKHMsInBhcnNlZEF0dHJzIikpKXtmb3Iocj1zLmF0dHJpYnV0ZXM7ci5sZW5ndGg+YTthKyspaT1yW2FdLm5hbWUsMD09PWkuaW5kZXhPZigiZGF0YS0iKSYmKGk9eC5jYW1lbENhc2UoaS5zbGljZSg1KSksJChzLGksb1tpXSkpO3guX2RhdGEocywicGFyc2VkQXR0cnMiLCEwKX1yZXR1cm4gb31yZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7eC5kYXRhKHRoaXMsZSl9KTphcmd1bWVudHMubGVuZ3RoPjE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7eC5kYXRhKHRoaXMsZSxuKX0pOnM/JChzLGUseC5kYXRhKHMsZSkpOm51bGx9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3gucmVtb3ZlRGF0YSh0aGlzLGUpfSl9fSk7ZnVuY3Rpb24gJChlLG4scil7aWYocj09PXQmJjE9PT1lLm5vZGVUeXBlKXt2YXIgaT0iZGF0YS0iK24ucmVwbGFjZShQLCItJDEiKS50b0xvd2VyQ2FzZSgpO2lmKHI9ZS5nZXRBdHRyaWJ1dGUoaSksInN0cmluZyI9PXR5cGVvZiByKXt0cnl7cj0idHJ1ZSI9PT1yPyEwOiJmYWxzZSI9PT1yPyExOiJudWxsIj09PXI/bnVsbDorcisiIj09PXI/K3I6Qi50ZXN0KHIpP3gucGFyc2VKU09OKHIpOnJ9Y2F0Y2gobyl7fXguZGF0YShlLG4scil9ZWxzZSByPXR9cmV0dXJuIHJ9ZnVuY3Rpb24gSShlKXt2YXIgdDtmb3IodCBpbiBlKWlmKCgiZGF0YSIhPT10fHwheC5pc0VtcHR5T2JqZWN0KGVbdF0pKSYmInRvSlNPTiIhPT10KXJldHVybiExO3JldHVybiEwfXguZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLG4scil7dmFyIGk7cmV0dXJuIGU/KG49KG58fCJmeCIpKyJxdWV1ZSIsaT14Ll9kYXRhKGUsbiksciYmKCFpfHx4LmlzQXJyYXkocik/aT14Ll9kYXRhKGUsbix4Lm1ha2VBcnJheShyKSk6aS5wdXNoKHIpKSxpfHxbXSk6dH0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8ImZ4Ijt2YXIgbj14LnF1ZXVlKGUsdCkscj1uLmxlbmd0aCxpPW4uc2hpZnQoKSxvPXguX3F1ZXVlSG9va3MoZSx0KSxhPWZ1bmN0aW9uKCl7eC5kZXF1ZXVlKGUsdCl9OyJpbnByb2dyZXNzIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJigiZngiPT09dCYmbi51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIG8uc3RvcCxpLmNhbGwoZSxhLG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIHguX2RhdGEoZSxuKXx8eC5fZGF0YShlLG4se2VtcHR5OnguQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe3guX3JlbW92ZURhdGEoZSx0KyJxdWV1ZSIpLHguX3JlbW92ZURhdGEoZSxuKX0pfSl9fSkseC5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsbil7dmFyIHI9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGUmJihuPWUsZT0iZngiLHItLSkscj5hcmd1bWVudHMubGVuZ3RoP3gucXVldWUodGhpc1swXSxlKTpuPT09dD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PXgucXVldWUodGhpcyxlLG4pO3guX3F1ZXVlSG9va3ModGhpcyxlKSwiZngiPT09ZSYmImlucHJvZ3Jlc3MiIT09dFswXSYmeC5kZXF1ZXVlKHRoaXMsZSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7eC5kZXF1ZXVlKHRoaXMsZSl9KX0sZGVsYXk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT14LmZ4P3guZnguc3BlZWRzW2VdfHxlOmUsdD10fHwiZngiLHRoaXMucXVldWUodCxmdW5jdGlvbih0LG4pe3ZhciByPXNldFRpbWVvdXQodCxlKTtuLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocil9fSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucXVldWUoZXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oZSxuKXt2YXIgcixpPTEsbz14LkRlZmVycmVkKCksYT10aGlzLHM9dGhpcy5sZW5ndGgsbD1mdW5jdGlvbigpey0taXx8by5yZXNvbHZlV2l0aChhLFthXSl9OyJzdHJpbmciIT10eXBlb2YgZSYmKG49ZSxlPXQpLGU9ZXx8ImZ4Ijt3aGlsZShzLS0pcj14Ll9kYXRhKGFbc10sZSsicXVldWVIb29rcyIpLHImJnIuZW1wdHkmJihpKyssci5lbXB0eS5hZGQobCkpO3JldHVybiBsKCksby5wcm9taXNlKG4pfX0pO3ZhciB6LFgsVT0vW1x0XHJcblxmXS9nLFY9L1xyL2csWT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSxKPS9eKD86YXxhcmVhKSQvaSxHPS9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2ksUT14LnN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlLEs9eC5zdXBwb3J0LmlucHV0O3guZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHguYWNjZXNzKHRoaXMseC5hdHRyLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt4LnJlbW92ZUF0dHIodGhpcyxlKX0pfSxwcm9wOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHguYWNjZXNzKHRoaXMseC5wcm9wLGUsdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGUpe3JldHVybiBlPXgucHJvcEZpeFtlXXx8ZSx0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1tlXT10LGRlbGV0ZSB0aGlzW2VdfWNhdGNoKG4pe319KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxhPTAscz10aGlzLmxlbmd0aCxsPSJzdHJpbmciPT10eXBlb2YgZSYmZTtpZih4LmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt4KHRoaXMpLmFkZENsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGwpZm9yKHQ9KGV8fCIiKS5tYXRjaChUKXx8W107cz5hO2ErKylpZihuPXRoaXNbYV0scj0xPT09bi5ub2RlVHlwZSYmKG4uY2xhc3NOYW1lPygiICIrbi5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKFUsIiAiKToiICIpKXtvPTA7d2hpbGUoaT10W28rK10pMD5yLmluZGV4T2YoIiAiK2krIiAiKSYmKHIrPWkrIiAiKTtuLmNsYXNzTmFtZT14LnRyaW0ocil9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8sYT0wLHM9dGhpcy5sZW5ndGgsbD0wPT09YXJndW1lbnRzLmxlbmd0aHx8InN0cmluZyI9PXR5cGVvZiBlJiZlO2lmKHguaXNGdW5jdGlvbihlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3godGhpcykucmVtb3ZlQ2xhc3MoZS5jYWxsKHRoaXMsdCx0aGlzLmNsYXNzTmFtZSkpfSk7aWYobClmb3IodD0oZXx8IiIpLm1hdGNoKFQpfHxbXTtzPmE7YSsrKWlmKG49dGhpc1thXSxyPTE9PT1uLm5vZGVUeXBlJiYobi5jbGFzc05hbWU/KCIgIituLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoVSwiICIpOiIiKSl7bz0wO3doaWxlKGk9dFtvKytdKXdoaWxlKHIuaW5kZXhPZigiICIraSsiICIpPj0wKXI9ci5yZXBsYWNlKCIgIitpKyIgIiwiICIpO24uY2xhc3NOYW1lPWU/eC50cmltKHIpOiIifXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihlLHQpe3ZhciBuPXR5cGVvZiBlO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJiJzdHJpbmciPT09bj90P3RoaXMuYWRkQ2xhc3MoZSk6dGhpcy5yZW1vdmVDbGFzcyhlKTp4LmlzRnVuY3Rpb24oZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3godGhpcykudG9nZ2xlQ2xhc3MoZS5jYWxsKHRoaXMsbix0aGlzLmNsYXNzTmFtZSx0KSx0KX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe2lmKCJzdHJpbmciPT09bil7dmFyIHQscj0wLG89eCh0aGlzKSxhPWUubWF0Y2goVCl8fFtdO3doaWxlKHQ9YVtyKytdKW8uaGFzQ2xhc3ModCk/by5yZW1vdmVDbGFzcyh0KTpvLmFkZENsYXNzKHQpfWVsc2Uobj09PWl8fCJib29sZWFuIj09PW4pJiYodGhpcy5jbGFzc05hbWUmJnguX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsdGhpcy5jbGFzc05hbWUpLHRoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lfHxlPT09ITE/IiI6eC5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKX0pfSxoYXNDbGFzczpmdW5jdGlvbihlKXt2YXIgdD0iICIrZSsiICIsbj0wLHI9dGhpcy5sZW5ndGg7Zm9yKDtyPm47bisrKWlmKDE9PT10aGlzW25dLm5vZGVUeXBlJiYoIiAiK3RoaXNbbl0uY2xhc3NOYW1lKyIgIikucmVwbGFjZShVLCIgIikuaW5kZXhPZih0KT49MClyZXR1cm4hMDtyZXR1cm4hMX0sdmFsOmZ1bmN0aW9uKGUpe3ZhciBuLHIsaSxvPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGk9eC5pc0Z1bmN0aW9uKGUpLHRoaXMuZWFjaChmdW5jdGlvbihuKXt2YXIgbzsxPT09dGhpcy5ub2RlVHlwZSYmKG89aT9lLmNhbGwodGhpcyxuLHgodGhpcykudmFsKCkpOmUsbnVsbD09bz9vPSIiOiJudW1iZXIiPT10eXBlb2Ygbz9vKz0iIjp4LmlzQXJyYXkobykmJihvPXgubWFwKG8sZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/IiI6ZSsiIn0pKSxyPXgudmFsSG9va3NbdGhpcy50eXBlXXx8eC52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLHImJiJzZXQiaW4gciYmci5zZXQodGhpcyxvLCJ2YWx1ZSIpIT09dHx8KHRoaXMudmFsdWU9bykpfSk7aWYobylyZXR1cm4gcj14LnZhbEhvb2tzW28udHlwZV18fHgudmFsSG9va3Nbby5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxyJiYiZ2V0ImluIHImJihuPXIuZ2V0KG8sInZhbHVlIikpIT09dD9uOihuPW8udmFsdWUsInN0cmluZyI9PXR5cGVvZiBuP24ucmVwbGFjZShWLCIiKTpudWxsPT1uPyIiOm4pfX19KSx4LmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXguZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDplLnRleHR9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9ZS5vcHRpb25zLGk9ZS5zZWxlY3RlZEluZGV4LG89InNlbGVjdC1vbmUiPT09ZS50eXBlfHwwPmksYT1vP251bGw6W10scz1vP2krMTpyLmxlbmd0aCxsPTA+aT9zOm8/aTowO2Zvcig7cz5sO2wrKylpZihuPXJbbF0sISghbi5zZWxlY3RlZCYmbCE9PWl8fCh4LnN1cHBvcnQub3B0RGlzYWJsZWQ/bi5kaXNhYmxlZDpudWxsIT09bi5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpfHxuLnBhcmVudE5vZGUuZGlzYWJsZWQmJngubm9kZU5hbWUobi5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYodD14KG4pLnZhbCgpLG8pcmV0dXJuIHQ7YS5wdXNoKHQpfXJldHVybiBhfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9ZS5vcHRpb25zLG89eC5tYWtlQXJyYXkodCksYT1pLmxlbmd0aDt3aGlsZShhLS0pcj1pW2FdLChyLnNlbGVjdGVkPXguaW5BcnJheSh4KHIpLnZhbCgpLG8pPj0wKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxvfX19LGF0dHI6ZnVuY3Rpb24oZSxuLHIpe3ZhciBvLGEscz1lLm5vZGVUeXBlO2lmKGUmJjMhPT1zJiY4IT09cyYmMiE9PXMpcmV0dXJuIHR5cGVvZiBlLmdldEF0dHJpYnV0ZT09PWk/eC5wcm9wKGUsbixyKTooMT09PXMmJnguaXNYTUxEb2MoZSl8fChuPW4udG9Mb3dlckNhc2UoKSxvPXguYXR0ckhvb2tzW25dfHwoeC5leHByLm1hdGNoLmJvb2wudGVzdChuKT9YOnopKSxyPT09dD9vJiYiZ2V0ImluIG8mJm51bGwhPT0oYT1vLmdldChlLG4pKT9hOihhPXguZmluZC5hdHRyKGUsbiksbnVsbD09YT90OmEpOm51bGwhPT1yP28mJiJzZXQiaW4gbyYmKGE9by5zZXQoZSxyLG4pKSE9PXQ/YTooZS5zZXRBdHRyaWJ1dGUobixyKyIiKSxyKTooeC5yZW1vdmVBdHRyKGUsbiksdCkpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPTAsbz10JiZ0Lm1hdGNoKFQpO2lmKG8mJjE9PT1lLm5vZGVUeXBlKXdoaWxlKG49b1tpKytdKXI9eC5wcm9wRml4W25dfHxuLHguZXhwci5tYXRjaC5ib29sLnRlc3Qobik/SyYmUXx8IUcudGVzdChuKT9lW3JdPSExOmVbeC5jYW1lbENhc2UoImRlZmF1bHQtIituKV09ZVtyXT0hMTp4LmF0dHIoZSxuLCIiKSxlLnJlbW92ZUF0dHJpYnV0ZShRP246cil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoIXguc3VwcG9ydC5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmeC5ub2RlTmFtZShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9LHByb3A6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG8sYSxzPWUubm9kZVR5cGU7aWYoZSYmMyE9PXMmJjghPT1zJiYyIT09cylyZXR1cm4gYT0xIT09c3x8IXguaXNYTUxEb2MoZSksYSYmKG49eC5wcm9wRml4W25dfHxuLG89eC5wcm9wSG9va3Nbbl0pLHIhPT10P28mJiJzZXQiaW4gbyYmKGk9by5zZXQoZSxyLG4pKSE9PXQ/aTplW25dPXI6byYmImdldCJpbiBvJiZudWxsIT09KGk9by5nZXQoZSxuKSk/aTplW25dfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9eC5maW5kLmF0dHIoZSwidGFiaW5kZXgiKTtyZXR1cm4gdD9wYXJzZUludCh0LDEwKTpZLnRlc3QoZS5ub2RlTmFtZSl8fEoudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX19KSxYPXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PT09ITE/eC5yZW1vdmVBdHRyKGUsbik6SyYmUXx8IUcudGVzdChuKT9lLnNldEF0dHJpYnV0ZSghUSYmeC5wcm9wRml4W25dfHxuLG4pOmVbeC5jYW1lbENhc2UoImRlZmF1bHQtIituKV09ZVtuXT0hMCxufX0seC5lYWNoKHguZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGUsbil7dmFyIHI9eC5leHByLmF0dHJIYW5kbGVbbl18fHguZmluZC5hdHRyO3guZXhwci5hdHRySGFuZGxlW25dPUsmJlF8fCFHLnRlc3Qobik/ZnVuY3Rpb24oZSxuLGkpe3ZhciBvPXguZXhwci5hdHRySGFuZGxlW25dLGE9aT90Oih4LmV4cHIuYXR0ckhhbmRsZVtuXT10KSE9cihlLG4saSk/bi50b0xvd2VyQ2FzZSgpOm51bGw7cmV0dXJuIHguZXhwci5hdHRySGFuZGxlW25dPW8sYX06ZnVuY3Rpb24oZSxuLHIpe3JldHVybiByP3Q6ZVt4LmNhbWVsQ2FzZSgiZGVmYXVsdC0iK24pXT9uLnRvTG93ZXJDYXNlKCk6bnVsbH19KSxLJiZRfHwoeC5hdHRySG9va3MudmFsdWU9e3NldDpmdW5jdGlvbihlLG4scil7cmV0dXJuIHgubm9kZU5hbWUoZSwiaW5wdXQiKT8oZS5kZWZhdWx0VmFsdWU9bix0KTp6JiZ6LnNldChlLG4scil9fSksUXx8KHo9e3NldDpmdW5jdGlvbihlLG4scil7dmFyIGk9ZS5nZXRBdHRyaWJ1dGVOb2RlKHIpO3JldHVybiBpfHxlLnNldEF0dHJpYnV0ZU5vZGUoaT1lLm93bmVyRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKHIpKSxpLnZhbHVlPW4rPSIiLCJ2YWx1ZSI9PT1yfHxuPT09ZS5nZXRBdHRyaWJ1dGUocik/bjp0fX0seC5leHByLmF0dHJIYW5kbGUuaWQ9eC5leHByLmF0dHJIYW5kbGUubmFtZT14LmV4cHIuYXR0ckhhbmRsZS5jb29yZHM9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpO3JldHVybiByP3Q6KGk9ZS5nZXRBdHRyaWJ1dGVOb2RlKG4pKSYmIiIhPT1pLnZhbHVlP2kudmFsdWU6bnVsbH0seC52YWxIb29rcy5idXR0b249e2dldDpmdW5jdGlvbihlLG4pe3ZhciByPWUuZ2V0QXR0cmlidXRlTm9kZShuKTtyZXR1cm4gciYmci5zcGVjaWZpZWQ/ci52YWx1ZTp0fSxzZXQ6ei5zZXR9LHguYXR0ckhvb2tzLmNvbnRlbnRlZGl0YWJsZT17c2V0OmZ1bmN0aW9uKGUsdCxuKXt6LnNldChlLCIiPT09dD8hMTp0LG4pfX0seC5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihlLG4pe3guYXR0ckhvb2tzW25dPXtzZXQ6ZnVuY3Rpb24oZSxyKXtyZXR1cm4iIj09PXI/KGUuc2V0QXR0cmlidXRlKG4sImF1dG8iKSxyKTp0fX19KSkseC5zdXBwb3J0LmhyZWZOb3JtYWxpemVkfHx4LmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oZSx0KXt4LnByb3BIb29rc1t0XT17Z2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSh0LDQpfX19KSx4LnN1cHBvcnQuc3R5bGV8fCh4LmF0dHJIb29rcy5zdHlsZT17Z2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnN0eWxlLmNzc1RleHR8fHR9LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiBlLnN0eWxlLmNzc1RleHQ9dCsiIn19KSx4LnN1cHBvcnQub3B0U2VsZWN0ZWR8fCh4LnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KSxudWxsfX0pLHguZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7eC5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pLHguc3VwcG9ydC5lbmN0eXBlfHwoeC5wcm9wRml4LmVuY3R5cGU9ImVuY29kaW5nIikseC5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7eC52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGUsbil7cmV0dXJuIHguaXNBcnJheShuKT9lLmNoZWNrZWQ9eC5pbkFycmF5KHgoZSkudmFsKCksbik+PTA6dH19LHguc3VwcG9ydC5jaGVja09ufHwoeC52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmUudmFsdWV9KX0pO3ZhciBaPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhKSQvaSxldD0vXmtleS8sdHQ9L14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svLG50PS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxydD0vXihbXi5dKikoPzpcLiguKyl8KSQvO2Z1bmN0aW9uIGl0KCl7cmV0dXJuITB9ZnVuY3Rpb24gb3QoKXtyZXR1cm4hMX1mdW5jdGlvbiBhdCgpe3RyeXtyZXR1cm4gYS5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe319eC5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihlLG4scixvLGEpe3ZhciBzLGwsdSxjLHAsZixkLGgsZyxtLHksdj14Ll9kYXRhKGUpO2lmKHYpe3IuaGFuZGxlciYmKGM9cixyPWMuaGFuZGxlcixhPWMuc2VsZWN0b3IpLHIuZ3VpZHx8KHIuZ3VpZD14Lmd1aWQrKyksKGw9di5ldmVudHMpfHwobD12LmV2ZW50cz17fSksKGY9di5oYW5kbGUpfHwoZj12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIHg9PT1pfHxlJiZ4LmV2ZW50LnRyaWdnZXJlZD09PWUudHlwZT90OnguZXZlbnQuZGlzcGF0Y2guYXBwbHkoZi5lbGVtLGFyZ3VtZW50cyl9LGYuZWxlbT1lKSxuPShufHwiIikubWF0Y2goVCl8fFsiIl0sdT1uLmxlbmd0aDt3aGlsZSh1LS0pcz1ydC5leGVjKG5bdV0pfHxbXSxnPXk9c1sxXSxtPShzWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksZyYmKHA9eC5ldmVudC5zcGVjaWFsW2ddfHx7fSxnPShhP3AuZGVsZWdhdGVUeXBlOnAuYmluZFR5cGUpfHxnLHA9eC5ldmVudC5zcGVjaWFsW2ddfHx7fSxkPXguZXh0ZW5kKHt0eXBlOmcsb3JpZ1R5cGU6eSxkYXRhOm8saGFuZGxlcjpyLGd1aWQ6ci5ndWlkLHNlbGVjdG9yOmEsbmVlZHNDb250ZXh0OmEmJnguZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChhKSxuYW1lc3BhY2U6bS5qb2luKCIuIil9LGMpLChoPWxbZ10pfHwoaD1sW2ddPVtdLGguZGVsZWdhdGVDb3VudD0wLHAuc2V0dXAmJnAuc2V0dXAuY2FsbChlLG8sbSxmKSE9PSExfHwoZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcihnLGYsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9uIitnLGYpKSkscC5hZGQmJihwLmFkZC5jYWxsKGUsZCksZC5oYW5kbGVyLmd1aWR8fChkLmhhbmRsZXIuZ3VpZD1yLmd1aWQpKSxhP2guc3BsaWNlKGguZGVsZWdhdGVDb3VudCsrLDAsZCk6aC5wdXNoKGQpLHguZXZlbnQuZ2xvYmFsW2ddPSEwKTtlPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsbCx1LGMscCxmLGQsaCxnLG09eC5oYXNEYXRhKGUpJiZ4Ll9kYXRhKGUpO2lmKG0mJihjPW0uZXZlbnRzKSl7dD0odHx8IiIpLm1hdGNoKFQpfHxbIiJdLHU9dC5sZW5ndGg7d2hpbGUodS0tKWlmKHM9cnQuZXhlYyh0W3VdKXx8W10sZD1nPXNbMV0saD0oc1syXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLGQpe3A9eC5ldmVudC5zcGVjaWFsW2RdfHx7fSxkPShyP3AuZGVsZWdhdGVUeXBlOnAuYmluZFR5cGUpfHxkLGY9Y1tkXXx8W10scz1zWzJdJiZSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksbD1vPWYubGVuZ3RoO3doaWxlKG8tLSlhPWZbb10sIWkmJmchPT1hLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1hLmd1aWR8fHMmJiFzLnRlc3QoYS5uYW1lc3BhY2UpfHxyJiZyIT09YS5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYS5zZWxlY3Rvcil8fChmLnNwbGljZShvLDEpLGEuc2VsZWN0b3ImJmYuZGVsZWdhdGVDb3VudC0tLHAucmVtb3ZlJiZwLnJlbW92ZS5jYWxsKGUsYSkpO2wmJiFmLmxlbmd0aCYmKHAudGVhcmRvd24mJnAudGVhcmRvd24uY2FsbChlLGgsbS5oYW5kbGUpIT09ITF8fHgucmVtb3ZlRXZlbnQoZSxkLG0uaGFuZGxlKSxkZWxldGUgY1tkXSl9ZWxzZSBmb3IoZCBpbiBjKXguZXZlbnQucmVtb3ZlKGUsZCt0W3VdLG4sciwhMCk7eC5pc0VtcHR5T2JqZWN0KGMpJiYoZGVsZXRlIG0uaGFuZGxlLHguX3JlbW92ZURhdGEoZSwiZXZlbnRzIikpfX0sdHJpZ2dlcjpmdW5jdGlvbihuLHIsaSxvKXt2YXIgcyxsLHUsYyxwLGYsZCxoPVtpfHxhXSxnPXYuY2FsbChuLCJ0eXBlIik/bi50eXBlOm4sbT12LmNhbGwobiwibmFtZXNwYWNlIik/bi5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZih1PWY9aT1pfHxhLDMhPT1pLm5vZGVUeXBlJiY4IT09aS5ub2RlVHlwZSYmIW50LnRlc3QoZyt4LmV2ZW50LnRyaWdnZXJlZCkmJihnLmluZGV4T2YoIi4iKT49MCYmKG09Zy5zcGxpdCgiLiIpLGc9bS5zaGlmdCgpLG0uc29ydCgpKSxsPTA+Zy5pbmRleE9mKCI6IikmJiJvbiIrZyxuPW5beC5leHBhbmRvXT9uOm5ldyB4LkV2ZW50KGcsIm9iamVjdCI9PXR5cGVvZiBuJiZuKSxuLmlzVHJpZ2dlcj1vPzI6MyxuLm5hbWVzcGFjZT1tLmpvaW4oIi4iKSxuLm5hbWVzcGFjZV9yZT1uLm5hbWVzcGFjZT9SZWdFeHAoIihefFxcLikiK20uam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxuLnJlc3VsdD10LG4udGFyZ2V0fHwobi50YXJnZXQ9aSkscj1udWxsPT1yP1tuXTp4Lm1ha2VBcnJheShyLFtuXSkscD14LmV2ZW50LnNwZWNpYWxbZ118fHt9LG98fCFwLnRyaWdnZXJ8fHAudHJpZ2dlci5hcHBseShpLHIpIT09ITEpKXtpZighbyYmIXAubm9CdWJibGUmJiF4LmlzV2luZG93KGkpKXtmb3IoYz1wLmRlbGVnYXRlVHlwZXx8ZyxudC50ZXN0KGMrZyl8fCh1PXUucGFyZW50Tm9kZSk7dTt1PXUucGFyZW50Tm9kZSloLnB1c2godSksZj11O2Y9PT0oaS5vd25lckRvY3VtZW50fHxhKSYmaC5wdXNoKGYuZGVmYXVsdFZpZXd8fGYucGFyZW50V2luZG93fHxlKX1kPTA7d2hpbGUoKHU9aFtkKytdKSYmIW4uaXNQcm9wYWdhdGlvblN0b3BwZWQoKSluLnR5cGU9ZD4xP2M6cC5iaW5kVHlwZXx8ZyxzPSh4Ll9kYXRhKHUsImV2ZW50cyIpfHx7fSlbbi50eXBlXSYmeC5fZGF0YSh1LCJoYW5kbGUiKSxzJiZzLmFwcGx5KHUscikscz1sJiZ1W2xdLHMmJnguYWNjZXB0RGF0YSh1KSYmcy5hcHBseSYmcy5hcHBseSh1LHIpPT09ITEmJm4ucHJldmVudERlZmF1bHQoKTtpZihuLnR5cGU9ZywhbyYmIW4uaXNEZWZhdWx0UHJldmVudGVkKCkmJighcC5fZGVmYXVsdHx8cC5fZGVmYXVsdC5hcHBseShoLnBvcCgpLHIpPT09ITEpJiZ4LmFjY2VwdERhdGEoaSkmJmwmJmlbZ10mJiF4LmlzV2luZG93KGkpKXtmPWlbbF0sZiYmKGlbbF09bnVsbCkseC5ldmVudC50cmlnZ2VyZWQ9Zzt0cnl7aVtnXSgpfWNhdGNoKHkpe314LmV2ZW50LnRyaWdnZXJlZD10LGYmJihpW2xdPWYpfXJldHVybiBuLnJlc3VsdH19LGRpc3BhdGNoOmZ1bmN0aW9uKGUpe2U9eC5ldmVudC5maXgoZSk7dmFyIG4scixpLG8sYSxzPVtdLGw9Zy5jYWxsKGFyZ3VtZW50cyksdT0oeC5fZGF0YSh0aGlzLCJldmVudHMiKXx8e30pW2UudHlwZV18fFtdLGM9eC5ldmVudC5zcGVjaWFsW2UudHlwZV18fHt9O2lmKGxbMF09ZSxlLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fGMucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGUpIT09ITEpe3M9eC5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsZSx1KSxuPTA7d2hpbGUoKG89c1tuKytdKSYmIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7ZS5jdXJyZW50VGFyZ2V0PW8uZWxlbSxhPTA7d2hpbGUoKGk9by5oYW5kbGVyc1thKytdKSYmIWUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkoIWUubmFtZXNwYWNlX3JlfHxlLm5hbWVzcGFjZV9yZS50ZXN0KGkubmFtZXNwYWNlKSkmJihlLmhhbmRsZU9iaj1pLGUuZGF0YT1pLmRhdGEscj0oKHguZXZlbnQuc3BlY2lhbFtpLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8aS5oYW5kbGVyKS5hcHBseShvLmVsZW0sbCksciE9PXQmJihlLnJlc3VsdD1yKT09PSExJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gYy5wb3N0RGlzcGF0Y2gmJmMucG9zdERpc3BhdGNoLmNhbGwodGhpcyxlKSxlLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsbil7dmFyIHIsaSxvLGEscz1bXSxsPW4uZGVsZWdhdGVDb3VudCx1PWUudGFyZ2V0O2lmKGwmJnUubm9kZVR5cGUmJighZS5idXR0b258fCJjbGljayIhPT1lLnR5cGUpKWZvcig7dSE9dGhpczt1PXUucGFyZW50Tm9kZXx8dGhpcylpZigxPT09dS5ub2RlVHlwZSYmKHUuZGlzYWJsZWQhPT0hMHx8ImNsaWNrIiE9PWUudHlwZSkpe2ZvcihvPVtdLGE9MDtsPmE7YSsrKWk9blthXSxyPWkuc2VsZWN0b3IrIiAiLG9bcl09PT10JiYob1tyXT1pLm5lZWRzQ29udGV4dD94KHIsdGhpcykuaW5kZXgodSk+PTA6eC5maW5kKHIsdGhpcyxudWxsLFt1XSkubGVuZ3RoKSxvW3JdJiZvLnB1c2goaSk7by5sZW5ndGgmJnMucHVzaCh7ZWxlbTp1LGhhbmRsZXJzOm99KX1yZXR1cm4gbi5sZW5ndGg+bCYmcy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6bi5zbGljZShsKX0pLHN9LGZpeDpmdW5jdGlvbihlKXtpZihlW3guZXhwYW5kb10pcmV0dXJuIGU7dmFyIHQsbixyLGk9ZS50eXBlLG89ZSxzPXRoaXMuZml4SG9va3NbaV07c3x8KHRoaXMuZml4SG9va3NbaV09cz10dC50ZXN0KGkpP3RoaXMubW91c2VIb29rczpldC50ZXN0KGkpP3RoaXMua2V5SG9va3M6e30pLHI9cy5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChzLnByb3BzKTp0aGlzLnByb3BzLGU9bmV3IHguRXZlbnQobyksdD1yLmxlbmd0aDt3aGlsZSh0LS0pbj1yW3RdLGVbbl09b1tuXTtyZXR1cm4gZS50YXJnZXR8fChlLnRhcmdldD1vLnNyY0VsZW1lbnR8fGEpLDM9PT1lLnRhcmdldC5ub2RlVHlwZSYmKGUudGFyZ2V0PWUudGFyZ2V0LnBhcmVudE5vZGUpLGUubWV0YUtleT0hIWUubWV0YUtleSxzLmZpbHRlcj9zLmZpbHRlcihlLG8pOmV9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT1lLndoaWNoJiYoZS53aGljaD1udWxsIT10LmNoYXJDb2RlP3QuY2hhckNvZGU6dC5rZXlDb2RlKSxlfX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBmcm9tRWxlbWVudCBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oZSxuKXt2YXIgcixpLG8scz1uLmJ1dHRvbixsPW4uZnJvbUVsZW1lbnQ7cmV0dXJuIG51bGw9PWUucGFnZVgmJm51bGwhPW4uY2xpZW50WCYmKGk9ZS50YXJnZXQub3duZXJEb2N1bWVudHx8YSxvPWkuZG9jdW1lbnRFbGVtZW50LHI9aS5ib2R5LGUucGFnZVg9bi5jbGllbnRYKyhvJiZvLnNjcm9sbExlZnR8fHImJnIuc2Nyb2xsTGVmdHx8MCktKG8mJm8uY2xpZW50TGVmdHx8ciYmci5jbGllbnRMZWZ0fHwwKSxlLnBhZ2VZPW4uY2xpZW50WSsobyYmby5zY3JvbGxUb3B8fHImJnIuc2Nyb2xsVG9wfHwwKS0obyYmby5jbGllbnRUb3B8fHImJnIuY2xpZW50VG9wfHwwKSksIWUucmVsYXRlZFRhcmdldCYmbCYmKGUucmVsYXRlZFRhcmdldD1sPT09ZS50YXJnZXQ/bi50b0VsZW1lbnQ6bCksZS53aGljaHx8cz09PXR8fChlLndoaWNoPTEmcz8xOjImcz8zOjQmcz8yOjApLGV9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09YXQoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChlKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1hdCgpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp0fSxkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4geC5ub2RlTmFtZSh0aGlzLCJpbnB1dCIpJiYiY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrPyh0aGlzLmNsaWNrKCksITEpOnR9LF9kZWZhdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB4Lm5vZGVOYW1lKGUudGFyZ2V0LCJhIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihlKXtlLnJlc3VsdCE9PXQmJihlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXguZXh0ZW5kKG5ldyB4LkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7cj94LmV2ZW50LnRyaWdnZXIoaSxudWxsLHQpOnguZXZlbnQuZGlzcGF0Y2guY2FsbCh0LGkpLGkuaXNEZWZhdWx0UHJldmVudGVkKCkmJm4ucHJldmVudERlZmF1bHQoKX19LHgucmVtb3ZlRXZlbnQ9YS5yZW1vdmVFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sITEpfTpmdW5jdGlvbihlLHQsbil7dmFyIHI9Im9uIit0O2UuZGV0YWNoRXZlbnQmJih0eXBlb2YgZVtyXT09PWkmJihlW3JdPW51bGwpLGUuZGV0YWNoRXZlbnQocixuKSl9LHguRXZlbnQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHguRXZlbnQ/KGUmJmUudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWUsdGhpcy50eXBlPWUudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1lLmRlZmF1bHRQcmV2ZW50ZWR8fGUucmV0dXJuVmFsdWU9PT0hMXx8ZS5nZXRQcmV2ZW50RGVmYXVsdCYmZS5nZXRQcmV2ZW50RGVmYXVsdCgpP2l0Om90KTp0aGlzLnR5cGU9ZSxuJiZ4LmV4dGVuZCh0aGlzLG4pLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHx4Lm5vdygpLHRoaXNbeC5leHBhbmRvXT0hMCx0KTpuZXcgeC5FdmVudChlLG4pfSx4LkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOm90LGlzUHJvcGFnYXRpb25TdG9wcGVkOm90LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOm90LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWl0LGUmJihlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPSExKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9aXQsZSYmKGUuc3RvcFByb3BhZ2F0aW9uJiZlLnN0b3BQcm9wYWdhdGlvbigpLGUuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1pdCx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0seC5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In0sZnVuY3Rpb24oZSx0KXt4LmV2ZW50LnNwZWNpYWxbZV09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcyxpPWUucmVsYXRlZFRhcmdldCxvPWUuaGFuZGxlT2JqO3JldHVybighaXx8aSE9PXImJiF4LmNvbnRhaW5zKHIsaSkpJiYoZS50eXBlPW8ub3JpZ1R5cGUsbj1vLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT10KSxufX19KSx4LnN1cHBvcnQuc3VibWl0QnViYmxlc3x8KHguZXZlbnQuc3BlY2lhbC5zdWJtaXQ9e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIHgubm9kZU5hbWUodGhpcywiZm9ybSIpPyExOih4LmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0LHI9eC5ub2RlTmFtZShuLCJpbnB1dCIpfHx4Lm5vZGVOYW1lKG4sImJ1dHRvbiIpP24uZm9ybTp0O3ImJiF4Ll9kYXRhKHIsInN1Ym1pdEJ1YmJsZXMiKSYmKHguZXZlbnQuYWRkKHIsInN1Ym1pdC5fc3VibWl0IixmdW5jdGlvbihlKXtlLl9zdWJtaXRfYnViYmxlPSEwfSkseC5fZGF0YShyLCJzdWJtaXRCdWJibGVzIiwhMCkpfSksdCl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihlKXtlLl9zdWJtaXRfYnViYmxlJiYoZGVsZXRlIGUuX3N1Ym1pdF9idWJibGUsdGhpcy5wYXJlbnROb2RlJiYhZS5pc1RyaWdnZXImJnguZXZlbnQuc2ltdWxhdGUoInN1Ym1pdCIsdGhpcy5wYXJlbnROb2RlLGUsITApKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4geC5ub2RlTmFtZSh0aGlzLCJmb3JtIik/ITE6KHguZXZlbnQucmVtb3ZlKHRoaXMsIi5fc3VibWl0IiksdCl9fSkseC5zdXBwb3J0LmNoYW5nZUJ1YmJsZXN8fCh4LmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBaLnRlc3QodGhpcy5ub2RlTmFtZSk/KCgiY2hlY2tib3giPT09dGhpcy50eXBlfHwicmFkaW8iPT09dGhpcy50eXBlKSYmKHguZXZlbnQuYWRkKHRoaXMsInByb3BlcnR5Y2hhbmdlLl9jaGFuZ2UiLGZ1bmN0aW9uKGUpeyJjaGVja2VkIj09PWUub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWUmJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITApfSkseC5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oZSl7dGhpcy5fanVzdF9jaGFuZ2VkJiYhZS5pc1RyaWdnZXImJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITEpLHguZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcyxlLCEwKX0pKSwhMSk6KHguZXZlbnQuYWRkKHRoaXMsImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0O1oudGVzdCh0Lm5vZGVOYW1lKSYmIXguX2RhdGEodCwiY2hhbmdlQnViYmxlcyIpJiYoeC5ldmVudC5hZGQodCwiY2hhbmdlLl9jaGFuZ2UiLGZ1bmN0aW9uKGUpeyF0aGlzLnBhcmVudE5vZGV8fGUuaXNTaW11bGF0ZWR8fGUuaXNUcmlnZ2VyfHx4LmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMucGFyZW50Tm9kZSxlLCEwKX0pLHguX2RhdGEodCwiY2hhbmdlQnViYmxlcyIsITApKX0pLHQpfSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQ7cmV0dXJuIHRoaXMhPT1ufHxlLmlzU2ltdWxhdGVkfHxlLmlzVHJpZ2dlcnx8InJhZGlvIiE9PW4udHlwZSYmImNoZWNrYm94IiE9PW4udHlwZT9lLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0fSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiB4LmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpLCFaLnRlc3QodGhpcy5ub2RlTmFtZSl9fSkseC5zdXBwb3J0LmZvY3VzaW5CdWJibGVzfHx4LmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPWZ1bmN0aW9uKGUpe3guZXZlbnQuc2ltdWxhdGUodCxlLnRhcmdldCx4LmV2ZW50LmZpeChlKSwhMCl9O3guZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXswPT09bisrJiZhLmFkZEV2ZW50TGlzdGVuZXIoZSxyLCEwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXswPT09LS1uJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxyLCEwKX19fSkseC5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGUsbixyLGksbyl7dmFyIGEscztpZigib2JqZWN0Ij09dHlwZW9mIGUpeyJzdHJpbmciIT10eXBlb2YgbiYmKHI9cnx8bixuPXQpO2ZvcihhIGluIGUpdGhpcy5vbihhLG4scixlW2FdLG8pO3JldHVybiB0aGlzfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dCk6bnVsbD09aSYmKCJzdHJpbmciPT10eXBlb2Ygbj8oaT1yLHI9dCk6KGk9cixyPW4sbj10KSksaT09PSExKWk9b3Q7ZWxzZSBpZighaSlyZXR1cm4gdGhpcztyZXR1cm4gMT09PW8mJihzPWksaT1mdW5jdGlvbihlKXtyZXR1cm4geCgpLm9mZihlKSxzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saS5ndWlkPXMuZ3VpZHx8KHMuZ3VpZD14Lmd1aWQrKykpLHRoaXMuZWFjaChmdW5jdGlvbigpe3guZXZlbnQuYWRkKHRoaXMsZSxpLHIsbil9KX0sb25lOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKGUsdCxuLHIsMSl9LG9mZjpmdW5jdGlvbihlLG4scil7dmFyIGksbztpZihlJiZlLnByZXZlbnREZWZhdWx0JiZlLmhhbmRsZU9iailyZXR1cm4gaT1lLmhhbmRsZU9iaix4KGUuZGVsZWdhdGVUYXJnZXQpLm9mZihpLm5hbWVzcGFjZT9pLm9yaWdUeXBlKyIuIitpLm5hbWVzcGFjZTppLm9yaWdUeXBlLGkuc2VsZWN0b3IsaS5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgZSl7Zm9yKG8gaW4gZSl0aGlzLm9mZihvLG4sZVtvXSk7cmV0dXJuIHRoaXN9cmV0dXJuKG49PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIG4pJiYocj1uLG49dCkscj09PSExJiYocj1vdCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7eC5ldmVudC5yZW1vdmUodGhpcyxlLHIsbil9KX0sdHJpZ2dlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt4LmV2ZW50LnRyaWdnZXIoZSx0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpc1swXTtyZXR1cm4gcj94LmV2ZW50LnRyaWdnZXIoZSxuLHIsITApOnR9fSk7dmFyIHN0PS9eLlteOiNcW1wuLF0qJC8sbHQ9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sdXQ9eC5leHByLm1hdGNoLm5lZWRzQ29udGV4dCxjdD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTt4LmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuPVtdLHI9dGhpcyxpPXIubGVuZ3RoO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soeChlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO2k+dDt0KyspaWYoeC5jb250YWlucyhyW3RdLHRoaXMpKXJldHVybiEwfSkpO2Zvcih0PTA7aT50O3QrKyl4LmZpbmQoZSxyW3RdLG4pO3JldHVybiBuPXRoaXMucHVzaFN0YWNrKGk+MT94LnVuaXF1ZShuKTpuKSxuLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrZTplLG59LGhhczpmdW5jdGlvbihlKXt2YXIgdCxuPXgoZSx0aGlzKSxyPW4ubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7cj50O3QrKylpZih4LmNvbnRhaW5zKHRoaXMsblt0XSkpcmV0dXJuITB9KX0sbm90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhmdCh0aGlzLGV8fFtdLCEwKSl9LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZnQodGhpcyxlfHxbXSwhMSkpfSxpczpmdW5jdGlvbihlKXtyZXR1cm4hIWZ0KHRoaXMsInN0cmluZyI9PXR5cGVvZiBlJiZ1dC50ZXN0KGUpP3goZSk6ZXx8W10sITEpLmxlbmd0aH0sY2xvc2VzdDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXRoaXMubGVuZ3RoLG89W10sYT11dC50ZXN0KGUpfHwic3RyaW5nIiE9dHlwZW9mIGU/eChlLHR8fHRoaXMuY29udGV4dCk6MDtmb3IoO2k+cjtyKyspZm9yKG49dGhpc1tyXTtuJiZuIT09dDtuPW4ucGFyZW50Tm9kZSlpZigxMT5uLm5vZGVUeXBlJiYoYT9hLmluZGV4KG4pPi0xOjE9PT1uLm5vZGVUeXBlJiZ4LmZpbmQubWF0Y2hlc1NlbGVjdG9yKG4sZSkpKXtuPW8ucHVzaChuKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soby5sZW5ndGg+MT94LnVuaXF1ZShvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP3guaW5BcnJheSh0aGlzWzBdLHgoZSkpOnguaW5BcnJheShlLmpxdWVyeT9lWzBdOmUsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj0ic3RyaW5nIj09dHlwZW9mIGU/eChlLHQpOngubWFrZUFycmF5KGUmJmUubm9kZVR5cGU/W2VdOmUpLHI9eC5tZXJnZSh0aGlzLmdldCgpLG4pO3JldHVybiB0aGlzLnB1c2hTdGFjayh4LnVuaXF1ZShyKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pO2Z1bmN0aW9uIHB0KGUsdCl7ZG8gZT1lW3RdO3doaWxlKGUmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX14LmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIHguZGlyKGUsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geC5kaXIoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHB0KGUsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIHB0KGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGUpe3JldHVybiB4LmRpcihlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiB4LmRpcihlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geC5kaXIoZSwibmV4dFNpYmxpbmciLG4pfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB4LmRpcihlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4geC5zaWJsaW5nKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4geC5zaWJsaW5nKGUuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiB4Lm5vZGVOYW1lKGUsImlmcmFtZSIpP2UuY29udGVudERvY3VtZW50fHxlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6eC5tZXJnZShbXSxlLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oZSx0KXt4LmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9eC5tYXAodGhpcyx0LG4pO3JldHVybiJVbnRpbCIhPT1lLnNsaWNlKC01KSYmKHI9biksciYmInN0cmluZyI9PXR5cGVvZiByJiYoaT14LmZpbHRlcihyLGkpKSx0aGlzLmxlbmd0aD4xJiYoY3RbZV18fChpPXgudW5pcXVlKGkpKSxsdC50ZXN0KGUpJiYoaT1pLnJldmVyc2UoKSkpLHRoaXMucHVzaFN0YWNrKGkpfX0pLHguZXh0ZW5kKHtmaWx0ZXI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRbMF07cmV0dXJuIG4mJihlPSI6bm90KCIrZSsiKSIpLDE9PT10Lmxlbmd0aCYmMT09PXIubm9kZVR5cGU/eC5maW5kLm1hdGNoZXNTZWxlY3RvcihyLGUpP1tyXTpbXTp4LmZpbmQubWF0Y2hlcyhlLHguZ3JlcCh0LGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZX0pKX0sZGlyOmZ1bmN0aW9uKGUsbixyKXt2YXIgaT1bXSxvPWVbbl07d2hpbGUobyYmOSE9PW8ubm9kZVR5cGUmJihyPT09dHx8MSE9PW8ubm9kZVR5cGV8fCF4KG8pLmlzKHIpKSkxPT09by5ub2RlVHlwZSYmaS5wdXNoKG8pLG89b1tuXTtyZXR1cm4gaX0sc2libGluZzpmdW5jdGlvbihlLHQpe3ZhciBuPVtdO2Zvcig7ZTtlPWUubmV4dFNpYmxpbmcpMT09PWUubm9kZVR5cGUmJmUhPT10JiZuLnB1c2goZSk7cmV0dXJuIG59fSk7ZnVuY3Rpb24gZnQoZSx0LG4pe2lmKHguaXNGdW5jdGlvbih0KSlyZXR1cm4geC5ncmVwKGUsZnVuY3Rpb24oZSxyKXtyZXR1cm4hIXQuY2FsbChlLHIsZSkhPT1ufSk7aWYodC5ub2RlVHlwZSlyZXR1cm4geC5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10IT09bn0pO2lmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYoc3QudGVzdCh0KSlyZXR1cm4geC5maWx0ZXIodCxlLG4pO3Q9eC5maWx0ZXIodCxlKX1yZXR1cm4geC5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHguaW5BcnJheShlLHQpPj0wIT09bn0pfWZ1bmN0aW9uIGR0KGUpe3ZhciB0PWh0LnNwbGl0KCJ8Iiksbj1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihuLmNyZWF0ZUVsZW1lbnQpd2hpbGUodC5sZW5ndGgpbi5jcmVhdGVFbGVtZW50KHQucG9wKCkpO3JldHVybiBufXZhciBodD0iYWJicnxhcnRpY2xlfGFzaWRlfGF1ZGlvfGJkaXxjYW52YXN8ZGF0YXxkYXRhbGlzdHxkZXRhaWxzfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1hcmt8bWV0ZXJ8bmF2fG91dHB1dHxwcm9ncmVzc3xzZWN0aW9ufHN1bW1hcnl8dGltZXx2aWRlbyIsZ3Q9LyBqUXVlcnlcZCs9Iig/Om51bGx8XGQrKSIvZyxtdD1SZWdFeHAoIjwoPzoiK2h0KyIpW1xccy8+XSIsImkiKSx5dD0vXlxzKy8sdnQ9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9naSxidD0vPChbXHc6XSspLyx4dD0vPHRib2R5L2ksd3Q9Lzx8JiM/XHcrOy8sVHQ9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxDdD0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxOdD0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxrdD0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksRXQ9L150cnVlXC8oLiopLyxTdD0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2csQXQ9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLGxlZ2VuZDpbMSwiPGZpZWxkc2V0PiIsIjwvZmllbGRzZXQ+Il0sYXJlYTpbMSwiPG1hcD4iLCI8L21hcD4iXSxwYXJhbTpbMSwiPG9iamVjdD4iLCI8L29iamVjdD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0Onguc3VwcG9ydC5odG1sU2VyaWFsaXplP1swLCIiLCIiXTpbMSwiWDxkaXY+IiwiPC9kaXY+Il19LGp0PWR0KGEpLER0PWp0LmFwcGVuZENoaWxkKGEuY3JlYXRlRWxlbWVudCgiZGl2IikpO0F0Lm9wdGdyb3VwPUF0Lm9wdGlvbixBdC50Ym9keT1BdC50Zm9vdD1BdC5jb2xncm91cD1BdC5jYXB0aW9uPUF0LnRoZWFkLEF0LnRoPUF0LnRkLHguZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiB4LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dD94LnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxhKS5jcmVhdGVUZXh0Tm9kZShlKSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgdD1MdCh0aGlzLGUpO3QuYXBwZW5kQ2hpbGQoZSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PUx0KHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1lP3guZmlsdGVyKGUsdGhpcyk6dGhpcyxpPTA7Zm9yKDtudWxsIT0obj1yW2ldKTtpKyspdHx8MSE9PW4ubm9kZVR5cGV8fHguY2xlYW5EYXRhKEZ0KG4pKSxuLnBhcmVudE5vZGUmJih0JiZ4LmNvbnRhaW5zKG4ub3duZXJEb2N1bWVudCxuKSYmX3QoRnQobiwic2NyaXB0IikpLG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7dmFyIGUsdD0wO2Zvcig7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKXsxPT09ZS5ub2RlVHlwZSYmeC5jbGVhbkRhdGEoRnQoZSwhMSkpO3doaWxlKGUuZmlyc3RDaGlsZCllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5vcHRpb25zJiZ4Lm5vZGVOYW1lKGUsInNlbGVjdCIpJiYoZS5vcHRpb25zLmxlbmd0aD0wKX1yZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1udWxsPT1lPyExOmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB4LmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiB4LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKGUpe3ZhciBuPXRoaXNbMF18fHt9LHI9MCxpPXRoaXMubGVuZ3RoO2lmKGU9PT10KXJldHVybiAxPT09bi5ub2RlVHlwZT9uLmlubmVySFRNTC5yZXBsYWNlKGd0LCIiKTp0O2lmKCEoInN0cmluZyIhPXR5cGVvZiBlfHxUdC50ZXN0KGUpfHwheC5zdXBwb3J0Lmh0bWxTZXJpYWxpemUmJm10LnRlc3QoZSl8fCF4LnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UmJnl0LnRlc3QoZSl8fEF0WyhidC5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSkpe2U9ZS5yZXBsYWNlKHZ0LCI8JDE+PC8kMj4iKTt0cnl7Zm9yKDtpPnI7cisrKW49dGhpc1tyXXx8e30sMT09PW4ubm9kZVR5cGUmJih4LmNsZWFuRGF0YShGdChuLCExKSksbi5pbm5lckhUTUw9ZSk7bj0wfWNhdGNoKG8pe319biYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBlPXgubWFwKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuW2UubmV4dFNpYmxpbmcsZS5wYXJlbnROb2RlXX0pLHQ9MDtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24obil7dmFyIHI9ZVt0KytdLGk9ZVt0KytdO2kmJihyJiZyLnBhcmVudE5vZGUhPT1pJiYocj10aGlzLm5leHRTaWJsaW5nKSx4KHRoaXMpLnJlbW92ZSgpLGkuaW5zZXJ0QmVmb3JlKG4scikpfSwhMCksdD90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZW1vdmUoZSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGUsdCxuKXtlPWQuYXBwbHkoW10sZSk7dmFyIHIsaSxvLGEscyxsLHU9MCxjPXRoaXMubGVuZ3RoLHA9dGhpcyxmPWMtMSxoPWVbMF0sZz14LmlzRnVuY3Rpb24oaCk7aWYoZ3x8ISgxPj1jfHwic3RyaW5nIiE9dHlwZW9mIGh8fHguc3VwcG9ydC5jaGVja0Nsb25lKSYmTnQudGVzdChoKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHIpe3ZhciBpPXAuZXEocik7ZyYmKGVbMF09aC5jYWxsKHRoaXMscixpLmh0bWwoKSkpLGkuZG9tTWFuaXAoZSx0LG4pfSk7aWYoYyYmKGw9eC5idWlsZEZyYWdtZW50KGUsdGhpc1swXS5vd25lckRvY3VtZW50LCExLCFuJiZ0aGlzKSxyPWwuZmlyc3RDaGlsZCwxPT09bC5jaGlsZE5vZGVzLmxlbmd0aCYmKGw9cikscikpe2ZvcihhPXgubWFwKEZ0KGwsInNjcmlwdCIpLEh0KSxvPWEubGVuZ3RoO2M+dTt1KyspaT1sLHUhPT1mJiYoaT14LmNsb25lKGksITAsITApLG8mJngubWVyZ2UoYSxGdChpLCJzY3JpcHQiKSkpLHQuY2FsbCh0aGlzW3VdLGksdSk7aWYobylmb3Iocz1hW2EubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQseC5tYXAoYSxxdCksdT0wO28+dTt1KyspaT1hW3VdLGt0LnRlc3QoaS50eXBlfHwiIikmJiF4Ll9kYXRhKGksImdsb2JhbEV2YWwiKSYmeC5jb250YWlucyhzLGkpJiYoaS5zcmM/eC5fZXZhbFVybChpLnNyYyk6eC5nbG9iYWxFdmFsKChpLnRleHR8fGkudGV4dENvbnRlbnR8fGkuaW5uZXJIVE1MfHwiIikucmVwbGFjZShTdCwiIikpKTtsPXI9bnVsbH1yZXR1cm4gdGhpc319KTtmdW5jdGlvbiBMdChlLHQpe3JldHVybiB4Lm5vZGVOYW1lKGUsInRhYmxlIikmJngubm9kZU5hbWUoMT09PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsInRyIik/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8ZS5hcHBlbmRDaGlsZChlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6ZX1mdW5jdGlvbiBIdChlKXtyZXR1cm4gZS50eXBlPShudWxsIT09eC5maW5kLmF0dHIoZSwidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcXQoZSl7dmFyIHQ9RXQuZXhlYyhlLnR5cGUpO3JldHVybiB0P2UudHlwZT10WzFdOmUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksZX1mdW5jdGlvbiBfdChlLHQpe3ZhciBuLHI9MDtmb3IoO251bGwhPShuPWVbcl0pO3IrKyl4Ll9kYXRhKG4sImdsb2JhbEV2YWwiLCF0fHx4Ll9kYXRhKHRbcl0sImdsb2JhbEV2YWwiKSl9ZnVuY3Rpb24gTXQoZSx0KXtpZigxPT09dC5ub2RlVHlwZSYmeC5oYXNEYXRhKGUpKXt2YXIgbixyLGksbz14Ll9kYXRhKGUpLGE9eC5fZGF0YSh0LG8pLHM9by5ldmVudHM7aWYocyl7ZGVsZXRlIGEuaGFuZGxlLGEuZXZlbnRzPXt9O2ZvcihuIGluIHMpZm9yKHI9MCxpPXNbbl0ubGVuZ3RoO2k+cjtyKyspeC5ldmVudC5hZGQodCxuLHNbbl1bcl0pfWEuZGF0YSYmKGEuZGF0YT14LmV4dGVuZCh7fSxhLmRhdGEpKX19ZnVuY3Rpb24gT3QoZSx0KXt2YXIgbixyLGk7aWYoMT09PXQubm9kZVR5cGUpe2lmKG49dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCF4LnN1cHBvcnQubm9DbG9uZUV2ZW50JiZ0W3guZXhwYW5kb10pe2k9eC5fZGF0YSh0KTtmb3IociBpbiBpLmV2ZW50cyl4LnJlbW92ZUV2ZW50KHQscixpLmhhbmRsZSk7dC5yZW1vdmVBdHRyaWJ1dGUoeC5leHBhbmRvKX0ic2NyaXB0Ij09PW4mJnQudGV4dCE9PWUudGV4dD8oSHQodCkudGV4dD1lLnRleHQscXQodCkpOiJvYmplY3QiPT09bj8odC5wYXJlbnROb2RlJiYodC5vdXRlckhUTUw9ZS5vdXRlckhUTUwpLHguc3VwcG9ydC5odG1sNUNsb25lJiZlLmlubmVySFRNTCYmIXgudHJpbSh0LmlubmVySFRNTCkmJih0LmlubmVySFRNTD1lLmlubmVySFRNTCkpOiJpbnB1dCI9PT1uJiZDdC50ZXN0KGUudHlwZSk/KHQuZGVmYXVsdENoZWNrZWQ9dC5jaGVja2VkPWUuY2hlY2tlZCx0LnZhbHVlIT09ZS52YWx1ZSYmKHQudmFsdWU9ZS52YWx1ZSkpOiJvcHRpb24iPT09bj90LmRlZmF1bHRTZWxlY3RlZD10LnNlbGVjdGVkPWUuZGVmYXVsdFNlbGVjdGVkOigiaW5wdXQiPT09bnx8InRleHRhcmVhIj09PW4pJiYodC5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpfX14LmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLHQpe3guZm5bZV09ZnVuY3Rpb24oZSl7dmFyIG4scj0wLGk9W10sbz14KGUpLGE9by5sZW5ndGgtMTtmb3IoO2E+PXI7cisrKW49cj09PWE/dGhpczp0aGlzLmNsb25lKCEwKSx4KG9bcl0pW3RdKG4pLGguYXBwbHkoaSxuLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaSl9fSk7ZnVuY3Rpb24gRnQoZSxuKXt2YXIgcixvLGE9MCxzPXR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09aT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKG58fCIqIik6dHlwZW9mIGUucXVlcnlTZWxlY3RvckFsbCE9PWk/ZS5xdWVyeVNlbGVjdG9yQWxsKG58fCIqIik6dDtpZighcylmb3Iocz1bXSxyPWUuY2hpbGROb2Rlc3x8ZTtudWxsIT0obz1yW2FdKTthKyspIW58fHgubm9kZU5hbWUobyxuKT9zLnB1c2gobyk6eC5tZXJnZShzLEZ0KG8sbikpO3JldHVybiBuPT09dHx8biYmeC5ub2RlTmFtZShlLG4pP3gubWVyZ2UoW2VdLHMpOnN9ZnVuY3Rpb24gQnQoZSl7Q3QudGVzdChlLnR5cGUpJiYoZS5kZWZhdWx0Q2hlY2tlZD1lLmNoZWNrZWQpfXguZXh0ZW5kKHtjbG9uZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyxsPXguY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpO2lmKHguc3VwcG9ydC5odG1sNUNsb25lfHx4LmlzWE1MRG9jKGUpfHwhbXQudGVzdCgiPCIrZS5ub2RlTmFtZSsiPiIpP289ZS5jbG9uZU5vZGUoITApOihEdC5pbm5lckhUTUw9ZS5vdXRlckhUTUwsRHQucmVtb3ZlQ2hpbGQobz1EdC5maXJzdENoaWxkKSksISh4LnN1cHBvcnQubm9DbG9uZUV2ZW50JiZ4LnN1cHBvcnQubm9DbG9uZUNoZWNrZWR8fDEhPT1lLm5vZGVUeXBlJiYxMSE9PWUubm9kZVR5cGV8fHguaXNYTUxEb2MoZSkpKWZvcihyPUZ0KG8pLHM9RnQoZSksYT0wO251bGwhPShpPXNbYV0pOysrYSlyW2FdJiZPdChpLHJbYV0pO2lmKHQpaWYobilmb3Iocz1zfHxGdChlKSxyPXJ8fEZ0KG8pLGE9MDtudWxsIT0oaT1zW2FdKTthKyspTXQoaSxyW2FdKTtlbHNlIE10KGUsbyk7cmV0dXJuIHI9RnQobywic2NyaXB0Iiksci5sZW5ndGg+MCYmX3QociwhbCYmRnQoZSwic2NyaXB0IikpLHI9cz1pPW51bGwsb30sYnVpbGRGcmFnbWVudDpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyxsLHUsYyxwPWUubGVuZ3RoLGY9ZHQodCksZD1bXSxoPTA7Zm9yKDtwPmg7aCsrKWlmKG89ZVtoXSxvfHwwPT09bylpZigib2JqZWN0Ij09PXgudHlwZShvKSl4Lm1lcmdlKGQsby5ub2RlVHlwZT9bb106byk7ZWxzZSBpZih3dC50ZXN0KG8pKXtzPXN8fGYuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KCJkaXYiKSksbD0oYnQuZXhlYyhvKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKSxjPUF0W2xdfHxBdC5fZGVmYXVsdCxzLmlubmVySFRNTD1jWzFdK28ucmVwbGFjZSh2dCwiPCQxPjwvJDI+IikrY1syXSxpPWNbMF07d2hpbGUoaS0tKXM9cy5sYXN0Q2hpbGQ7aWYoIXguc3VwcG9ydC5sZWFkaW5nV2hpdGVzcGFjZSYmeXQudGVzdChvKSYmZC5wdXNoKHQuY3JlYXRlVGV4dE5vZGUoeXQuZXhlYyhvKVswXSkpLCF4LnN1cHBvcnQudGJvZHkpe289InRhYmxlIiE9PWx8fHh0LnRlc3Qobyk/Ijx0YWJsZT4iIT09Y1sxXXx8eHQudGVzdChvKT8wOnM6cy5maXJzdENoaWxkLGk9byYmby5jaGlsZE5vZGVzLmxlbmd0aDt3aGlsZShpLS0peC5ub2RlTmFtZSh1PW8uY2hpbGROb2Rlc1tpXSwidGJvZHkiKSYmIXUuY2hpbGROb2Rlcy5sZW5ndGgmJm8ucmVtb3ZlQ2hpbGQodSl9eC5tZXJnZShkLHMuY2hpbGROb2Rlcykscy50ZXh0Q29udGVudD0iIjt3aGlsZShzLmZpcnN0Q2hpbGQpcy5yZW1vdmVDaGlsZChzLmZpcnN0Q2hpbGQpO3M9Zi5sYXN0Q2hpbGR9ZWxzZSBkLnB1c2godC5jcmVhdGVUZXh0Tm9kZShvKSk7cyYmZi5yZW1vdmVDaGlsZChzKSx4LnN1cHBvcnQuYXBwZW5kQ2hlY2tlZHx8eC5ncmVwKEZ0KGQsImlucHV0IiksQnQpLGg9MDt3aGlsZShvPWRbaCsrXSlpZigoIXJ8fC0xPT09eC5pbkFycmF5KG8scikpJiYoYT14LmNvbnRhaW5zKG8ub3duZXJEb2N1bWVudCxvKSxzPUZ0KGYuYXBwZW5kQ2hpbGQobyksInNjcmlwdCIpLGEmJl90KHMpLG4pKXtpPTA7d2hpbGUobz1zW2krK10pa3QudGVzdChvLnR5cGV8fCIiKSYmbi5wdXNoKG8pfXJldHVybiBzPW51bGwsZn0sY2xlYW5EYXRhOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGEscz0wLGw9eC5leHBhbmRvLHU9eC5jYWNoZSxjPXguc3VwcG9ydC5kZWxldGVFeHBhbmRvLGY9eC5ldmVudC5zcGVjaWFsO2Zvcig7bnVsbCE9KG49ZVtzXSk7cysrKWlmKCh0fHx4LmFjY2VwdERhdGEobikpJiYobz1uW2xdLGE9byYmdVtvXSkpe2lmKGEuZXZlbnRzKWZvcihyIGluIGEuZXZlbnRzKWZbcl0/eC5ldmVudC5yZW1vdmUobixyKTp4LnJlbW92ZUV2ZW50KG4scixhLmhhbmRsZSk7CnVbb10mJihkZWxldGUgdVtvXSxjP2RlbGV0ZSBuW2xdOnR5cGVvZiBuLnJlbW92ZUF0dHJpYnV0ZSE9PWk/bi5yZW1vdmVBdHRyaWJ1dGUobCk6bltsXT1udWxsLHAucHVzaChvKSl9fSxfZXZhbFVybDpmdW5jdGlvbihlKXtyZXR1cm4geC5hamF4KHt1cmw6ZSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfX0pLHguZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe2lmKHguaXNGdW5jdGlvbihlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3godGhpcykud3JhcEFsbChlLmNhbGwodGhpcyx0KSl9KTtpZih0aGlzWzBdKXt2YXIgdD14KGUsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCk7dGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXM7d2hpbGUoZS5maXJzdENoaWxkJiYxPT09ZS5maXJzdENoaWxkLm5vZGVUeXBlKWU9ZS5maXJzdENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpfXJldHVybiB0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHguaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24odCl7eCh0aGlzKS53cmFwSW5uZXIoZS5jYWxsKHRoaXMsdCkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9eCh0aGlzKSxuPXQuY29udGVudHMoKTtuLmxlbmd0aD9uLndyYXBBbGwoZSk6dC5hcHBlbmQoZSl9KX0sd3JhcDpmdW5jdGlvbihlKXt2YXIgdD14LmlzRnVuY3Rpb24oZSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihuKXt4KHRoaXMpLndyYXBBbGwodD9lLmNhbGwodGhpcyxuKTplKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7eC5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fHgodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pO3ZhciBQdCxSdCxXdCwkdD0vYWxwaGFcKFteKV0qXCkvaSxJdD0vb3BhY2l0eVxzKj1ccyooW14pXSopLyx6dD0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC8sWHQ9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFV0PS9ebWFyZ2luLyxWdD1SZWdFeHAoIl4oIit3KyIpKC4qKSQiLCJpIiksWXQ9UmVnRXhwKCJeKCIrdysiKSg/IXB4KVthLXolXSskIiwiaSIpLEp0PVJlZ0V4cCgiXihbKy1dKT0oIit3KyIpIiwiaSIpLEd0PXtCT0RZOiJibG9jayJ9LFF0PXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxLdD17bGV0dGVyU3BhY2luZzowLGZvbnRXZWlnaHQ6NDAwfSxadD1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLGVuPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl07ZnVuY3Rpb24gdG4oZSx0KXtpZih0IGluIGUpcmV0dXJuIHQ7dmFyIG49dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpLHI9dCxpPWVuLmxlbmd0aDt3aGlsZShpLS0paWYodD1lbltpXStuLHQgaW4gZSlyZXR1cm4gdDtyZXR1cm4gcn1mdW5jdGlvbiBubihlLHQpe3JldHVybiBlPXR8fGUsIm5vbmUiPT09eC5jc3MoZSwiZGlzcGxheSIpfHwheC5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSl9ZnVuY3Rpb24gcm4oZSx0KXt2YXIgbixyLGksbz1bXSxhPTAscz1lLmxlbmd0aDtmb3IoO3M+YTthKyspcj1lW2FdLHIuc3R5bGUmJihvW2FdPXguX2RhdGEociwib2xkZGlzcGxheSIpLG49ci5zdHlsZS5kaXNwbGF5LHQ/KG9bYV18fCJub25lIiE9PW58fChyLnN0eWxlLmRpc3BsYXk9IiIpLCIiPT09ci5zdHlsZS5kaXNwbGF5JiZubihyKSYmKG9bYV09eC5fZGF0YShyLCJvbGRkaXNwbGF5IixsbihyLm5vZGVOYW1lKSkpKTpvW2FdfHwoaT1ubihyKSwobiYmIm5vbmUiIT09bnx8IWkpJiZ4Ll9kYXRhKHIsIm9sZGRpc3BsYXkiLGk/bjp4LmNzcyhyLCJkaXNwbGF5IikpKSk7Zm9yKGE9MDtzPmE7YSsrKXI9ZVthXSxyLnN0eWxlJiYodCYmIm5vbmUiIT09ci5zdHlsZS5kaXNwbGF5JiYiIiE9PXIuc3R5bGUuZGlzcGxheXx8KHIuc3R5bGUuZGlzcGxheT10P29bYV18fCIiOiJub25lIikpO3JldHVybiBlfXguZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSxuKXtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbihlLG4scil7dmFyIGksbyxhPXt9LHM9MDtpZih4LmlzQXJyYXkobikpe2ZvcihvPVJ0KGUpLGk9bi5sZW5ndGg7aT5zO3MrKylhW25bc11dPXguY3NzKGUsbltzXSwhMSxvKTtyZXR1cm4gYX1yZXR1cm4gciE9PXQ/eC5zdHlsZShlLG4scik6eC5jc3MoZSxuKX0sZSxuLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gcm4odGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gcm4odGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlP2U/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bm4odGhpcyk/eCh0aGlzKS5zaG93KCk6eCh0aGlzKS5oaWRlKCl9KX19KSx4LmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVd0KGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnsiZmxvYXQiOnguc3VwcG9ydC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oZSxuLHIsaSl7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgbyxhLHMsbD14LmNhbWVsQ2FzZShuKSx1PWUuc3R5bGU7aWYobj14LmNzc1Byb3BzW2xdfHwoeC5jc3NQcm9wc1tsXT10bih1LGwpKSxzPXguY3NzSG9va3Nbbl18fHguY3NzSG9va3NbbF0scj09PXQpcmV0dXJuIHMmJiJnZXQiaW4gcyYmKG89cy5nZXQoZSwhMSxpKSkhPT10P286dVtuXTtpZihhPXR5cGVvZiByLCJzdHJpbmciPT09YSYmKG89SnQuZXhlYyhyKSkmJihyPShvWzFdKzEpKm9bMl0rcGFyc2VGbG9hdCh4LmNzcyhlLG4pKSxhPSJudW1iZXIiKSwhKG51bGw9PXJ8fCJudW1iZXIiPT09YSYmaXNOYU4ocil8fCgibnVtYmVyIiE9PWF8fHguY3NzTnVtYmVyW2xdfHwocis9InB4IikseC5zdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1yfHwwIT09bi5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fCh1W25dPSJpbmhlcml0IikscyYmInNldCJpbiBzJiYocj1zLnNldChlLHIsaSkpPT09dCkpKXRyeXt1W25dPXJ9Y2F0Y2goYyl7fX19LGNzczpmdW5jdGlvbihlLG4scixpKXt2YXIgbyxhLHMsbD14LmNhbWVsQ2FzZShuKTtyZXR1cm4gbj14LmNzc1Byb3BzW2xdfHwoeC5jc3NQcm9wc1tsXT10bihlLnN0eWxlLGwpKSxzPXguY3NzSG9va3Nbbl18fHguY3NzSG9va3NbbF0scyYmImdldCJpbiBzJiYoYT1zLmdldChlLCEwLHIpKSxhPT09dCYmKGE9V3QoZSxuLGkpKSwibm9ybWFsIj09PWEmJm4gaW4gS3QmJihhPUt0W25dKSwiIj09PXJ8fHI/KG89cGFyc2VGbG9hdChhKSxyPT09ITB8fHguaXNOdW1lcmljKG8pP298fDA6YSk6YX19KSxlLmdldENvbXB1dGVkU3R5bGU/KFJ0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmdldENvbXB1dGVkU3R5bGUodCxudWxsKX0sV3Q9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG8sYSxzPXJ8fFJ0KGUpLGw9cz9zLmdldFByb3BlcnR5VmFsdWUobil8fHNbbl06dCx1PWUuc3R5bGU7cmV0dXJuIHMmJigiIiE9PWx8fHguY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfHwobD14LnN0eWxlKGUsbikpLFl0LnRlc3QobCkmJlV0LnRlc3QobikmJihpPXUud2lkdGgsbz11Lm1pbldpZHRoLGE9dS5tYXhXaWR0aCx1Lm1pbldpZHRoPXUubWF4V2lkdGg9dS53aWR0aD1sLGw9cy53aWR0aCx1LndpZHRoPWksdS5taW5XaWR0aD1vLHUubWF4V2lkdGg9YSkpLGx9KTphLmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUmJihSdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5jdXJyZW50U3R5bGV9LFd0PWZ1bmN0aW9uKGUsbixyKXt2YXIgaSxvLGEscz1yfHxSdChlKSxsPXM/c1tuXTp0LHU9ZS5zdHlsZTtyZXR1cm4gbnVsbD09bCYmdSYmdVtuXSYmKGw9dVtuXSksWXQudGVzdChsKSYmIXp0LnRlc3QobikmJihpPXUubGVmdCxvPWUucnVudGltZVN0eWxlLGE9byYmby5sZWZ0LGEmJihvLmxlZnQ9ZS5jdXJyZW50U3R5bGUubGVmdCksdS5sZWZ0PSJmb250U2l6ZSI9PT1uPyIxZW0iOmwsbD11LnBpeGVsTGVmdCsicHgiLHUubGVmdD1pLGEmJihvLmxlZnQ9YSkpLCIiPT09bD8iYXV0byI6bH0pO2Z1bmN0aW9uIG9uKGUsdCxuKXt2YXIgcj1WdC5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsxXS0obnx8MCkpKyhyWzJdfHwicHgiKTp0fWZ1bmN0aW9uIGFuKGUsdCxuLHIsaSl7dmFyIG89bj09PShyPyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09dD8xOjAsYT0wO2Zvcig7ND5vO28rPTIpIm1hcmdpbiI9PT1uJiYoYSs9eC5jc3MoZSxuK1p0W29dLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYoYS09eC5jc3MoZSwicGFkZGluZyIrWnRbb10sITAsaSkpLCJtYXJnaW4iIT09biYmKGEtPXguY3NzKGUsImJvcmRlciIrWnRbb10rIldpZHRoIiwhMCxpKSkpOihhKz14LmNzcyhlLCJwYWRkaW5nIitadFtvXSwhMCxpKSwicGFkZGluZyIhPT1uJiYoYSs9eC5jc3MoZSwiYm9yZGVyIitadFtvXSsiV2lkdGgiLCEwLGkpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gc24oZSx0LG4pe3ZhciByPSEwLGk9IndpZHRoIj09PXQ/ZS5vZmZzZXRXaWR0aDplLm9mZnNldEhlaWdodCxvPVJ0KGUpLGE9eC5zdXBwb3J0LmJveFNpemluZyYmImJvcmRlci1ib3giPT09eC5jc3MoZSwiYm94U2l6aW5nIiwhMSxvKTtpZigwPj1pfHxudWxsPT1pKXtpZihpPVd0KGUsdCxvKSwoMD5pfHxudWxsPT1pKSYmKGk9ZS5zdHlsZVt0XSksWXQudGVzdChpKSlyZXR1cm4gaTtyPWEmJih4LnN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGV8fGk9PT1lLnN0eWxlW3RdKSxpPXBhcnNlRmxvYXQoaSl8fDB9cmV0dXJuIGkrYW4oZSx0LG58fChhPyJib3JkZXIiOiJjb250ZW50IikscixvKSsicHgifWZ1bmN0aW9uIGxuKGUpe3ZhciB0PWEsbj1HdFtlXTtyZXR1cm4gbnx8KG49dW4oZSx0KSwibm9uZSIhPT1uJiZufHwoUHQ9KFB0fHx4KCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikuY3NzKCJjc3NUZXh0IiwiZGlzcGxheTpibG9jayAhaW1wb3J0YW50IikpLmFwcGVuZFRvKHQuZG9jdW1lbnRFbGVtZW50KSx0PShQdFswXS5jb250ZW50V2luZG93fHxQdFswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LHQud3JpdGUoIjwhZG9jdHlwZSBodG1sPjxodG1sPjxib2R5PiIpLHQuY2xvc2UoKSxuPXVuKGUsdCksUHQuZGV0YWNoKCkpLEd0W2VdPW4pLG59ZnVuY3Rpb24gdW4oZSx0KXt2YXIgbj14KHQuY3JlYXRlRWxlbWVudChlKSkuYXBwZW5kVG8odC5ib2R5KSxyPXguY3NzKG5bMF0sImRpc3BsYXkiKTtyZXR1cm4gbi5yZW1vdmUoKSxyfXguZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSxuKXt4LmNzc0hvb2tzW25dPXtnZXQ6ZnVuY3Rpb24oZSxyLGkpe3JldHVybiByPzA9PT1lLm9mZnNldFdpZHRoJiZYdC50ZXN0KHguY3NzKGUsImRpc3BsYXkiKSk/eC5zd2FwKGUsUXQsZnVuY3Rpb24oKXtyZXR1cm4gc24oZSxuLGkpfSk6c24oZSxuLGkpOnR9LHNldDpmdW5jdGlvbihlLHQscil7dmFyIGk9ciYmUnQoZSk7cmV0dXJuIG9uKGUsdCxyP2FuKGUsbixyLHguc3VwcG9ydC5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PXguY3NzKGUsImJveFNpemluZyIsITEsaSksaSk6MCl9fX0pLHguc3VwcG9ydC5vcGFjaXR5fHwoeC5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSXQudGVzdCgodCYmZS5jdXJyZW50U3R5bGU/ZS5jdXJyZW50U3R5bGUuZmlsdGVyOmUuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6dD8iMSI6IiJ9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuPWUuc3R5bGUscj1lLmN1cnJlbnRTdHlsZSxpPXguaXNOdW1lcmljKHQpPyJhbHBoYShvcGFjaXR5PSIrMTAwKnQrIikiOiIiLG89ciYmci5maWx0ZXJ8fG4uZmlsdGVyfHwiIjtuLnpvb209MSwodD49MXx8IiI9PT10KSYmIiI9PT14LnRyaW0oby5yZXBsYWNlKCR0LCIiKSkmJm4ucmVtb3ZlQXR0cmlidXRlJiYobi5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCIiPT09dHx8ciYmIXIuZmlsdGVyKXx8KG4uZmlsdGVyPSR0LnRlc3Qobyk/by5yZXBsYWNlKCR0LGkpOm8rIiAiK2kpfX0pLHgoZnVuY3Rpb24oKXt4LnN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodHx8KHguY3NzSG9va3MubWFyZ2luUmlnaHQ9e2dldDpmdW5jdGlvbihlLG4pe3JldHVybiBuP3guc3dhcChlLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSxXdCxbZSwibWFyZ2luUmlnaHQiXSk6dH19KSwheC5zdXBwb3J0LnBpeGVsUG9zaXRpb24mJnguZm4ucG9zaXRpb24mJnguZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihlLG4pe3guY3NzSG9va3Nbbl09e2dldDpmdW5jdGlvbihlLHIpe3JldHVybiByPyhyPVd0KGUsbiksWXQudGVzdChyKT94KGUpLnBvc2l0aW9uKClbbl0rInB4IjpyKTp0fX19KX0pLHguZXhwciYmeC5leHByLmZpbHRlcnMmJih4LmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIDA+PWUub2Zmc2V0V2lkdGgmJjA+PWUub2Zmc2V0SGVpZ2h0fHwheC5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmIm5vbmUiPT09KGUuc3R5bGUmJmUuc3R5bGUuZGlzcGxheXx8eC5jc3MoZSwiZGlzcGxheSIpKX0seC5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4heC5leHByLmZpbHRlcnMuaGlkZGVuKGUpfSkseC5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oZSx0KXt4LmNzc0hvb2tzW2UrdF09e2V4cGFuZDpmdW5jdGlvbihuKXt2YXIgcj0wLGk9e30sbz0ic3RyaW5nIj09dHlwZW9mIG4/bi5zcGxpdCgiICIpOltuXTtmb3IoOzQ+cjtyKyspaVtlK1p0W3JdK3RdPW9bcl18fG9bci0yXXx8b1swXTtyZXR1cm4gaX19LFV0LnRlc3QoZSl8fCh4LmNzc0hvb2tzW2UrdF0uc2V0PW9uKX0pO3ZhciBjbj0vJTIwL2cscG49L1xbXF0kLyxmbj0vXHI/XG4vZyxkbj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksaG49L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO3guZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4geC5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXgucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBlP3gubWFrZUFycmF5KGUpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIXgodGhpcykuaXMoIjpkaXNhYmxlZCIpJiZobi50ZXN0KHRoaXMubm9kZU5hbWUpJiYhZG4udGVzdChlKSYmKHRoaXMuY2hlY2tlZHx8IUN0LnRlc3QoZSkpfSkubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG49eCh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09bj9udWxsOnguaXNBcnJheShuKT94Lm1hcChuLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTplLnJlcGxhY2UoZm4sIlxyXG4iKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6bi5yZXBsYWNlKGZuLCJcclxuIil9fSkuZ2V0KCl9fSkseC5wYXJhbT1mdW5jdGlvbihlLG4pe3ZhciByLGk9W10sbz1mdW5jdGlvbihlLHQpe3Q9eC5pc0Z1bmN0aW9uKHQpP3QoKTpudWxsPT10PyIiOnQsaVtpLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGUpKyI9IitlbmNvZGVVUklDb21wb25lbnQodCl9O2lmKG49PT10JiYobj14LmFqYXhTZXR0aW5ncyYmeC5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLHguaXNBcnJheShlKXx8ZS5qcXVlcnkmJiF4LmlzUGxhaW5PYmplY3QoZSkpeC5lYWNoKGUsZnVuY3Rpb24oKXtvKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKHIgaW4gZSlnbihyLGVbcl0sbixvKTtyZXR1cm4gaS5qb2luKCImIikucmVwbGFjZShjbiwiKyIpfTtmdW5jdGlvbiBnbihlLHQsbixyKXt2YXIgaTtpZih4LmlzQXJyYXkodCkpeC5lYWNoKHQsZnVuY3Rpb24odCxpKXtufHxwbi50ZXN0KGUpP3IoZSxpKTpnbihlKyJbIisoIm9iamVjdCI9PXR5cGVvZiBpP3Q6IiIpKyJdIixpLG4scil9KTtlbHNlIGlmKG58fCJvYmplY3QiIT09eC50eXBlKHQpKXIoZSx0KTtlbHNlIGZvcihpIGluIHQpZ24oZSsiWyIraSsiXSIsdFtpXSxuLHIpfXguZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHQpe3guZm5bdF09ZnVuY3Rpb24oZSxuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24odCxudWxsLGUsbik6dGhpcy50cmlnZ2VyKHQpfX0pLHguZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoZSkubW91c2VsZWF2ZSh0fHxlKX0sYmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9fSk7dmFyIG1uLHluLHZuPXgubm93KCksYm49L1w/Lyx4bj0vIy4qJC8sd249LyhbPyZdKV89W14mXSovLFRuPS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKVxyPyQvZ20sQ249L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sTm49L14oPzpHRVR8SEVBRCkkLyxrbj0vXlwvXC8vLEVuPS9eKFtcdy4rLV0rOikoPzpcL1wvKFteXC8/IzpdKikoPzo6KFxkKyl8KXwpLyxTbj14LmZuLmxvYWQsQW49e30sam49e30sRG49IiovIi5jb25jYXQoIioiKTt0cnl7eW49by5ocmVmfWNhdGNoKExuKXt5bj1hLmNyZWF0ZUVsZW1lbnQoImEiKSx5bi5ocmVmPSIiLHluPXluLmhyZWZ9bW49RW4uZXhlYyh5bi50b0xvd2VyQ2FzZSgpKXx8W107ZnVuY3Rpb24gSG4oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7InN0cmluZyIhPXR5cGVvZiB0JiYobj10LHQ9IioiKTt2YXIgcixpPTAsbz10LnRvTG93ZXJDYXNlKCkubWF0Y2goVCl8fFtdO2lmKHguaXNGdW5jdGlvbihuKSl3aGlsZShyPW9baSsrXSkiKyI9PT1yWzBdPyhyPXIuc2xpY2UoMSl8fCIqIiwoZVtyXT1lW3JdfHxbXSkudW5zaGlmdChuKSk6KGVbcl09ZVtyXXx8W10pLnB1c2gobil9fWZ1bmN0aW9uIHFuKGUsbixyLGkpe3ZhciBvPXt9LGE9ZT09PWpuO2Z1bmN0aW9uIHMobCl7dmFyIHU7cmV0dXJuIG9bbF09ITAseC5lYWNoKGVbbF18fFtdLGZ1bmN0aW9uKGUsbCl7dmFyIGM9bChuLHIsaSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBjfHxhfHxvW2NdP2E/ISh1PWMpOnQ6KG4uZGF0YVR5cGVzLnVuc2hpZnQoYykscyhjKSwhMSl9KSx1fXJldHVybiBzKG4uZGF0YVR5cGVzWzBdKXx8IW9bIioiXSYmcygiKiIpfWZ1bmN0aW9uIF9uKGUsbil7dmFyIHIsaSxvPXguYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IoaSBpbiBuKW5baV0hPT10JiYoKG9baV0/ZTpyfHwocj17fSkpW2ldPW5baV0pO3JldHVybiByJiZ4LmV4dGVuZCghMCxlLHIpLGV9eC5mbi5sb2FkPWZ1bmN0aW9uKGUsbixyKXtpZigic3RyaW5nIiE9dHlwZW9mIGUmJlNuKXJldHVybiBTbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGksbyxhLHM9dGhpcyxsPWUuaW5kZXhPZigiICIpO3JldHVybiBsPj0wJiYoaT1lLnNsaWNlKGwsZS5sZW5ndGgpLGU9ZS5zbGljZSgwLGwpKSx4LmlzRnVuY3Rpb24obik/KHI9bixuPXQpOm4mJiJvYmplY3QiPT10eXBlb2YgbiYmKGE9IlBPU1QiKSxzLmxlbmd0aD4wJiZ4LmFqYXgoe3VybDplLHR5cGU6YSxkYXRhVHlwZToiaHRtbCIsZGF0YTpufSkuZG9uZShmdW5jdGlvbihlKXtvPWFyZ3VtZW50cyxzLmh0bWwoaT94KCI8ZGl2PiIpLmFwcGVuZCh4LnBhcnNlSFRNTChlKSkuZmluZChpKTplKX0pLmNvbXBsZXRlKHImJmZ1bmN0aW9uKGUsdCl7cy5lYWNoKHIsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSksdGhpc30seC5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oZSx0KXt4LmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9uKHQsZSl9fSkseC5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOnluLHR5cGU6IkdFVCIsaXNMb2NhbDpDbi50ZXN0KG1uWzFdKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOkRuLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwvLGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6eC5wYXJzZUpTT04sInRleHQgeG1sIjp4LnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9fbihfbihlLHguYWpheFNldHRpbmdzKSx0KTpfbih4LmFqYXhTZXR0aW5ncyxlKX0sYWpheFByZWZpbHRlcjpIbihBbiksYWpheFRyYW5zcG9ydDpIbihqbiksYWpheDpmdW5jdGlvbihlLG4peyJvYmplY3QiPT10eXBlb2YgZSYmKG49ZSxlPXQpLG49bnx8e307dmFyIHIsaSxvLGEscyxsLHUsYyxwPXguYWpheFNldHVwKHt9LG4pLGY9cC5jb250ZXh0fHxwLGQ9cC5jb250ZXh0JiYoZi5ub2RlVHlwZXx8Zi5qcXVlcnkpP3goZik6eC5ldmVudCxoPXguRGVmZXJyZWQoKSxnPXguQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLG09cC5zdGF0dXNDb2RlfHx7fSx5PXt9LHY9e30sYj0wLHc9ImNhbmNlbGVkIixDPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoMj09PWIpe2lmKCFjKXtjPXt9O3doaWxlKHQ9VG4uZXhlYyhhKSljW3RbMV0udG9Mb3dlckNhc2UoKV09dFsyXX10PWNbZS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09dD9udWxsOnR9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09Yj9hOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGJ8fChlPXZbbl09dltuXXx8ZSx5W2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGJ8fChwLm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZigyPmIpZm9yKHQgaW4gZSltW3RdPVttW3RdLGVbdF1dO2Vsc2UgQy5hbHdheXMoZVtDLnN0YXR1c10pO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihlKXt2YXIgdD1lfHx3O3JldHVybiB1JiZ1LmFib3J0KHQpLGsoMCx0KSx0aGlzfX07aWYoaC5wcm9taXNlKEMpLmNvbXBsZXRlPWcuYWRkLEMuc3VjY2Vzcz1DLmRvbmUsQy5lcnJvcj1DLmZhaWwscC51cmw9KChlfHxwLnVybHx8eW4pKyIiKS5yZXBsYWNlKHhuLCIiKS5yZXBsYWNlKGtuLG1uWzFdKyIvLyIpLHAudHlwZT1uLm1ldGhvZHx8bi50eXBlfHxwLm1ldGhvZHx8cC50eXBlLHAuZGF0YVR5cGVzPXgudHJpbShwLmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2goVCl8fFsiIl0sbnVsbD09cC5jcm9zc0RvbWFpbiYmKHI9RW4uZXhlYyhwLnVybC50b0xvd2VyQ2FzZSgpKSxwLmNyb3NzRG9tYWluPSEoIXJ8fHJbMV09PT1tblsxXSYmclsyXT09PW1uWzJdJiYoclszXXx8KCJodHRwOiI9PT1yWzFdPyI4MCI6IjQ0MyIpKT09PShtblszXXx8KCJodHRwOiI9PT1tblsxXT8iODAiOiI0NDMiKSkpKSxwLmRhdGEmJnAucHJvY2Vzc0RhdGEmJiJzdHJpbmciIT10eXBlb2YgcC5kYXRhJiYocC5kYXRhPXgucGFyYW0ocC5kYXRhLHAudHJhZGl0aW9uYWwpKSxxbihBbixwLG4sQyksMj09PWIpcmV0dXJuIEM7bD1wLmdsb2JhbCxsJiYwPT09eC5hY3RpdmUrKyYmeC5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSxwLnR5cGU9cC50eXBlLnRvVXBwZXJDYXNlKCkscC5oYXNDb250ZW50PSFObi50ZXN0KHAudHlwZSksbz1wLnVybCxwLmhhc0NvbnRlbnR8fChwLmRhdGEmJihvPXAudXJsKz0oYm4udGVzdChvKT8iJiI6Ij8iKStwLmRhdGEsZGVsZXRlIHAuZGF0YSkscC5jYWNoZT09PSExJiYocC51cmw9d24udGVzdChvKT9vLnJlcGxhY2Uod24sIiQxXz0iK3ZuKyspOm8rKGJuLnRlc3Qobyk/IiYiOiI/IikrIl89Iit2bisrKSkscC5pZk1vZGlmaWVkJiYoeC5sYXN0TW9kaWZpZWRbb10mJkMuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLHgubGFzdE1vZGlmaWVkW29dKSx4LmV0YWdbb10mJkMuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIseC5ldGFnW29dKSksKHAuZGF0YSYmcC5oYXNDb250ZW50JiZwLmNvbnRlbnRUeXBlIT09ITF8fG4uY29udGVudFR5cGUpJiZDLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIscC5jb250ZW50VHlwZSksQy5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLHAuZGF0YVR5cGVzWzBdJiZwLmFjY2VwdHNbcC5kYXRhVHlwZXNbMF1dP3AuYWNjZXB0c1twLmRhdGFUeXBlc1swXV0rKCIqIiE9PXAuZGF0YVR5cGVzWzBdPyIsICIrRG4rIjsgcT0wLjAxIjoiIik6cC5hY2NlcHRzWyIqIl0pO2ZvcihpIGluIHAuaGVhZGVycylDLnNldFJlcXVlc3RIZWFkZXIoaSxwLmhlYWRlcnNbaV0pO2lmKHAuYmVmb3JlU2VuZCYmKHAuYmVmb3JlU2VuZC5jYWxsKGYsQyxwKT09PSExfHwyPT09YikpcmV0dXJuIEMuYWJvcnQoKTt3PSJhYm9ydCI7Zm9yKGkgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0pQ1tpXShwW2ldKTtpZih1PXFuKGpuLHAsbixDKSl7Qy5yZWFkeVN0YXRlPTEsbCYmZC50cmlnZ2VyKCJhamF4U2VuZCIsW0MscF0pLHAuYXN5bmMmJnAudGltZW91dD4wJiYocz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Qy5hYm9ydCgidGltZW91dCIpfSxwLnRpbWVvdXQpKTt0cnl7Yj0xLHUuc2VuZCh5LGspfWNhdGNoKE4pe2lmKCEoMj5iKSl0aHJvdyBOO2soLTEsTil9fWVsc2UgaygtMSwiTm8gVHJhbnNwb3J0Iik7ZnVuY3Rpb24gayhlLG4scixpKXt2YXIgYyx5LHYsdyxULE49bjsyIT09YiYmKGI9MixzJiZjbGVhclRpbWVvdXQocyksdT10LGE9aXx8IiIsQy5yZWFkeVN0YXRlPWU+MD80OjAsYz1lPj0yMDAmJjMwMD5lfHwzMDQ9PT1lLHImJih3PU1uKHAsQyxyKSksdz1PbihwLHcsQyxjKSxjPyhwLmlmTW9kaWZpZWQmJihUPUMuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSxUJiYoeC5sYXN0TW9kaWZpZWRbb109VCksVD1DLmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIiksVCYmKHguZXRhZ1tvXT1UKSksMjA0PT09ZXx8IkhFQUQiPT09cC50eXBlP049Im5vY29udGVudCI6MzA0PT09ZT9OPSJub3Rtb2RpZmllZCI6KE49dy5zdGF0ZSx5PXcuZGF0YSx2PXcuZXJyb3IsYz0hdikpOih2PU4sKGV8fCFOKSYmKE49ImVycm9yIiwwPmUmJihlPTApKSksQy5zdGF0dXM9ZSxDLnN0YXR1c1RleHQ9KG58fE4pKyIiLGM/aC5yZXNvbHZlV2l0aChmLFt5LE4sQ10pOmgucmVqZWN0V2l0aChmLFtDLE4sdl0pLEMuc3RhdHVzQ29kZShtKSxtPXQsbCYmZC50cmlnZ2VyKGM/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbQyxwLGM/eTp2XSksZy5maXJlV2l0aChmLFtDLE5dKSxsJiYoZC50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtDLHBdKSwtLXguYWN0aXZlfHx4LmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gQ30sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHguZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLG4pe3JldHVybiB4LmdldChlLHQsbiwic2NyaXB0Iil9fSkseC5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKGUsbil7eFtuXT1mdW5jdGlvbihlLHIsaSxvKXtyZXR1cm4geC5pc0Z1bmN0aW9uKHIpJiYobz1vfHxpLGk9cixyPXQpLHguYWpheCh7dXJsOmUsdHlwZTpuLGRhdGFUeXBlOm8sZGF0YTpyLHN1Y2Nlc3M6aX0pfX0pO2Z1bmN0aW9uIE1uKGUsbixyKXt2YXIgaSxvLGEscyxsPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSxvPT09dCYmKG89ZS5taW1lVHlwZXx8bi5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKG8pZm9yKHMgaW4gbClpZihsW3NdJiZsW3NdLnRlc3Qobykpe3UudW5zaGlmdChzKTticmVha31pZih1WzBdaW4gcilhPXVbMF07ZWxzZXtmb3IocyBpbiByKXtpZighdVswXXx8ZS5jb252ZXJ0ZXJzW3MrIiAiK3VbMF1dKXthPXM7YnJlYWt9aXx8KGk9cyl9YT1hfHxpfXJldHVybiBhPyhhIT09dVswXSYmdS51bnNoaWZ0KGEpLHJbYV0pOnR9ZnVuY3Rpb24gT24oZSx0LG4scil7dmFyIGksbyxhLHMsbCx1PXt9LGM9ZS5kYXRhVHlwZXMuc2xpY2UoKTtpZihjWzFdKWZvcihhIGluIGUuY29udmVydGVycyl1W2EudG9Mb3dlckNhc2UoKV09ZS5jb252ZXJ0ZXJzW2FdO289Yy5zaGlmdCgpO3doaWxlKG8paWYoZS5yZXNwb25zZUZpZWxkc1tvXSYmKG5bZS5yZXNwb25zZUZpZWxkc1tvXV09dCksIWwmJnImJmUuZGF0YUZpbHRlciYmKHQ9ZS5kYXRhRmlsdGVyKHQsZS5kYXRhVHlwZSkpLGw9byxvPWMuc2hpZnQoKSlpZigiKiI9PT1vKW89bDtlbHNlIGlmKCIqIiE9PWwmJmwhPT1vKXtpZihhPXVbbCsiICIrb118fHVbIiogIitvXSwhYSlmb3IoaSBpbiB1KWlmKHM9aS5zcGxpdCgiICIpLHNbMV09PT1vJiYoYT11W2wrIiAiK3NbMF1dfHx1WyIqICIrc1swXV0pKXthPT09ITA/YT11W2ldOnVbaV0hPT0hMCYmKG89c1swXSxjLnVuc2hpZnQoc1sxXSkpO2JyZWFrfWlmKGEhPT0hMClpZihhJiZlWyJ0aHJvd3MiXSl0PWEodCk7ZWxzZSB0cnl7dD1hKHQpfWNhdGNoKHApe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmE/cDoiTm8gY29udmVyc2lvbiBmcm9tICIrbCsiIHRvICIrb319fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTp0fX14LmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGUpe3JldHVybiB4Lmdsb2JhbEV2YWwoZSksZX19fSkseC5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGUpe2UuY2FjaGU9PT10JiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIixlLmdsb2JhbD0hMSl9KSx4LmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oZSl7aWYoZS5jcm9zc0RvbWFpbil7dmFyIG4scj1hLmhlYWR8fHgoImhlYWQiKVswXXx8YS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24odCxpKXtuPWEuY3JlYXRlRWxlbWVudCgic2NyaXB0Iiksbi5hc3luYz0hMCxlLnNjcmlwdENoYXJzZXQmJihuLmNoYXJzZXQ9ZS5zY3JpcHRDaGFyc2V0KSxuLnNyYz1lLnVybCxuLm9ubG9hZD1uLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihlLHQpeyh0fHwhbi5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KG4ucmVhZHlTdGF0ZSkpJiYobi5vbmxvYWQ9bi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxuPW51bGwsdHx8aSgyMDAsInN1Y2Nlc3MiKSl9LHIuaW5zZXJ0QmVmb3JlKG4sci5maXJzdENoaWxkKX0sYWJvcnQ6ZnVuY3Rpb24oKXtuJiZuLm9ubG9hZCh0LCEwKX19fX0pO3ZhciBGbj1bXSxCbj0vKD0pXD8oPz0mfCQpfFw/XD8vO3guYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT1Gbi5wb3AoKXx8eC5leHBhbmRvKyJfIit2bisrO3JldHVybiB0aGlzW2VdPSEwLGV9fSkseC5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihuLHIsaSl7dmFyIG8sYSxzLGw9bi5qc29ucCE9PSExJiYoQm4udGVzdChuLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBuLmRhdGEmJiEobi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZCbi50ZXN0KG4uZGF0YSkmJiJkYXRhIik7cmV0dXJuIGx8fCJqc29ucCI9PT1uLmRhdGFUeXBlc1swXT8obz1uLmpzb25wQ2FsbGJhY2s9eC5pc0Z1bmN0aW9uKG4uanNvbnBDYWxsYmFjayk/bi5qc29ucENhbGxiYWNrKCk6bi5qc29ucENhbGxiYWNrLGw/bltsXT1uW2xdLnJlcGxhY2UoQm4sIiQxIitvKTpuLmpzb25wIT09ITEmJihuLnVybCs9KGJuLnRlc3Qobi51cmwpPyImIjoiPyIpK24uanNvbnArIj0iK28pLG4uY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBzfHx4LmVycm9yKG8rIiB3YXMgbm90IGNhbGxlZCIpLHNbMF19LG4uZGF0YVR5cGVzWzBdPSJqc29uIixhPWVbb10sZVtvXT1mdW5jdGlvbigpe3M9YXJndW1lbnRzfSxpLmFsd2F5cyhmdW5jdGlvbigpe2Vbb109YSxuW29dJiYobi5qc29ucENhbGxiYWNrPXIuanNvbnBDYWxsYmFjayxGbi5wdXNoKG8pKSxzJiZ4LmlzRnVuY3Rpb24oYSkmJmEoc1swXSkscz1hPXR9KSwic2NyaXB0Iik6dH0pO3ZhciBQbixSbixXbj0wLCRuPWUuQWN0aXZlWE9iamVjdCYmZnVuY3Rpb24oKXt2YXIgZTtmb3IoZSBpbiBQbilQbltlXSh0LCEwKX07ZnVuY3Rpb24gSW4oKXt0cnl7cmV0dXJuIG5ldyBlLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKHQpe319ZnVuY3Rpb24gem4oKXt0cnl7cmV0dXJuIG5ldyBlLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9Y2F0Y2godCl7fX14LmFqYXhTZXR0aW5ncy54aHI9ZS5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNMb2NhbCYmSW4oKXx8em4oKX06SW4sUm49eC5hamF4U2V0dGluZ3MueGhyKCkseC5zdXBwb3J0LmNvcnM9ISFSbiYmIndpdGhDcmVkZW50aWFscyJpbiBSbixSbj14LnN1cHBvcnQuYWpheD0hIVJuLFJuJiZ4LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24obil7aWYoIW4uY3Jvc3NEb21haW58fHguc3VwcG9ydC5jb3JzKXt2YXIgcjtyZXR1cm57c2VuZDpmdW5jdGlvbihpLG8pe3ZhciBhLHMsbD1uLnhocigpO2lmKG4udXNlcm5hbWU/bC5vcGVuKG4udHlwZSxuLnVybCxuLmFzeW5jLG4udXNlcm5hbWUsbi5wYXNzd29yZCk6bC5vcGVuKG4udHlwZSxuLnVybCxuLmFzeW5jKSxuLnhockZpZWxkcylmb3IocyBpbiBuLnhockZpZWxkcylsW3NdPW4ueGhyRmllbGRzW3NdO24ubWltZVR5cGUmJmwub3ZlcnJpZGVNaW1lVHlwZSYmbC5vdmVycmlkZU1pbWVUeXBlKG4ubWltZVR5cGUpLG4uY3Jvc3NEb21haW58fGlbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGlbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTt0cnl7Zm9yKHMgaW4gaSlsLnNldFJlcXVlc3RIZWFkZXIocyxpW3NdKX1jYXRjaCh1KXt9bC5zZW5kKG4uaGFzQ29udGVudCYmbi5kYXRhfHxudWxsKSxyPWZ1bmN0aW9uKGUsaSl7dmFyIHMsdSxjLHA7dHJ5e2lmKHImJihpfHw0PT09bC5yZWFkeVN0YXRlKSlpZihyPXQsYSYmKGwub25yZWFkeXN0YXRlY2hhbmdlPXgubm9vcCwkbiYmZGVsZXRlIFBuW2FdKSxpKTQhPT1sLnJlYWR5U3RhdGUmJmwuYWJvcnQoKTtlbHNle3A9e30scz1sLnN0YXR1cyx1PWwuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksInN0cmluZyI9PXR5cGVvZiBsLnJlc3BvbnNlVGV4dCYmKHAudGV4dD1sLnJlc3BvbnNlVGV4dCk7dHJ5e2M9bC5zdGF0dXNUZXh0fWNhdGNoKGYpe2M9IiJ9c3x8IW4uaXNMb2NhbHx8bi5jcm9zc0RvbWFpbj8xMjIzPT09cyYmKHM9MjA0KTpzPXAudGV4dD8yMDA6NDA0fX1jYXRjaChkKXtpfHxvKC0xLGQpfXAmJm8ocyxjLHAsdSl9LG4uYXN5bmM/ND09PWwucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KHIpOihhPSsrV24sJG4mJihQbnx8KFBuPXt9LHgoZSkudW5sb2FkKCRuKSksUG5bYV09ciksbC5vbnJlYWR5c3RhdGVjaGFuZ2U9cik6cigpfSxhYm9ydDpmdW5jdGlvbigpe3ImJnIodCwhMCl9fX19KTt2YXIgWG4sVW4sVm49L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFluPVJlZ0V4cCgiXig/OihbKy1dKT18KSgiK3crIikoW2EteiVdKikkIiwiaSIpLEpuPS9xdWV1ZUhvb2tzJC8sR249W25yXSxRbj17IioiOltmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3JlYXRlVHdlZW4oZSx0KSxyPW4uY3VyKCksaT1Zbi5leGVjKHQpLG89aSYmaVszXXx8KHguY3NzTnVtYmVyW2VdPyIiOiJweCIpLGE9KHguY3NzTnVtYmVyW2VdfHwicHgiIT09byYmK3IpJiZZbi5leGVjKHguY3NzKG4uZWxlbSxlKSkscz0xLGw9MjA7aWYoYSYmYVszXSE9PW8pe289b3x8YVszXSxpPWl8fFtdLGE9K3J8fDE7ZG8gcz1zfHwiLjUiLGEvPXMseC5zdHlsZShuLmVsZW0sZSxhK28pO3doaWxlKHMhPT0ocz1uLmN1cigpL3IpJiYxIT09cyYmLS1sKX1yZXR1cm4gaSYmKGE9bi5zdGFydD0rYXx8K3J8fDAsbi51bml0PW8sbi5lbmQ9aVsxXT9hKyhpWzFdKzEpKmlbMl06K2lbMl0pLG59XX07ZnVuY3Rpb24gS24oKXtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe1huPXR9KSxYbj14Lm5vdygpfWZ1bmN0aW9uIFpuKGUsdCxuKXt2YXIgcixpPShRblt0XXx8W10pLmNvbmNhdChRblsiKiJdKSxvPTAsYT1pLmxlbmd0aDtmb3IoO2E+bztvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGVyKGUsdCxuKXt2YXIgcixpLG89MCxhPUduLmxlbmd0aCxzPXguRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgbC5lbGVtfSksbD1mdW5jdGlvbigpe2lmKGkpcmV0dXJuITE7dmFyIHQ9WG58fEtuKCksbj1NYXRoLm1heCgwLHUuc3RhcnRUaW1lK3UuZHVyYXRpb24tdCkscj1uL3UuZHVyYXRpb258fDAsbz0xLXIsYT0wLGw9dS50d2VlbnMubGVuZ3RoO2Zvcig7bD5hO2ErKyl1LnR3ZWVuc1thXS5ydW4obyk7cmV0dXJuIHMubm90aWZ5V2l0aChlLFt1LG8sbl0pLDE+byYmbD9uOihzLnJlc29sdmVXaXRoKGUsW3VdKSwhMSl9LHU9cy5wcm9taXNlKHtlbGVtOmUscHJvcHM6eC5leHRlbmQoe30sdCksb3B0czp4LmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fX0sbiksb3JpZ2luYWxQcm9wZXJ0aWVzOnQsb3JpZ2luYWxPcHRpb25zOm4sc3RhcnRUaW1lOlhufHxLbigpLGR1cmF0aW9uOm4uZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKHQsbil7dmFyIHI9eC5Ud2VlbihlLHUub3B0cyx0LG4sdS5vcHRzLnNwZWNpYWxFYXNpbmdbdF18fHUub3B0cy5lYXNpbmcpO3JldHVybiB1LnR3ZWVucy5wdXNoKHIpLHJ9LHN0b3A6ZnVuY3Rpb24odCl7dmFyIG49MCxyPXQ/dS50d2VlbnMubGVuZ3RoOjA7aWYoaSlyZXR1cm4gdGhpcztmb3IoaT0hMDtyPm47bisrKXUudHdlZW5zW25dLnJ1bigxKTtyZXR1cm4gdD9zLnJlc29sdmVXaXRoKGUsW3UsdF0pOnMucmVqZWN0V2l0aChlLFt1LHRdKSx0aGlzfX0pLGM9dS5wcm9wcztmb3IodHIoYyx1Lm9wdHMuc3BlY2lhbEVhc2luZyk7YT5vO28rKylpZihyPUduW29dLmNhbGwodSxlLGMsdS5vcHRzKSlyZXR1cm4gcjtyZXR1cm4geC5tYXAoYyxabix1KSx4LmlzRnVuY3Rpb24odS5vcHRzLnN0YXJ0KSYmdS5vcHRzLnN0YXJ0LmNhbGwoZSx1KSx4LmZ4LnRpbWVyKHguZXh0ZW5kKGwse2VsZW06ZSxhbmltOnUscXVldWU6dS5vcHRzLnF1ZXVlfSkpLHUucHJvZ3Jlc3ModS5vcHRzLnByb2dyZXNzKS5kb25lKHUub3B0cy5kb25lLHUub3B0cy5jb21wbGV0ZSkuZmFpbCh1Lm9wdHMuZmFpbCkuYWx3YXlzKHUub3B0cy5hbHdheXMpfWZ1bmN0aW9uIHRyKGUsdCl7dmFyIG4scixpLG8sYTtmb3IobiBpbiBlKWlmKHI9eC5jYW1lbENhc2UobiksaT10W3JdLG89ZVtuXSx4LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSxhPXguY3NzSG9va3Nbcl0sYSYmImV4cGFuZCJpbiBhKXtvPWEuZXhwYW5kKG8pLGRlbGV0ZSBlW3JdO2ZvcihuIGluIG8pbiBpbiBlfHwoZVtuXT1vW25dLHRbbl09aSl9ZWxzZSB0W3JdPWl9eC5BbmltYXRpb249eC5leHRlbmQoZXIse3R3ZWVuZXI6ZnVuY3Rpb24oZSx0KXt4LmlzRnVuY3Rpb24oZSk/KHQ9ZSxlPVsiKiJdKTplPWUuc3BsaXQoIiAiKTt2YXIgbixyPTAsaT1lLmxlbmd0aDtmb3IoO2k+cjtyKyspbj1lW3JdLFFuW25dPVFuW25dfHxbXSxRbltuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt0P0duLnVuc2hpZnQoZSk6R24ucHVzaChlKX19KTtmdW5jdGlvbiBucihlLHQsbil7dmFyIHIsaSxvLGEscyxsLHU9dGhpcyxjPXt9LHA9ZS5zdHlsZSxmPWUubm9kZVR5cGUmJm5uKGUpLGQ9eC5fZGF0YShlLCJmeHNob3ciKTtuLnF1ZXVlfHwocz14Ll9xdWV1ZUhvb2tzKGUsImZ4IiksbnVsbD09cy51bnF1ZXVlZCYmKHMudW5xdWV1ZWQ9MCxsPXMuZW1wdHkuZmlyZSxzLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtzLnVucXVldWVkfHxsKCl9KSxzLnVucXVldWVkKyssdS5hbHdheXMoZnVuY3Rpb24oKXt1LmFsd2F5cyhmdW5jdGlvbigpe3MudW5xdWV1ZWQtLSx4LnF1ZXVlKGUsImZ4IikubGVuZ3RofHxzLmVtcHR5LmZpcmUoKX0pfSkpLDE9PT1lLm5vZGVUeXBlJiYoImhlaWdodCJpbiB0fHwid2lkdGgiaW4gdCkmJihuLm92ZXJmbG93PVtwLm92ZXJmbG93LHAub3ZlcmZsb3dYLHAub3ZlcmZsb3dZXSwiaW5saW5lIj09PXguY3NzKGUsImRpc3BsYXkiKSYmIm5vbmUiPT09eC5jc3MoZSwiZmxvYXQiKSYmKHguc3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0JiYiaW5saW5lIiE9PWxuKGUubm9kZU5hbWUpP3Auem9vbT0xOnAuZGlzcGxheT0iaW5saW5lLWJsb2NrIikpLG4ub3ZlcmZsb3cmJihwLm92ZXJmbG93PSJoaWRkZW4iLHguc3VwcG9ydC5zaHJpbmtXcmFwQmxvY2tzfHx1LmFsd2F5cyhmdW5jdGlvbigpe3Aub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxwLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLHAub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSk7Zm9yKHIgaW4gdClpZihpPXRbcl0sVm4uZXhlYyhpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShmPyJoaWRlIjoic2hvdyIpKWNvbnRpbnVlO2Nbcl09ZCYmZFtyXXx8eC5zdHlsZShlLHIpfWlmKCF4LmlzRW1wdHlPYmplY3QoYykpe2Q/ImhpZGRlbiJpbiBkJiYoZj1kLmhpZGRlbik6ZD14Ll9kYXRhKGUsImZ4c2hvdyIse30pLG8mJihkLmhpZGRlbj0hZiksZj94KGUpLnNob3coKTp1LmRvbmUoZnVuY3Rpb24oKXt4KGUpLmhpZGUoKX0pLHUuZG9uZShmdW5jdGlvbigpe3ZhciB0O3guX3JlbW92ZURhdGEoZSwiZnhzaG93Iik7Zm9yKHQgaW4gYyl4LnN0eWxlKGUsdCxjW3RdKX0pO2ZvcihyIGluIGMpYT1abihmP2Rbcl06MCxyLHUpLHIgaW4gZHx8KGRbcl09YS5zdGFydCxmJiYoYS5lbmQ9YS5zdGFydCxhLnN0YXJ0PSJ3aWR0aCI9PT1yfHwiaGVpZ2h0Ij09PXI/MTowKSl9fWZ1bmN0aW9uIHJyKGUsdCxuLHIsaSl7cmV0dXJuIG5ldyByci5wcm90b3R5cGUuaW5pdChlLHQsbixyLGkpfXguVHdlZW49cnIscnIucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjpycixpbml0OmZ1bmN0aW9uKGUsdCxuLHIsaSxvKXt0aGlzLmVsZW09ZSx0aGlzLnByb3A9bix0aGlzLmVhc2luZz1pfHwic3dpbmciLHRoaXMub3B0aW9ucz10LHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1yLHRoaXMudW5pdD1vfHwoeC5jc3NOdW1iZXJbbl0/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBlPXJyLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBlJiZlLmdldD9lLmdldCh0aGlzKTpyci5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oZSl7dmFyIHQsbj1yci5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9dD10aGlzLm9wdGlvbnMuZHVyYXRpb24/eC5lYXNpbmdbdGhpcy5lYXNpbmddKGUsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmUsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6ZSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqdCt0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxuJiZuLnNldD9uLnNldCh0aGlzKTpyci5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxyci5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9cnIucHJvdG90eXBlLHJyLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbnVsbD09ZS5lbGVtW2UucHJvcF18fGUuZWxlbS5zdHlsZSYmbnVsbCE9ZS5lbGVtLnN0eWxlW2UucHJvcF0/KHQ9eC5jc3MoZS5lbGVtLGUucHJvcCwiIiksdCYmImF1dG8iIT09dD90OjApOmUuZWxlbVtlLnByb3BdfSxzZXQ6ZnVuY3Rpb24oZSl7eC5meC5zdGVwW2UucHJvcF0/eC5meC5zdGVwW2UucHJvcF0oZSk6ZS5lbGVtLnN0eWxlJiYobnVsbCE9ZS5lbGVtLnN0eWxlW3guY3NzUHJvcHNbZS5wcm9wXV18fHguY3NzSG9va3NbZS5wcm9wXSk/eC5zdHlsZShlLmVsZW0sZS5wcm9wLGUubm93K2UudW5pdCk6ZS5lbGVtW2UucHJvcF09ZS5ub3d9fX0scnIucHJvcEhvb2tzLnNjcm9sbFRvcD1yci5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGUpe2UuZWxlbS5ub2RlVHlwZSYmZS5lbGVtLnBhcmVudE5vZGUmJihlLmVsZW1bZS5wcm9wXT1lLm5vdyl9fSx4LmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIG49eC5mblt0XTt4LmZuW3RdPWZ1bmN0aW9uKGUscixpKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoaXIodCwhMCksZSxyLGkpfX0pLHguZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKG5uKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT14LmlzRW1wdHlPYmplY3QoZSksbz14LnNwZWVkKHQsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIHQ9ZXIodGhpcyx4LmV4dGVuZCh7fSxlKSxvKTsoaXx8eC5fZGF0YSh0aGlzLCJmaW5pc2giKSkmJnQuc3RvcCghMCl9O3JldHVybiBhLmZpbmlzaD1hLGl8fG8ucXVldWU9PT0hMT90aGlzLmVhY2goYSk6dGhpcy5xdWV1ZShvLnF1ZXVlLGEpfSxzdG9wOmZ1bmN0aW9uKGUsbixyKXt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1lLnN0b3A7ZGVsZXRlIGUuc3RvcCx0KHIpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGUmJihyPW4sbj1lLGU9dCksbiYmZSE9PSExJiZ0aGlzLnF1ZXVlKGV8fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PSEwLG49bnVsbCE9ZSYmZSsicXVldWVIb29rcyIsbz14LnRpbWVycyxhPXguX2RhdGEodGhpcyk7aWYobilhW25dJiZhW25dLnN0b3AmJmkoYVtuXSk7ZWxzZSBmb3IobiBpbiBhKWFbbl0mJmFbbl0uc3RvcCYmSm4udGVzdChuKSYmaShhW25dKTtmb3Iobj1vLmxlbmd0aDtuLS07KW9bbl0uZWxlbSE9PXRoaXN8fG51bGwhPWUmJm9bbl0ucXVldWUhPT1lfHwob1tuXS5hbmltLnN0b3AociksdD0hMSxvLnNwbGljZShuLDEpKTsodHx8IXIpJiZ4LmRlcXVldWUodGhpcyxlKX0pfSxmaW5pc2g6ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT0hMSYmKGU9ZXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbj14Ll9kYXRhKHRoaXMpLHI9bltlKyJxdWV1ZSJdLGk9bltlKyJxdWV1ZUhvb2tzIl0sbz14LnRpbWVycyxhPXI/ci5sZW5ndGg6MDtmb3Iobi5maW5pc2g9ITAseC5xdWV1ZSh0aGlzLGUsW10pLGkmJmkuc3RvcCYmaS5zdG9wLmNhbGwodGhpcywhMCksdD1vLmxlbmd0aDt0LS07KW9bdF0uZWxlbT09PXRoaXMmJm9bdF0ucXVldWU9PT1lJiYob1t0XS5hbmltLnN0b3AoITApLG8uc3BsaWNlKHQsMSkpO2Zvcih0PTA7YT50O3QrKylyW3RdJiZyW3RdLmZpbmlzaCYmclt0XS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgbi5maW5pc2h9KX19KTtmdW5jdGlvbiBpcihlLHQpe3ZhciBuLHI9e2hlaWdodDplfSxpPTA7Zm9yKHQ9dD8xOjA7ND5pO2krPTItdCluPVp0W2ldLHJbIm1hcmdpbiIrbl09clsicGFkZGluZyIrbl09ZTtyZXR1cm4gdCYmKHIub3BhY2l0eT1yLndpZHRoPWUpLHJ9eC5lYWNoKHtzbGlkZURvd246aXIoInNob3ciKSxzbGlkZVVwOmlyKCJoaWRlIiksc2xpZGVUb2dnbGU6aXIoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oZSx0KXt4LmZuW2VdPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQsZSxuLHIpfX0pLHguc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT94LmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fHguaXNGdW5jdGlvbihlKSYmZSxkdXJhdGlvbjplLGVhc2luZzpuJiZ0fHx0JiYheC5pc0Z1bmN0aW9uKHQpJiZ0fTtyZXR1cm4gci5kdXJhdGlvbj14LmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2Ygci5kdXJhdGlvbj9yLmR1cmF0aW9uOnIuZHVyYXRpb24gaW4geC5meC5zcGVlZHM/eC5meC5zcGVlZHNbci5kdXJhdGlvbl06eC5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PXIucXVldWV8fHIucXVldWU9PT0hMCkmJihyLnF1ZXVlPSJmeCIpLHIub2xkPXIuY29tcGxldGUsci5jb21wbGV0ZT1mdW5jdGlvbigpe3guaXNGdW5jdGlvbihyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmeC5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LHguZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn19LHgudGltZXJzPVtdLHguZng9cnIucHJvdG90eXBlLmluaXQseC5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsbj14LnRpbWVycyxyPTA7Zm9yKFhuPXgubm93KCk7bi5sZW5ndGg+cjtyKyspZT1uW3JdLGUoKXx8bltyXSE9PWV8fG4uc3BsaWNlKHItLSwxKTtuLmxlbmd0aHx8eC5meC5zdG9wKCksWG49dH0seC5meC50aW1lcj1mdW5jdGlvbihlKXtlKCkmJngudGltZXJzLnB1c2goZSkmJnguZnguc3RhcnQoKX0seC5meC5pbnRlcnZhbD0xMyx4LmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7VW58fChVbj1zZXRJbnRlcnZhbCh4LmZ4LnRpY2sseC5meC5pbnRlcnZhbCkpfSx4LmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKFVuKSxVbj1udWxsfSx4LmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSx4LmZ4LnN0ZXA9e30seC5leHByJiZ4LmV4cHIuZmlsdGVycyYmKHguZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB4LmdyZXAoeC50aW1lcnMsZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10LmVsZW19KS5sZW5ndGh9KSx4LmZuLm9mZnNldD1mdW5jdGlvbihlKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBlPT09dD90aGlzOnRoaXMuZWFjaChmdW5jdGlvbih0KXt4Lm9mZnNldC5zZXRPZmZzZXQodGhpcyxlLHQpfSk7dmFyIG4scixvPXt0b3A6MCxsZWZ0OjB9LGE9dGhpc1swXSxzPWEmJmEub3duZXJEb2N1bWVudDtpZihzKXJldHVybiBuPXMuZG9jdW1lbnRFbGVtZW50LHguY29udGFpbnMobixhKT8odHlwZW9mIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0IT09aSYmKG89YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkscj1vcihzKSx7dG9wOm8udG9wKyhyLnBhZ2VZT2Zmc2V0fHxuLnNjcm9sbFRvcCktKG4uY2xpZW50VG9wfHwwKSxsZWZ0Om8ubGVmdCsoci5wYWdlWE9mZnNldHx8bi5zY3JvbGxMZWZ0KS0obi5jbGllbnRMZWZ0fHwwKX0pOm99LHgub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXguY3NzKGUsInBvc2l0aW9uIik7InN0YXRpYyI9PT1yJiYoZS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTt2YXIgaT14KGUpLG89aS5vZmZzZXQoKSxhPXguY3NzKGUsInRvcCIpLHM9eC5jc3MoZSwibGVmdCIpLGw9KCJhYnNvbHV0ZSI9PT1yfHwiZml4ZWQiPT09cikmJnguaW5BcnJheSgiYXV0byIsW2Esc10pPi0xLHU9e30sYz17fSxwLGY7bD8oYz1pLnBvc2l0aW9uKCkscD1jLnRvcCxmPWMubGVmdCk6KHA9cGFyc2VGbG9hdChhKXx8MCxmPXBhcnNlRmxvYXQocyl8fDApLHguaXNGdW5jdGlvbih0KSYmKHQ9dC5jYWxsKGUsbixvKSksbnVsbCE9dC50b3AmJih1LnRvcD10LnRvcC1vLnRvcCtwKSxudWxsIT10LmxlZnQmJih1LmxlZnQ9dC5sZWZ0LW8ubGVmdCtmKSwidXNpbmciaW4gdD90LnVzaW5nLmNhbGwoZSx1KTppLmNzcyh1KX19LHguZm4uZXh0ZW5kKHtwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBlLHQsbj17dG9wOjAsbGVmdDowfSxyPXRoaXNbMF07cmV0dXJuImZpeGVkIj09PXguY3NzKHIsInBvc2l0aW9uIik/dD1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihlPXRoaXMub2Zmc2V0UGFyZW50KCksdD10aGlzLm9mZnNldCgpLHgubm9kZU5hbWUoZVswXSwiaHRtbCIpfHwobj1lLm9mZnNldCgpKSxuLnRvcCs9eC5jc3MoZVswXSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxuLmxlZnQrPXguY3NzKGVbMF0sImJvcmRlckxlZnRXaWR0aCIsITApKSx7dG9wOnQudG9wLW4udG9wLXguY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LW4ubGVmdC14LmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnR8fHM7d2hpbGUoZSYmIXgubm9kZU5hbWUoZSwiaHRtbCIpJiYic3RhdGljIj09PXguY3NzKGUsInBvc2l0aW9uIikpZT1lLm9mZnNldFBhcmVudDtyZXR1cm4gZXx8c30pfX0pLHguZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihlLG4pe3ZhciByPS9ZLy50ZXN0KG4pO3guZm5bZV09ZnVuY3Rpb24oaSl7cmV0dXJuIHguYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSxpLG8pe3ZhciBhPW9yKGUpO3JldHVybiBvPT09dD9hP24gaW4gYT9hW25dOmEuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W2ldOmVbaV06KGE/YS5zY3JvbGxUbyhyP3goYSkuc2Nyb2xsTGVmdCgpOm8scj9vOngoYSkuc2Nyb2xsVG9wKCkpOmVbaV09byx0KX0sZSxpLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSk7ZnVuY3Rpb24gb3IoZSl7cmV0dXJuIHguaXNXaW5kb3coZSk/ZTo5PT09ZS5ub2RlVHlwZT9lLmRlZmF1bHRWaWV3fHxlLnBhcmVudFdpbmRvdzohMX14LmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihlLG4pe3guZWFjaCh7cGFkZGluZzoiaW5uZXIiK2UsY29udGVudDpuLCIiOiJvdXRlciIrZX0sZnVuY3Rpb24ocixpKXt4LmZuW2ldPWZ1bmN0aW9uKGksbyl7dmFyIGE9YXJndW1lbnRzLmxlbmd0aCYmKHJ8fCJib29sZWFuIiE9dHlwZW9mIGkpLHM9cnx8KGk9PT0hMHx8bz09PSEwPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4geC5hY2Nlc3ModGhpcyxmdW5jdGlvbihuLHIsaSl7dmFyIG87cmV0dXJuIHguaXNXaW5kb3cobik/bi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrZV06OT09PW4ubm9kZVR5cGU/KG89bi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgobi5ib2R5WyJzY3JvbGwiK2VdLG9bInNjcm9sbCIrZV0sbi5ib2R5WyJvZmZzZXQiK2VdLG9bIm9mZnNldCIrZV0sb1siY2xpZW50IitlXSkpOmk9PT10P3guY3NzKG4scixzKTp4LnN0eWxlKG4scixpLHMpfSxuLGE/aTp0LGEsbnVsbCl9fSl9KSx4LmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LHguZm4uYW5kU2VsZj14LmZuLmFkZEJhY2ssIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz14OihlLmpRdWVyeT1lLiQ9eCwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4geH0pKX0pKHdpbmRvdyk7Cg=="}]},{"name":"Wanikani Lightning Mode","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["https://www.wanikani.com/review/session*","https://www.wanikani.com/lesson/session*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1588771078153,"data":{}},"enabled":true,"position":7,"file_url":"https://greasyfork.org/scripts/12853-wanikani-lightning-mode/code/Wanikani%20Lightning%20Mode.user.js","uuid":"c13061c9-6592-4c5c-b611-38e42e0e8042","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIFdhbmlrYW5pIExpZ2h0bmluZyBNb2RlCi8vIEBuYW1lc3BhY2UgICB3a2xpZ2h0bmluZwovLyBAZGVzY3JpcHRpb24gRWxpbWluYXRlcyBzZWNvbmQgRW50ZXIgb3IgQ2xpY2sgZm9yIGNvcnJlY3QgcmV2aWV3IGFuc3dlcnMuCi8vIEBpbmNsdWRlICAgICBodHRwczovL3d3dy53YW5pa2FuaS5jb20vcmV2aWV3L3Nlc3Npb24qCi8vIEBpbmNsdWRlICAgICBodHRwczovL3d3dy53YW5pa2FuaS5jb20vbGVzc29uL3Nlc3Npb24qCi8vIEB2ZXJzaW9uICAgICAxLjAuOQovLyBAYXV0aG9yICAgICAgUm9iaW4gRmluZGxleQovLyBAY29weXJpZ2h0ICAgMjAxOCssIFJvYmluIEZpbmRsZXkKLy8gQGxpY2Vuc2UgICAgIE1JVDsgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVAovLyBAcnVuLWF0ICAgICAgZG9jdW1lbnQtZW5kCi8vIEBncmFudCAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKLy89PVsgSGlzdG9yeSBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIDEuMC44IC0gRml4ZWQgaXNzdWUgd2l0aCBwcm9jZWVkaW5nIGF0IGVuZCBvZiBsZXNzb24gZ3JvdXAuCi8vIDEuMC41IC0gQWRkZWQgc3VwcG9ydCBmb3IgbGVzc29ucy4KLy8gMS4wLjQgLSBBZGRlZCBvcHRpb24gdG8gc2hvdyBpdGVtIGluZm8gd2hlbiBzbGlnaHRseSBvZmYgb3IgbXVsdGktYW5zd2VyLgovLyAxLjAuMyAtIEZpeCB0byByZXN0b3JlIFNSUyBzdGF0dXMgcG9wdXAuICBUaGFua3MgdG8gQGNjb29rZiBjb250cmlidXRpb25zIQovLyAxLjAuMiAtIEVuYWJsZSBsaWdodG5pbmcgbW9kZSBieSBkZWZhdWx0IGZvciBuZXcgaW5zdGFsbHMuCi8vIDEuMC4xIC0gQWRkZWQgb3B0aW9uIHRvIG5vdCBhdXRvLWFkdmFuY2UgaWYgYW5zd2VyIGlzIHNsaWdodGx5IG9mZi4KLy8gICAgICAgICBBZGRlZCBvcHRpb24gdG8gbm90IGF1dG8tYWR2YW5jZSBpZiBpdGVtIGhhcyBtdWx0aXBsZSBhbnN3ZXJzLgovLyAxLjAuMCAtIEluaXRpYWwgcmVsZWFzZS4KLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgovLz09WyBTZXR0aW5ncyBdPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KLy8gVGhlIGZvbGxvd2luZyBzY3JpcHQgY29uZmlndXJhdGlvbiB2YXJpYWJsZXMgYXJlIGF2YWlsYWJsZS4gIFlvdQovLyBjYW4gZW5hYmxlIHRoZW0gYnkgcGFzdGluZyB0aGUgY29ycmVzcG9uZGluZyBsaW5lIGluIHRoZSBqYXZhc2NyaXB0Ci8vIGNvbnNvbGUgKHByZXNzIEYxMiBpbiBtb3N0IGJyb3dzZXJzIHRvIG9wZW4gdGhlIGNvbnNvbGUpLCBvciBieQovLyByZW1vdmluZyB0aGUgIi8vIiBiZWZvcmUgdGhlIGNvcnJlc3BvbmRpbmcgImxvY2FsU3RvcmFnZSIgbGluZQovLyBiZWxvdy4gIFRoZSBzZXR0aW5nIHdpbGwgYmUgc2F2ZWQgaW4gc3RvcmFnZS4KLy8gVG8gcmVtb3ZlIGEgc2V0dGluZyBmcm9tIHN0b3JhZ2UsIGVudGVyIHRoZSBmb2xsb3dpbmcgbGluZSBpbiB0aGUKLy8gamF2YXNjcmlwdCBjb25zb2xlLCB3aXRoIGNvcnJlc3BvbmRpbmcgc2V0dGluZyBuYW1lIHJlcGxhY2VkOgovLyAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2Uud2tkcHBfc2V0dGluZ19uYW1lOwovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KLy8KLy8gSGFsdCBpZiBhbnN3ZXIgaXMgc2xpZ2h0bHkgb2ZmLgovLyAgIGxvY2FsU3RvcmFnZS53a2xpZ2h0bmluZ19oYWx0X3NsaWdodGx5X29mZiA9IDE7Ci8vCi8vIEhhbHQgaWYgYW5zd2VyIGhhcyBtdWx0aXBsZSBtZWFuaW5ncy4KLy8gICBsb2NhbFN0b3JhZ2Uud2tsaWdodG5pbmdfaGFsdF9tdWx0aXBsZSA9IDE7Ci8vCi8vIE9wZW4gaXRlbSBpbmZvIHdoZW4gaGFsdGluZyBmb3IgInNsaWdodGx5IG9mZiIgb3IgIm11bHRpcGxlIG1lYW5pbmdzIi4KLy8gICBsb2NhbFN0b3JhZ2Uud2tsaWdodG5pbmdfaW5mb19vbl9oYWx0ID0gMTsKLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cgp3a2xpZ2h0bmluZyA9IHt9OwoKKGZ1bmN0aW9uKGdvYmopewoKICAgIHZhciBsaWdodG5pbmcgPSBmYWxzZTsKICAgIHZhciBvYnNlcnZlcjsKICAgIHZhciBpZ25vcmU7CgogICAgZnVuY3Rpb24gYWRkU3R5bGUoY3NzKSB7CiAgICAgICAgdmFyIGhlYWQsIHN0eWxlOwogICAgICAgIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdOwogICAgICAgIGlmIChoZWFkKSB7CiAgICAgICAgICAgIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvY3NzJyk7CiAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gY3NzOwogICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKICAgICAgICAgICAgcmV0dXJuIHN0eWxlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIFByb2Nlc3Mgc3RvcmVkIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIHByb2Nlc3Nfc2V0dGluZ3MoKSB7CiAgICAgICAgZnVuY3Rpb24gdmFsdWVfb3JfZGVmYXVsdCh2YWx1ZSwgZGZsdCkge3JldHVybiAodmFsdWU9PT11bmRlZmluZWQgPyBkZmx0IDogdmFsdWUpO30KCiAgICAgICAgLy8gSGFsdCBpZiBhbnN3ZXIgaXMgc2xpZ2h0bHkgb2ZmLgogICAgICAgIGdvYmouaGFsdF9zbGlnaHRseV9vZmYgPSB2YWx1ZV9vcl9kZWZhdWx0KGxvY2FsU3RvcmFnZS53a2xpZ2h0bmluZ19oYWx0X3NsaWdodGx5X29mZiwgMCk7CgogICAgICAgIC8vIEhhbHQgaWYgYW5zd2VyIGhhcyBtdWx0aXBsZSBtZWFuaW5ncy4KICAgICAgICBnb2JqLmhhbHRfbXVsdGlwbGUgPSB2YWx1ZV9vcl9kZWZhdWx0KGxvY2FsU3RvcmFnZS53a2xpZ2h0bmluZ19oYWx0X211bHRpcGxlLCAwKTsKCiAgICAgICAgLy8gSGFsdCBpZiBhbnN3ZXIgaGFzIG11bHRpcGxlIG1lYW5pbmdzLgogICAgICAgIGdvYmouaW5mb19vbl9oYWx0ID0gdmFsdWVfb3JfZGVmYXVsdChsb2NhbFN0b3JhZ2Uud2tsaWdodG5pbmdfaW5mb19vbl9oYWx0LCAwKTsKICAgIH0KCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIG1haW4oKSAtIFJ1bnMgYWZ0ZXIgcGFnZSBpcyBkb25lIGxvYWRpbmcuCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGZ1bmN0aW9uIG1haW4oKSB7CiAgICAgICAgcHJvY2Vzc19zZXR0aW5ncygpOwogICAgICAgIGFkZFN0eWxlKAogICAgICAgICAgICAnI2xpZ2h0bmluZy1tb2RlLmFjdGl2ZSB7Y29sb3I6I2ZmMDsgb3BhY2l0eToxLjA7fScrCiAgICAgICAgICAgICcjYW5zd2VyLWZvcm0gZmllbGRzZXQuV0tMTV93YXJuIGJ1dHRvbiwgI2Fuc3dlci1mb3JtIGZpZWxkc2V0LldLTE1fd2FybiBpbnB1dFt0eXBlPXRleHRdLCAjYW5zd2VyLWZvcm0gZmllbGRzZXQuV0tMTV93YXJuIGlucHV0W3R5cGU9dGV4dF06ZGlzYWJsZWQge2JhY2tncm91bmQtY29sb3I6I2ZhMiAhaW1wb3J0YW50O30nCiAgICAgICAgKTsKCiAgICAgICAgbGlnaHRuaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xpZ2h0bmluZycpOwogICAgICAgIGxpZ2h0bmluZyA9IChsaWdodG5pbmcgIT09ICdmYWxzZScpOwogICAgICAgICQoJyNzdW1tYXJ5LWJ1dHRvbicpLmFwcGVuZCgnPGEgaWQ9ImxpZ2h0bmluZy1tb2RlIiBocmVmPSIjIicrKGxpZ2h0bmluZz8nIGNsYXNzPSJhY3RpdmUiJzonJykrJz48aSBjbGFzcz0iaWNvbi1ib2x0Ij48L2k+PC9hPicpOwogICAgICAgICQoJyNsaWdodG5pbmctbW9kZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBsaWdodG5pbmcgPSAhbGlnaHRuaW5nOwogICAgICAgICAgICBjb25zb2xlLmxvZygnTGlnaHRuaW5nIG1vZGUgJysobGlnaHRuaW5nPydlbic6J2RpcycpKydhYmxlZCEnKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xpZ2h0bmluZycsIGxpZ2h0bmluZyk7CiAgICAgICAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScsIGxpZ2h0bmluZyk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICBpZ25vcmUgPSBmYWxzZTsKICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucykgewogICAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbihtdXRhdGlvbikgewogICAgICAgICAgICAgICAgaWYgKCFsaWdodG5pbmcgfHwgaWdub3JlKSByZXR1cm47CiAgICAgICAgICAgICAgICBzd2l0Y2ggKG11dGF0aW9uLnRhcmdldC5jbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlICdjb3JyZWN0JzoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4Y2VwdGlvbiA9ICQoJyNhbnN3ZXItZXhjZXB0aW9uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZHZhbmNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2VwdGlvbi5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNnID0gZXhjZXB0aW9uLnRleHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgdGhlIGl0ZW0gaW5mby4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cubWF0Y2goJ211bHRpcGxlJykgIT09IG51bGwgJiYgZ29iai5oYWx0X211bHRpcGxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtc2cubWF0Y2goJ2Fuc3dlciB3YXMgYSBiaXQgb2ZmJykgIT09IG51bGwgJiYgZ29iai5oYWx0X3NsaWdodGx5X29mZikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvLyBBdXRvLWFkdmFuY2UuCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZHZhbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3JzX25vdGljZSA9ICQoJyNxdWVzdGlvbi10eXBlIC5zcnMnKS5kZXRhY2goKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbXVsYXRlIGFuIDxlbnRlcj4gb24gdGhlIHN1Ym1pdCBidXR0b24uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSAkLkV2ZW50KCdrZXlkb3duJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5rZXlDb2RlID0gMTM7IGV2ZW50LndoaWNoID0gMTM7IGV2ZW50LmtleSA9ICdFbnRlcic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjYW5zd2VyLWZvcm0gYnV0dG9uJykudHJpZ2dlcihldmVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3F1ZXN0aW9uLXR5cGUnKS5hcHBlbmQoc3JzX25vdGljZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjcXVlc3Rpb24tdHlwZSAuc3JzJykuZmFkZU91dChmdW5jdGlvbigpe3RoaXMucmVtb3ZlKCk7fSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxNTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sMTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoIiNhbnN3ZXItZm9ybSBmaWVsZHNldCIpLmFkZENsYXNzKCJXS0xNX3dhcm4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnb2JqLmluZm9fb25faGFsdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZSA9ICQoJyNhbnN3ZXItZXhjZXB0aW9uJykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjID0gJCgnI2FkZGl0aW9uYWwtY29udGVudCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNhZGRpdGlvbmFsLWNvbnRlbnQgI29wdGlvbi1pdGVtLWluZm8nKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjLmFwcGVuZChhZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWMuYXR0cignc3R5bGUnLCd6LWluZGV4OjEwMDAnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICd3YXJuaW5nJzoKICAgICAgICAgICAgICAgICAgICBjYXNlICcnOgogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAkKCcjYWRkaXRpb25hbC1jb250ZW50ICNvcHRpb24taXRlbS1pbmZvJykuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gSWdub3JlIGFkZGl0aW9uYWwgY2hhbmdlcyBmb3IgMTAwbXMKICAgICAgICAgICAgICAgIGlnbm9yZSA9IHRydWU7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWdub3JlID0gZmFsc2U7fSwgMTAwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYW5zd2VyLWZvcm0gZmllbGRzZXQnKSwge2F0dHJpYnV0ZXM6IHRydWUsIHN1YnRyZWU6IHRydWUsIGF0dHJpYnV0ZUZpbHRlcjogWydjbGFzcyddfSk7CiAgICB9CgogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAvLyBSdW4gbWFpbigpIHVwb24gbG9hZC4KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpCiAgICAgICAgbWFpbigpOwogICAgZWxzZQogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgbWFpbiwgZmFsc2UpOwoKfSh3a2xpZ2h0bmluZykpOwo="},{"name":"Google View Image","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://**/*","http://**/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1589513168649,"data":{}},"enabled":true,"position":8,"file_url":"https://openuserjs.org/install/laidbacktempo/Google_View_Image.user.js","uuid":"21e7da1a-d1ce-4acf-9838-a7b170386128","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHb29nbGUgVmlldyBJbWFnZQovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly9Hb29nbGVWaWV3SW1hZ2UuY29tLwovLyBAdmVyc2lvbiAgICAgIDAuMQovLyBAZGVzY3JpcHRpb24gIEJyaW5nIGJhY2sgR29vZ2xlIFZpZXcgSW1hZ2UhCi8vIEBhdXRob3IgICAgICAgbGFpZGJhY2tUZW1wbwovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vKiovKgovLyBAbWF0Y2ggICAgICAgIGh0dHA6Ly8qKi8qCi8vIEBsaWNlbnNlIE1JVAovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CmNvbnNvbGUubG9nKCJIZWxsbyIpOwoKZnVuY3Rpb24gdG9JMThuKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9fX01TR18oXHcrKV9fL2csIGZ1bmN0aW9uIChtYXRjaCwgdjEpIHsKICAgICAgICByZXR1cm4gdjEgPyBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKHYxKSA6ICcnOwogICAgfSk7Cn0KY29uc29sZS5sb2coIkhlbGxvIDIiKTsKZnVuY3Rpb24gbG9jYWxpc2VPYmplY3Qob2JqLCB0YWcpIHsKICAgIG9iai5pbm5lckhUTUwgPSB0YWc7CiAgICByZXR1cm47CiAgICAvL3ZhciBtc2cgPSB0b0kxOG4odGFnKTsKICAgIC8vaWYgKG1zZyAhPSB0YWcpIG9iai5pbm5lckhUTUwgPSBtc2c7Cn0KCmZ1bmN0aW9uIGFkZExpbmtzKG5vZGUpIHsKICAgIGNvbnNvbGUubG9nKCJBZGRpbmcgbGluayIpOwogICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJBZGRpbmcgbGluayBpbiIpOwogICAgICAgIGlmICgobm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lyY19yaXMnKSkgfHwgKG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcmNfbWknKSB8fCAobm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lyY190YXMnKSkpKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiQWRkaW5nIGxpbmsgT0sgT0sgIik7CiAgICAgICAgICAgIHZhciBvYmplY3QgPSBub2RlLmNsb3Nlc3QoJy5pcmNfYycpOwogICAgICAgICAgICAvLyBSZXRyaXZlIGltYWdlIGxpbmtzLCBhbmQgaW1hZ2UgdXJsCiAgICAgICAgICAgIHZhciBpbWFnZUxpbmtzID0gb2JqZWN0LnF1ZXJ5U2VsZWN0b3IoJy5fRkt3LmlyY19idXRfciA+IHRib2R5ID4gdHInKTsKICAgICAgICAgICAgdmFyIGltYWdlVGV4dCA9IG9iamVjdC5xdWVyeVNlbGVjdG9yKCcuX2NqaiA+IC5pcmNfaXQgPiAuaXJjX2hkID4gLl9yMycpOwoKICAgICAgICAgICAgLy8gUmV0cml2ZSB0aGUgaW1hZ2UgVVJMCiAgICAgICAgICAgIHZhciBpbWFnZVVSTDsKCiAgICAgICAgICAgIHZhciB0aHVtYm5haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbWdbbmFtZT0iJyArIG9iamVjdC5kYXRhc2V0Lml0ZW1JZCArICciXScpOwogICAgICAgICAgICBpZiAodGh1bWJuYWlsKSB7CiAgICAgICAgICAgICAgICB2YXIgbWV0YSA9IHRodW1ibmFpbC5jbG9zZXN0KCcucmdfYngnKS5xdWVyeVNlbGVjdG9yKCcucmdfbWV0YScpOwogICAgICAgICAgICAgICAgdmFyIG1ldGFkYXRhID0gSlNPTi5wYXJzZShtZXRhLmlubmVySFRNTCk7CiAgICAgICAgICAgICAgICBpbWFnZVVSTCA9IG1ldGFkYXRhLm91OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaW1hZ2VVUkwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpcmNfbWknKVswXS5zcmM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIFJlbW92ZSBwcmV2aW91c2x5IGdlbmVyYXRlZCB2aWV3IGltYWdlIGJ1dHRvbnMKICAgICAgICAgICAgdmFyIG9sZFZpZXdJbWFnZSA9IGltYWdlTGlua3MucXVlcnlTZWxlY3RvcignLmV4dF9hZGRvbicpOwogICAgICAgICAgICBpZiAob2xkVmlld0ltYWdlKSB7CiAgICAgICAgICAgICAgICBpbWFnZUxpbmtzLnJlbW92ZUNoaWxkKG9sZFZpZXdJbWFnZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIHJlbW92ZSBwcmV2aW91c2x5IGdlbmVyYXRlZCBzZWFyY2ggYnkgaW1hZ2UgbGlua3MKICAgICAgICAgICAgdmFyIG9sZFNlYXJjaEJ5SW1hZ2UgPSBpbWFnZVRleHQucXVlcnlTZWxlY3RvcignLmV4dF9hZGRvbicpOwogICAgICAgICAgICBpZiAob2xkU2VhcmNoQnlJbWFnZSkgewogICAgICAgICAgICAgICAgaW1hZ2VUZXh0LnJlbW92ZUNoaWxkKG9sZFNlYXJjaEJ5SW1hZ2UpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBDcmVhdGUgU2VhcmNoIGJ5IGltYWdlIGJ1dHRvbgogICAgICAgICAgICB2YXIgc2VhcmNoQnlJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAgICAgc2VhcmNoQnlJbWFnZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnL3NlYXJjaGJ5aW1hZ2U/JmltYWdlX3VybD0nICsgaW1hZ2VVUkwpOwogICAgICAgICAgICBzZWFyY2hCeUltYWdlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZXh0X2FkZG9uJyk7CiAgICAgICAgICAgIHNlYXJjaEJ5SW1hZ2Uuc2V0QXR0cmlidXRlKCdzdHlsZScsICdtYXJnaW4tbGVmdDo0cHQ7Jyk7CgogICAgICAgICAgICAvLyBJbnNlcnQgdGV4dCBpbnRvIFNlYXJjaCBieSBpbWFnZSBidXR0b24KICAgICAgICAgICAgdmFyIHNlYXJjaEJ5SW1hZ2VUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgICAgICAgICBsb2NhbGlzZU9iamVjdChzZWFyY2hCeUltYWdlVGV4dCwgJzxzcGFuPlZpZXcgSW1hZ2U8L3NwYW4+Jyk7CiAgICAgICAgICAgIHNlYXJjaEJ5SW1hZ2UuYXBwZW5kQ2hpbGQoc2VhcmNoQnlJbWFnZVRleHQpOwoKICAgICAgICAgICAgLy8gQXBwZW5kIFNlYXJjaCBieSBpbWFnZSBidXR0b24KICAgICAgICAgICAgaW1hZ2VUZXh0LmFwcGVuZENoaWxkKHNlYXJjaEJ5SW1hZ2UpOwoKICAgICAgICAgICAgLy8gQ3JlYXRlIFZpZXcgaW1hZ2UgYnV0dG9uCiAgICAgICAgICAgIHZhciB2aWV3SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpOwogICAgICAgICAgICB2aWV3SW1hZ2Uuc2V0QXR0cmlidXRlKCdjbGFzcycsICdleHRfYWRkb24nKTsKCiAgICAgICAgICAgIC8vIEFkZCBnbG9iZSB0byBWaWV3IGltYWdlIGJ1dHRvbgogICAgICAgICAgICB2YXIgdmlld0ltYWdlTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAgICAgdmFyIGdsb2JlSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5fUkt3Ll93dGYuX1B0ZicpLmNsb25lTm9kZSh0cnVlKTsKICAgICAgICAgICAgdmlld0ltYWdlTGluay5hcHBlbmRDaGlsZChnbG9iZUljb24pOwoKICAgICAgICAgICAgLy8gYWRkIHRleHQgdG8gdmlldyBpbWFnZSBidXR0b24KICAgICAgICAgICAgdmFyIHZpZXdJbWFnZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuX1dLdycpLmNsb25lTm9kZSh0cnVlKTsKICAgICAgICAgICAgbG9jYWxpc2VPYmplY3Qodmlld0ltYWdlVGV4dCwgJ1ZpZXcgSW1hZ2UnKTsKICAgICAgICAgICAgdmlld0ltYWdlTGluay5hcHBlbmRDaGlsZCh2aWV3SW1hZ2VUZXh0KTsKCiAgICAgICAgICAgIC8vIEFkZCBWaWV3IGltYWdlIGJ1dHRvbiBVUkwKICAgICAgICAgICAgdmlld0ltYWdlTGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBpbWFnZVVSTCk7CiAgICAgICAgICAgIHZpZXdJbWFnZUxpbmsuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7CiAgICAgICAgICAgIHZpZXdJbWFnZS5hcHBlbmRDaGlsZCh2aWV3SW1hZ2VMaW5rKTsKCiAgICAgICAgICAgIC8vIEFkZCBWaWV3IGltYWdlIGJ1dHRvbiB0byBJbWFnZSBMaW5rcwogICAgICAgICAgICB2YXIgc2F2ZSA9IGltYWdlTGlua3MuY2hpbGROb2Rlc1sxXTsKICAgICAgICAgICAgaW1hZ2VMaW5rcy5pbnNlcnRCZWZvcmUodmlld0ltYWdlLCBzYXZlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJBZGRpbmcgRE9ORSEhISIpOwogICAgICAgIH0KICAgIH0KfQoKCiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICAgICAgbXV0YXRpb25zLmZvckVhY2goKG11dGF0aW9uKSA9PiB7CiAgICAgICAgICAgIGlmIChtdXRhdGlvbi5hZGRlZE5vZGVzICYmIG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld05vZGUgPSBtdXRhdGlvbi5hZGRlZE5vZGVzW2ldOwogICAgICAgICAgICAgICAgICAgIGFkZExpbmtzKG5ld05vZGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9KTsKCiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHsKICAgICAgICBjaGlsZExpc3Q6IHRydWUsCiAgICAgICAgc3VidHJlZTogdHJ1ZQogICAgfSk7CgogICAgYWRkTGlua3MoZG9jdW1lbnQuYm9keSk7Cgp9KSgpOw=="},{"name":"Bunpro: Auto-show Info","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["*bunpro.jp/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":["*community.bunpro.jp*"],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1598036339905,"data":{}},"enabled":true,"position":9,"file_url":"https://greasyfork.org/scripts/370019-bunpro-auto-show-info/code/Bunpro:%20Auto-show%20Info.user.js","uuid":"19685437-f68e-4a31-804d-7ae99409b589","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBCdW5wcm86IEF1dG8tc2hvdyBJbmZvCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RhbXBlcm1vbmtleS5uZXQvCi8vIEB2ZXJzaW9uICAgICAgMC4yLjQKLy8gQGRlc2NyaXB0aW9uICBBdXRvbWF0aWNhbGx5IGV4cGFuZHMgdGhlIGZ1bGwgZ3JhbW1hciBpbmZvIHdoZW4geW91IGdldCBhIHJldmlldyB3cm9uZy4KLy8gQGF1dGhvciAgICAgICBLdW1pcmVpCi8vIEBpbmNsdWRlICAgICAgKmJ1bnByby5qcC8qCi8vIEBleGNsdWRlICAgICAgKmNvbW11bml0eS5idW5wcm8uanAqCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzUzOTItd2FpdGZvcmtleWVsZW1lbnRzL2NvZGUvV2FpdEZvcktleUVsZW1lbnRzLmpzP3ZlcnNpb249MTE1MDEyCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzM3MDYyMy1idW5wcm8taGVscGZ1bC1ldmVudHMvY29kZS9CdW5wcm86JTIwSGVscGZ1bCUyMEV2ZW50cy5qcz92ZXJzaW9uPTYxNTcwMAovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CgkvL3dhaXQgdW50aWwgd2UncmUgcmV2aWV3aW5nCgkkKCdIVE1MJylbMF0uYWRkRXZlbnRMaXN0ZW5lcigncXVpei1wYWdlJywgZnVuY3Rpb24oKSB7CgkJLy9kbyBzdHVmZiB3aGVuIHdlIHByZXNzIGVudGVyIGFuZCBnZXQgdGhlIGFuc3dlciB3cm9uZwoJCSQoJyNzdHVkeS1hbnN3ZXItaW5wdXQnKS5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCWlmIChldmVudC53aGljaCA9PSAxMykgewoJCQkJb3BlbklmV3JvbmcoKTsKCQkJfQoJCX0pOwoJCS8vZG8gc3R1ZmYgd2hlbiB3ZSBjbGljayBzdWJtaXQgYW5kIGdldCB0aGUgYW5zd2VyIHdyb25nCgkJJCgnI3N1Ym1pdC1zdHVkeS1hbnN3ZXInKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsKCQkJb3BlbklmV3JvbmcoKTsKCQl9KTsKCgl9KTsKCgkvL29wZW5zIHRoZSBpbmZvIGlmIHlvdSBnZXQgdGhlIGl0ZW0gd3JvbmcKCWZ1bmN0aW9uIG9wZW5JZldyb25nKCkgewoJCWlmICgkKCcub29wcy1idXR0b24nKVswXS5zdHlsZS5kaXNwbGF5ID09ICJibG9jayIgfHwgJCgnI2xlYXJuLW5ldy1ncmFtbWFyLXBhZ2UnKS5sZW5ndGgpIHsKCQkJJCgnLnNob3ctZ3JhbW1hci10ZXh0JykuY2xpY2soKTsKCQl9Cgl9Cn0pKCk7","requires":[{"meta":{"name":"WaitForKeyElements.js","url":"https://greasyfork.org/scripts/5392-waitforkeyelements/code/WaitForKeyElements.js?version=115012","ts":1598910524689,"mimetype":"text/javascript"},"source":"LyotLS0gd2FpdEZvcktleUVsZW1lbnRzKCk6IEEgdXRpbGl0eSBmdW5jdGlvbiwgZm9yIEdyZWFzZW1vbmtleSBzY3JpcHRzLAp0aGF0IGRldGVjdHMgYW5kIGhhbmRsZXMgQUpBWGVkIGNvbnRlbnQuCiAKVXNhZ2UgZXhhbXBsZToKd2FpdEZvcktleUVsZW1lbnRzICgiZGl2LmNvbW1lbnRzIiwgY29tbWVudENhbGxiYWNrRnVuY3Rpb24pOwogCi8vLS0tIFBhZ2Utc3BlY2lmaWMgZnVuY3Rpb24gdG8gZG8gd2hhdCB3ZSB3YW50IHdoZW4gdGhlIG5vZGUgaXMgZm91bmQuCmZ1bmN0aW9uIGNvbW1lbnRDYWxsYmFja0Z1bmN0aW9uIChqTm9kZSkgewogICAgak5vZGUudGV4dCAoIlRoaXMgY29tbWVudCBjaGFuZ2VkIGJ5IHdhaXRGb3JLZXlFbGVtZW50cygpLiIpOwp9CiAKSU1QT1JUQU5UOiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIHlvdXIgc2NyaXB0IHRvIGhhdmUgbG9hZGVkIGpRdWVyeS4KKi8KCmZ1bmN0aW9uIHdhaXRGb3JLZXlFbGVtZW50cygKc2VsZWN0b3JUeHQsIC8qIFJlcXVpcmVkOiBUaGUgalF1ZXJ5IHNlbGVjdG9yIHN0cmluZyB0aGF0CnNwZWNpZmllcyB0aGUgZGVzaXJlZCBlbGVtZW50KHMpLgoqLwphY3Rpb25GdW5jdGlvbiwgLyogUmVxdWlyZWQ6IFRoZSBjb2RlIHRvIHJ1biB3aGVuIGVsZW1lbnRzIGFyZQpmb3VuZC4gSXQgaXMgcGFzc2VkIGEgak5vZGUgdG8gdGhlIG1hdGNoZWQKZWxlbWVudC4KKi8KYldhaXRPbmNlLCAvKiBPcHRpb25hbDogSWYgZmFsc2UsIHdpbGwgY29udGludWUgdG8gc2NhbiBmb3IKbmV3IGVsZW1lbnRzIGV2ZW4gYWZ0ZXIgdGhlIGZpcnN0IG1hdGNoIGlzCmZvdW5kLgoqLwppZnJhbWVTZWxlY3RvciAvKiBPcHRpb25hbDogSWYgc2V0LCBpZGVudGlmaWVzIHRoZSBpZnJhbWUgdG8Kc2VhcmNoLgoqLwopIHsKICAgIHZhciB0YXJnZXROb2RlcywgYnRhcmdldHNGb3VuZDsKCiAgICBpZiAodHlwZW9mIGlmcmFtZVNlbGVjdG9yID09ICJ1bmRlZmluZWQiKQogICAgICAgIHRhcmdldE5vZGVzID0gJChzZWxlY3RvclR4dCk7CiAgICBlbHNlCiAgICAgICAgdGFyZ2V0Tm9kZXMgPSAkKGlmcmFtZVNlbGVjdG9yKS5jb250ZW50cygpCiAgICAgICAgLmZpbmQoc2VsZWN0b3JUeHQpOwoKICAgIGlmICh0YXJnZXROb2RlcyAmJiB0YXJnZXROb2Rlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgYnRhcmdldHNGb3VuZCA9IHRydWU7CiAgICAgICAgLyotLS0gRm91bmQgdGFyZ2V0IG5vZGUocykuIEdvIHRocm91Z2ggZWFjaCBhbmQgYWN0IGlmIHRoZXkKICAgICAgICBhcmUgbmV3LgogICAgICAgICovCiAgICAgICAgdGFyZ2V0Tm9kZXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBqVGhpcyA9ICQodGhpcyk7CiAgICAgICAgICAgIHZhciBhbHJlYWR5Rm91bmQgPSBqVGhpcy5kYXRhKCdhbHJlYWR5Rm91bmQnKSB8fCBmYWxzZTsKCiAgICAgICAgICAgIGlmICghYWxyZWFkeUZvdW5kKSB7CiAgICAgICAgICAgICAgICAvLy0tLSBDYWxsIHRoZSBwYXlsb2FkIGZ1bmN0aW9uLgogICAgICAgICAgICAgICAgdmFyIGNhbmNlbEZvdW5kID0gYWN0aW9uRnVuY3Rpb24oalRoaXMpOwogICAgICAgICAgICAgICAgaWYgKGNhbmNlbEZvdW5kKQogICAgICAgICAgICAgICAgICAgIGJ0YXJnZXRzRm91bmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBqVGhpcy5kYXRhKCdhbHJlYWR5Rm91bmQnLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgYnRhcmdldHNGb3VuZCA9IGZhbHNlOwogICAgfQoKICAgIC8vLS0tIEdldCB0aGUgdGltZXItY29udHJvbCB2YXJpYWJsZSBmb3IgdGhpcyBzZWxlY3Rvci4KICAgIHZhciBjb250cm9sT2JqID0gd2FpdEZvcktleUVsZW1lbnRzLmNvbnRyb2xPYmogfHwge307CiAgICB2YXIgY29udHJvbEtleSA9IHNlbGVjdG9yVHh0LnJlcGxhY2UoL1teXHddL2csICJfIik7CiAgICB2YXIgdGltZUNvbnRyb2wgPSBjb250cm9sT2JqW2NvbnRyb2xLZXldOwoKICAgIC8vLS0tIE5vdyBzZXQgb3IgY2xlYXIgdGhlIHRpbWVyIGFzIGFwcHJvcHJpYXRlLgogICAgaWYgKGJ0YXJnZXRzRm91bmQgJiYgYldhaXRPbmNlICYmIHRpbWVDb250cm9sKSB7CiAgICAgICAgLy8tLS0gVGhlIG9ubHkgY29uZGl0aW9uIHdoZXJlIHdlIG5lZWQgdG8gY2xlYXIgdGhlIHRpbWVyLgogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZUNvbnRyb2wpOwogICAgICAgIGRlbGV0ZSBjb250cm9sT2JqW2NvbnRyb2xLZXldOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgLy8tLS0gU2V0IGEgdGltZXIsIGlmIG5lZWRlZC4KICAgICAgICBpZiAoIXRpbWVDb250cm9sKSB7CiAgICAgICAgICAgIHRpbWVDb250cm9sID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgd2FpdEZvcktleUVsZW1lbnRzKHNlbGVjdG9yVHh0LAogICAgICAgICAgICAgICAgYWN0aW9uRnVuY3Rpb24sCiAgICAgICAgICAgICAgICBiV2FpdE9uY2UsCiAgICAgICAgICAgICAgICBpZnJhbWVTZWxlY3RvcgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgMzAwCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGNvbnRyb2xPYmpbY29udHJvbEtleV0gPSB0aW1lQ29udHJvbDsKICAgICAgICB9CiAgICB9CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMuY29udHJvbE9iaiA9IGNvbnRyb2xPYmo7Cn0="},{"meta":{"name":"Bunpro:%20Helpful%20Events.js","url":"https://greasyfork.org/scripts/370623-bunpro-helpful-events/code/Bunpro:%20Helpful%20Events.js?version=615700","ts":1598910524799,"mimetype":"text/javascript"},"source":"KGZ1bmN0aW9uKCkgewogICAgLy8gQWRkIGEgY3VzdG9tIGV2ZW50IGZvciB3aGVuIEJQIGNyZWF0ZXMgYSBuZXcgYm9keQogICAgdmFyIG5ld0JvZHkgPSBuZXcgRXZlbnQoJ25ldy1ib2R5Jyk7CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMoJ2JvZHkgPiBoZWFkZXInLCBmdW5jdGlvbihlKSB7ZmlyZUV2ZW50KG5ld0JvZHkpO30pOwogICAgCiAgICAvLyBBZGQgYSBjdXN0b20gZXZlbnQgZm9yIHdoZW4geW91IGdldCBhIG5ldyBpdGVtIGluIHJldmlld3MKICAgIHZhciBuZXdSZXZpZXdJdGVtID0gbmV3IEV2ZW50KCduZXctcmV2aWV3LWl0ZW0nKTsKICAgIHdhaXRGb3JLZXlFbGVtZW50cygnLmxldmVsX2xlc3Nvbl9pbmZvIGEnLCBmdW5jdGlvbihlKSB7ZmlyZUV2ZW50KG5ld1Jldmlld0l0ZW0pO30pOwogICAgCiAgICAvLyBBZGQgYSBjdXN0b20gZXZlbnQgd2hlbiB5b3UgZ28gdG8gc3R1ZHkgb3IgY3JhbSBwYWdlCiAgICB2YXIgcXVpelBhZ2UgPSBuZXcgRXZlbnQoJ3F1aXotcGFnZScpOwogICAgd2FpdEZvcktleUVsZW1lbnRzKCcjc2hvdy1ncmFtbWFyJywgZnVuY3Rpb24oZSkge2ZpcmVFdmVudChxdWl6UGFnZSk7fSk7CiAgICAKICAgIC8vIEFkZCBhIGN1c3RvbSBldmVudCB3aGVuIHlvdSBnbyB0byBzdHVkeSBwYWdlCiAgICB2YXIgc3R1ZHlQYWdlID0gbmV3IEV2ZW50KCdzdHVkeS1wYWdlJyk7CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMoJyNzdHVkeS1wYWdlICNzaG93LWdyYW1tYXInLCBmdW5jdGlvbihlKSB7ZmlyZUV2ZW50KHN0dWR5UGFnZSk7fSk7CiAgICAKICAgIC8vIEFkZCBhIGN1c3RvbSBldmVudCB3aGVuIHlvdSBnbyB0byBjcmFtIHBhZ2UKICAgIHZhciBjcmFtUGFnZSA9IG5ldyBFdmVudCgnY3JhbS1wYWdlJyk7CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMoJyNjcmFtLXBhZ2UgI3Nob3ctZ3JhbW1hcicsIGZ1bmN0aW9uKGUpIHtmaXJlRXZlbnQoY3JhbVBhZ2UpO30pOwogICAgCiAgICAvLyBGaXJlcyB0aGUgZ2l2ZW4gZXZlbnQgb24gdGhlIEhUTUwgZWxlbWVudAogICAgZnVuY3Rpb24gZmlyZUV2ZW50KGV2ZW50KSB7CiAgICAJCXZhciByZXRyeUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gImNvbXBsZXRlIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ0hUTUwnKVswXS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHJldHJ5SW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgfQp9KSgpOw=="}]},{"name":"Bunpro: Mistake Delay","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["*bunpro.jp/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":["*community.bunpro.jp*"],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1598036343158,"data":{}},"enabled":true,"position":10,"file_url":"https://greasyfork.org/scripts/371388-bunpro-mistake-delay/code/Bunpro:%20Mistake%20Delay.user.js","uuid":"c70e8cb4-850d-43ad-b837-ba6c5b1e2bf0","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBCdW5wcm86IE1pc3Rha2UgRGVsYXkKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjIuNQovLyBAZGVzY3JpcHRpb24gIFByZXZlbnRzIHByZW1hdHVyZSB3cm9uZyBhbnN3ZXIgc3VibWlzc2lvbi4KLy8gQGF1dGhvciAgICAgICBLdW1pcmVpCi8vIEBpbmNsdWRlICAgICAgKmJ1bnByby5qcC8qCi8vIEBleGNsdWRlICAgICAgKmNvbW11bml0eS5idW5wcm8uanAqCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzUzOTItd2FpdGZvcmtleWVsZW1lbnRzL2NvZGUvV2FpdEZvcktleUVsZW1lbnRzLmpzP3ZlcnNpb249MTE1MDEyCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzM3MDYyMy1idW5wcm8taGVscGZ1bC1ldmVudHMvY29kZS9CdW5wcm86JTIwSGVscGZ1bCUyMEV2ZW50cy5qcz92ZXJzaW9uPTYxNTcwMAovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CgkvLyBTZWNvbmRzIG9mIGRlbGF5Cgljb25zdCBkZWxheSA9IDI7CgoJLy8gV2FpdCB1bnRpbCB3ZSdyZSByZXZpZXdpbmcKCSQoJ0hUTUwnKVswXS5hZGRFdmVudExpc3RlbmVyKCdxdWl6LXBhZ2UnLCBmdW5jdGlvbigpIHsKCQkvLyBBZGQgdGhlIHN0YW5kYXJkIHN0eWxpbmcgdG8gdGhlIGRpc2FibGVkIGJ1dHRvbgoJCWFkZENTUygpOwoKCQkvLyBEbyBzdHVmZiB3aGVuIHdlIHByZXNzIGVudGVyIG9yIGJhY2tzcGFjZQoJCSQoJyNzdHVkeS1hbnN3ZXItaW5wdXQnKS5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCXZhciBlbGVtID0gJCgnI3N0dWR5LWFuc3dlci1pbnB1dCcpOwoJCQkvLyBJbml0aWF0ZSBkZWxhdGUgd2hlbiB3ZSBwcmVzcyBlbnRlciwgZ2V0IHRoZSBhbnN3ZXIgd3JvbmcsIGFuZCBubyBkZWxheSBpcyBhbHJlYWR5IGFjdGl2ZQoJCQl2YXIgYmtnID0gZWxlbVswXS5zdHlsZS5iYWNrZ3JvdW5kOwoJCQlpZiAoYmtnICE9ICIiKSB7CgkJCQl2YXIgYmtnX2xzdCA9IGJrZy5zbGljZSg1LCBia2cubGVuZ3RoLTEpLnNwbGl0KCcsICcpOwoJCQkJaWYgKGV2ZW50LndoaWNoID09IDEzICYmIE51bWJlcihia2dfbHN0WzBdKSA+IE51bWJlcihia2dfbHN0WzFdKSArIE51bWJlcihia2dfbHN0WzJdKSAmJiAhJCgnI3N1Ym1pdC1zdHVkeS1hbnN3ZXItZGlzYWJsZWQnKS5sZW5ndGgpIHsKCQkJCQllbmFibGVEZWxheSgpOwoJCQkJCXNldFRpbWVvdXQoZGlzYWJsZURlbGF5LCBkZWxheSoxMDAwKTsKCQkJCX0KCQkJfQoJCX0pOwoJCSQoJ2JvZHknKS5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7CgkJCS8vIENhbmNlbCBkZWxheSBpZiB3ZSBwcmVzcyBiYWNrc3BhY2UgYWZ0ZXIgZ2V0dGluZyBhbiBhbnN3ZXIgd3JvbmcKCQkJaWYgKGV2ZW50LndoaWNoID09IDggJiYgJCgnI3N1Ym1pdC1zdHVkeS1hbnN3ZXItZGlzYWJsZWQnKS5sZW5ndGgpIGRpc2FibGVEZWxheSgpOwoJCX0pOwoJfSk7CgoJLy8gTWFrZXMgdXNlciB1bmFibGUgdG8gY29udGludWUgdG8gdGhlIG5leHQgaXRlbQoJZnVuY3Rpb24gZW5hYmxlRGVsYXkoKSB7CgkJJCgnI3N0dWR5LWFuc3dlci1pbnB1dCcpWzBdLmJsdXIoKTsKCQkkKCcjc3VibWl0LXN0dWR5LWFuc3dlcicpLmF0dHIoJ2lkJywgJ3N1Ym1pdC1zdHVkeS1hbnN3ZXItZGlzYWJsZWQnKTsKCX0KCgkvLyBNYWtlcyB1c2VyIGFibGUgdG8gY29udGludWUgdG8gdGhlIG5leHQgaXRlbSBhZ2FpbgoJZnVuY3Rpb24gZGlzYWJsZURlbGF5KCkgewoJCSQoJyNzdWJtaXQtc3R1ZHktYW5zd2VyLWRpc2FibGVkJykuYXR0cignaWQnLCAnc3VibWl0LXN0dWR5LWFuc3dlcicpOwoJfQoKCS8vIEFkZHMgdGhlIG5lZWRlZCBDU1MKCWZ1bmN0aW9uIGFkZENTUygpIHsKCQkkKCdoZWFkJykuYXBwZW5kKCc8c3R5bGU+I3N1Ym1pdC1zdHVkeS1hbnN3ZXItZGlzYWJsZWQgeycgKwoJCQkJCQkgJ3dpZHRoOiAxNSU7JyArCgkJCQkJCSAncmlnaHQ6IDA7JyArCgkJCQkJCSAndGV4dC1hbGlnbjogY2VudGVyOycgKwoJCQkJCQkgJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsnICsKCQkJCQkJICdmb250LXdlaWdodDogNDAwOycgKwoJCQkJCQkgJ2ZvbnQtc2l6ZTogMjBweDsnICsKCQkJCQkJICd6LWluZGV4OiAxMDA7JyArCgkJCQkJCSAnYm9yZGVyLXJhZGl1czogMDsnICsKCQkJCQkJICdjb2xvcjogd2hpdGU7JyArCgkJCQkJCSAnYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7JyArCgkJCQkJCSAnfScgKwoJCQkJCQkgJ0BtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkgI3N1Ym1pdC1zdHVkeS1hbnN3ZXItZGlzYWJsZWQge2ZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50O308L3N0eWxlPicpCgl9Cn0pKCk7","requires":[{"meta":{"name":"WaitForKeyElements.js","url":"https://greasyfork.org/scripts/5392-waitforkeyelements/code/WaitForKeyElements.js?version=115012","ts":1598910524765,"mimetype":"text/javascript"},"source":"LyotLS0gd2FpdEZvcktleUVsZW1lbnRzKCk6IEEgdXRpbGl0eSBmdW5jdGlvbiwgZm9yIEdyZWFzZW1vbmtleSBzY3JpcHRzLAp0aGF0IGRldGVjdHMgYW5kIGhhbmRsZXMgQUpBWGVkIGNvbnRlbnQuCiAKVXNhZ2UgZXhhbXBsZToKd2FpdEZvcktleUVsZW1lbnRzICgiZGl2LmNvbW1lbnRzIiwgY29tbWVudENhbGxiYWNrRnVuY3Rpb24pOwogCi8vLS0tIFBhZ2Utc3BlY2lmaWMgZnVuY3Rpb24gdG8gZG8gd2hhdCB3ZSB3YW50IHdoZW4gdGhlIG5vZGUgaXMgZm91bmQuCmZ1bmN0aW9uIGNvbW1lbnRDYWxsYmFja0Z1bmN0aW9uIChqTm9kZSkgewogICAgak5vZGUudGV4dCAoIlRoaXMgY29tbWVudCBjaGFuZ2VkIGJ5IHdhaXRGb3JLZXlFbGVtZW50cygpLiIpOwp9CiAKSU1QT1JUQU5UOiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIHlvdXIgc2NyaXB0IHRvIGhhdmUgbG9hZGVkIGpRdWVyeS4KKi8KCmZ1bmN0aW9uIHdhaXRGb3JLZXlFbGVtZW50cygKc2VsZWN0b3JUeHQsIC8qIFJlcXVpcmVkOiBUaGUgalF1ZXJ5IHNlbGVjdG9yIHN0cmluZyB0aGF0CnNwZWNpZmllcyB0aGUgZGVzaXJlZCBlbGVtZW50KHMpLgoqLwphY3Rpb25GdW5jdGlvbiwgLyogUmVxdWlyZWQ6IFRoZSBjb2RlIHRvIHJ1biB3aGVuIGVsZW1lbnRzIGFyZQpmb3VuZC4gSXQgaXMgcGFzc2VkIGEgak5vZGUgdG8gdGhlIG1hdGNoZWQKZWxlbWVudC4KKi8KYldhaXRPbmNlLCAvKiBPcHRpb25hbDogSWYgZmFsc2UsIHdpbGwgY29udGludWUgdG8gc2NhbiBmb3IKbmV3IGVsZW1lbnRzIGV2ZW4gYWZ0ZXIgdGhlIGZpcnN0IG1hdGNoIGlzCmZvdW5kLgoqLwppZnJhbWVTZWxlY3RvciAvKiBPcHRpb25hbDogSWYgc2V0LCBpZGVudGlmaWVzIHRoZSBpZnJhbWUgdG8Kc2VhcmNoLgoqLwopIHsKICAgIHZhciB0YXJnZXROb2RlcywgYnRhcmdldHNGb3VuZDsKCiAgICBpZiAodHlwZW9mIGlmcmFtZVNlbGVjdG9yID09ICJ1bmRlZmluZWQiKQogICAgICAgIHRhcmdldE5vZGVzID0gJChzZWxlY3RvclR4dCk7CiAgICBlbHNlCiAgICAgICAgdGFyZ2V0Tm9kZXMgPSAkKGlmcmFtZVNlbGVjdG9yKS5jb250ZW50cygpCiAgICAgICAgLmZpbmQoc2VsZWN0b3JUeHQpOwoKICAgIGlmICh0YXJnZXROb2RlcyAmJiB0YXJnZXROb2Rlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgYnRhcmdldHNGb3VuZCA9IHRydWU7CiAgICAgICAgLyotLS0gRm91bmQgdGFyZ2V0IG5vZGUocykuIEdvIHRocm91Z2ggZWFjaCBhbmQgYWN0IGlmIHRoZXkKICAgICAgICBhcmUgbmV3LgogICAgICAgICovCiAgICAgICAgdGFyZ2V0Tm9kZXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBqVGhpcyA9ICQodGhpcyk7CiAgICAgICAgICAgIHZhciBhbHJlYWR5Rm91bmQgPSBqVGhpcy5kYXRhKCdhbHJlYWR5Rm91bmQnKSB8fCBmYWxzZTsKCiAgICAgICAgICAgIGlmICghYWxyZWFkeUZvdW5kKSB7CiAgICAgICAgICAgICAgICAvLy0tLSBDYWxsIHRoZSBwYXlsb2FkIGZ1bmN0aW9uLgogICAgICAgICAgICAgICAgdmFyIGNhbmNlbEZvdW5kID0gYWN0aW9uRnVuY3Rpb24oalRoaXMpOwogICAgICAgICAgICAgICAgaWYgKGNhbmNlbEZvdW5kKQogICAgICAgICAgICAgICAgICAgIGJ0YXJnZXRzRm91bmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBqVGhpcy5kYXRhKCdhbHJlYWR5Rm91bmQnLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgYnRhcmdldHNGb3VuZCA9IGZhbHNlOwogICAgfQoKICAgIC8vLS0tIEdldCB0aGUgdGltZXItY29udHJvbCB2YXJpYWJsZSBmb3IgdGhpcyBzZWxlY3Rvci4KICAgIHZhciBjb250cm9sT2JqID0gd2FpdEZvcktleUVsZW1lbnRzLmNvbnRyb2xPYmogfHwge307CiAgICB2YXIgY29udHJvbEtleSA9IHNlbGVjdG9yVHh0LnJlcGxhY2UoL1teXHddL2csICJfIik7CiAgICB2YXIgdGltZUNvbnRyb2wgPSBjb250cm9sT2JqW2NvbnRyb2xLZXldOwoKICAgIC8vLS0tIE5vdyBzZXQgb3IgY2xlYXIgdGhlIHRpbWVyIGFzIGFwcHJvcHJpYXRlLgogICAgaWYgKGJ0YXJnZXRzRm91bmQgJiYgYldhaXRPbmNlICYmIHRpbWVDb250cm9sKSB7CiAgICAgICAgLy8tLS0gVGhlIG9ubHkgY29uZGl0aW9uIHdoZXJlIHdlIG5lZWQgdG8gY2xlYXIgdGhlIHRpbWVyLgogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZUNvbnRyb2wpOwogICAgICAgIGRlbGV0ZSBjb250cm9sT2JqW2NvbnRyb2xLZXldOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgLy8tLS0gU2V0IGEgdGltZXIsIGlmIG5lZWRlZC4KICAgICAgICBpZiAoIXRpbWVDb250cm9sKSB7CiAgICAgICAgICAgIHRpbWVDb250cm9sID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgd2FpdEZvcktleUVsZW1lbnRzKHNlbGVjdG9yVHh0LAogICAgICAgICAgICAgICAgYWN0aW9uRnVuY3Rpb24sCiAgICAgICAgICAgICAgICBiV2FpdE9uY2UsCiAgICAgICAgICAgICAgICBpZnJhbWVTZWxlY3RvcgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgMzAwCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGNvbnRyb2xPYmpbY29udHJvbEtleV0gPSB0aW1lQ29udHJvbDsKICAgICAgICB9CiAgICB9CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMuY29udHJvbE9iaiA9IGNvbnRyb2xPYmo7Cn0="},{"meta":{"name":"Bunpro:%20Helpful%20Events.js","url":"https://greasyfork.org/scripts/370623-bunpro-helpful-events/code/Bunpro:%20Helpful%20Events.js?version=615700","ts":1598910524767,"mimetype":"text/javascript"},"source":"KGZ1bmN0aW9uKCkgewogICAgLy8gQWRkIGEgY3VzdG9tIGV2ZW50IGZvciB3aGVuIEJQIGNyZWF0ZXMgYSBuZXcgYm9keQogICAgdmFyIG5ld0JvZHkgPSBuZXcgRXZlbnQoJ25ldy1ib2R5Jyk7CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMoJ2JvZHkgPiBoZWFkZXInLCBmdW5jdGlvbihlKSB7ZmlyZUV2ZW50KG5ld0JvZHkpO30pOwogICAgCiAgICAvLyBBZGQgYSBjdXN0b20gZXZlbnQgZm9yIHdoZW4geW91IGdldCBhIG5ldyBpdGVtIGluIHJldmlld3MKICAgIHZhciBuZXdSZXZpZXdJdGVtID0gbmV3IEV2ZW50KCduZXctcmV2aWV3LWl0ZW0nKTsKICAgIHdhaXRGb3JLZXlFbGVtZW50cygnLmxldmVsX2xlc3Nvbl9pbmZvIGEnLCBmdW5jdGlvbihlKSB7ZmlyZUV2ZW50KG5ld1Jldmlld0l0ZW0pO30pOwogICAgCiAgICAvLyBBZGQgYSBjdXN0b20gZXZlbnQgd2hlbiB5b3UgZ28gdG8gc3R1ZHkgb3IgY3JhbSBwYWdlCiAgICB2YXIgcXVpelBhZ2UgPSBuZXcgRXZlbnQoJ3F1aXotcGFnZScpOwogICAgd2FpdEZvcktleUVsZW1lbnRzKCcjc2hvdy1ncmFtbWFyJywgZnVuY3Rpb24oZSkge2ZpcmVFdmVudChxdWl6UGFnZSk7fSk7CiAgICAKICAgIC8vIEFkZCBhIGN1c3RvbSBldmVudCB3aGVuIHlvdSBnbyB0byBzdHVkeSBwYWdlCiAgICB2YXIgc3R1ZHlQYWdlID0gbmV3IEV2ZW50KCdzdHVkeS1wYWdlJyk7CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMoJyNzdHVkeS1wYWdlICNzaG93LWdyYW1tYXInLCBmdW5jdGlvbihlKSB7ZmlyZUV2ZW50KHN0dWR5UGFnZSk7fSk7CiAgICAKICAgIC8vIEFkZCBhIGN1c3RvbSBldmVudCB3aGVuIHlvdSBnbyB0byBjcmFtIHBhZ2UKICAgIHZhciBjcmFtUGFnZSA9IG5ldyBFdmVudCgnY3JhbS1wYWdlJyk7CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMoJyNjcmFtLXBhZ2UgI3Nob3ctZ3JhbW1hcicsIGZ1bmN0aW9uKGUpIHtmaXJlRXZlbnQoY3JhbVBhZ2UpO30pOwogICAgCiAgICAvLyBGaXJlcyB0aGUgZ2l2ZW4gZXZlbnQgb24gdGhlIEhUTUwgZWxlbWVudAogICAgZnVuY3Rpb24gZmlyZUV2ZW50KGV2ZW50KSB7CiAgICAJCXZhciByZXRyeUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gImNvbXBsZXRlIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ0hUTUwnKVswXS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHJldHJ5SW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgfQp9KSgpOw=="}]},{"name":"Bunpro: Disable Backspace Undo","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["*bunpro.jp/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":["*community.bunpro.jp*"],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1598996892793,"data":{}},"enabled":true,"position":11,"file_url":"https://greasyfork.org/scripts/396170-bunpro-disable-backspace-undo/code/Bunpro:%20Disable%20Backspace%20Undo.user.js","uuid":"3bddebe2-6cbf-43bf-b6c3-608de97ce50b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBCdW5wcm86IERpc2FibGUgQmFja3NwYWNlIFVuZG8KLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAxLjAuMwovLyBAZGVzY3JpcHRpb24gIERpc2FibGVzIHRoZSBiYWNrc3BhY2UgZnVuY3Rpb25hbGl0eSBpbiByZXZpZXdzCi8vIEBhdXRob3IgICAgICAgS3VtaXJlaQovLyBAaW5jbHVkZSAgICAgICpidW5wcm8uanAvKgovLyBAZXhjbHVkZSAgICAgICpjb21tdW5pdHkuYnVucHJvLmpwKgovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy81MzkyLXdhaXRmb3JrZXllbGVtZW50cy9jb2RlL1dhaXRGb3JLZXlFbGVtZW50cy5qcz92ZXJzaW9uPTExNTAxMgovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8zNzA2MjMtYnVucHJvLWhlbHBmdWwtZXZlbnRzL2NvZGUvQnVucHJvOiUyMEhlbHBmdWwlMjBFdmVudHMuanM/dmVyc2lvbj02MTU3MDAKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgdmFyICQgPSB3aW5kb3cuJDsKICAgICQoJ2h0bWwnKVswXS5hZGRFdmVudExpc3RlbmVyKCdxdWl6LXBhZ2UnLCAoKT0+ewogICAgICAgIHZhciBpbnB1dF9lbGVtID0gJCgnI3N0dWR5LWFuc3dlci1pbnB1dCcpOwogICAgICAgICQoJ2JvZHknKS5rZXlkb3duKChldmVudCk9PnsKICAgICAgICAgICAgdmFyIGNvbG9ycyA9IGlucHV0X2VsZW0uY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJykubWF0Y2goL1xkKy9nKTsKICAgICAgICAgICAgdmFyIHN1bSA9IGNvbG9ycy5yZWR1Y2UoKGEsIGIpPT5OdW1iZXIoYSkrTnVtYmVyKGIpKTsKICAgICAgICAgICAgdmFyIHJlZG5lc3MgPSBjb2xvcnNbMF0vc3VtOwogICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA4ICYmIHJlZG5lc3MgPiAwLjQpIHsKICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgaW5wdXRfZWxlbS5ibHVyKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0pOwp9KSgpOw==","requires":[{"meta":{"name":"WaitForKeyElements.js","url":"https://greasyfork.org/scripts/5392-waitforkeyelements/code/WaitForKeyElements.js?version=115012","ts":1598996893050,"mimetype":"text/javascript"},"source":"LyotLS0gd2FpdEZvcktleUVsZW1lbnRzKCk6IEEgdXRpbGl0eSBmdW5jdGlvbiwgZm9yIEdyZWFzZW1vbmtleSBzY3JpcHRzLAp0aGF0IGRldGVjdHMgYW5kIGhhbmRsZXMgQUpBWGVkIGNvbnRlbnQuCiAKVXNhZ2UgZXhhbXBsZToKd2FpdEZvcktleUVsZW1lbnRzICgiZGl2LmNvbW1lbnRzIiwgY29tbWVudENhbGxiYWNrRnVuY3Rpb24pOwogCi8vLS0tIFBhZ2Utc3BlY2lmaWMgZnVuY3Rpb24gdG8gZG8gd2hhdCB3ZSB3YW50IHdoZW4gdGhlIG5vZGUgaXMgZm91bmQuCmZ1bmN0aW9uIGNvbW1lbnRDYWxsYmFja0Z1bmN0aW9uIChqTm9kZSkgewogICAgak5vZGUudGV4dCAoIlRoaXMgY29tbWVudCBjaGFuZ2VkIGJ5IHdhaXRGb3JLZXlFbGVtZW50cygpLiIpOwp9CiAKSU1QT1JUQU5UOiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIHlvdXIgc2NyaXB0IHRvIGhhdmUgbG9hZGVkIGpRdWVyeS4KKi8KCmZ1bmN0aW9uIHdhaXRGb3JLZXlFbGVtZW50cygKc2VsZWN0b3JUeHQsIC8qIFJlcXVpcmVkOiBUaGUgalF1ZXJ5IHNlbGVjdG9yIHN0cmluZyB0aGF0CnNwZWNpZmllcyB0aGUgZGVzaXJlZCBlbGVtZW50KHMpLgoqLwphY3Rpb25GdW5jdGlvbiwgLyogUmVxdWlyZWQ6IFRoZSBjb2RlIHRvIHJ1biB3aGVuIGVsZW1lbnRzIGFyZQpmb3VuZC4gSXQgaXMgcGFzc2VkIGEgak5vZGUgdG8gdGhlIG1hdGNoZWQKZWxlbWVudC4KKi8KYldhaXRPbmNlLCAvKiBPcHRpb25hbDogSWYgZmFsc2UsIHdpbGwgY29udGludWUgdG8gc2NhbiBmb3IKbmV3IGVsZW1lbnRzIGV2ZW4gYWZ0ZXIgdGhlIGZpcnN0IG1hdGNoIGlzCmZvdW5kLgoqLwppZnJhbWVTZWxlY3RvciAvKiBPcHRpb25hbDogSWYgc2V0LCBpZGVudGlmaWVzIHRoZSBpZnJhbWUgdG8Kc2VhcmNoLgoqLwopIHsKICAgIHZhciB0YXJnZXROb2RlcywgYnRhcmdldHNGb3VuZDsKCiAgICBpZiAodHlwZW9mIGlmcmFtZVNlbGVjdG9yID09ICJ1bmRlZmluZWQiKQogICAgICAgIHRhcmdldE5vZGVzID0gJChzZWxlY3RvclR4dCk7CiAgICBlbHNlCiAgICAgICAgdGFyZ2V0Tm9kZXMgPSAkKGlmcmFtZVNlbGVjdG9yKS5jb250ZW50cygpCiAgICAgICAgLmZpbmQoc2VsZWN0b3JUeHQpOwoKICAgIGlmICh0YXJnZXROb2RlcyAmJiB0YXJnZXROb2Rlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgYnRhcmdldHNGb3VuZCA9IHRydWU7CiAgICAgICAgLyotLS0gRm91bmQgdGFyZ2V0IG5vZGUocykuIEdvIHRocm91Z2ggZWFjaCBhbmQgYWN0IGlmIHRoZXkKICAgICAgICBhcmUgbmV3LgogICAgICAgICovCiAgICAgICAgdGFyZ2V0Tm9kZXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBqVGhpcyA9ICQodGhpcyk7CiAgICAgICAgICAgIHZhciBhbHJlYWR5Rm91bmQgPSBqVGhpcy5kYXRhKCdhbHJlYWR5Rm91bmQnKSB8fCBmYWxzZTsKCiAgICAgICAgICAgIGlmICghYWxyZWFkeUZvdW5kKSB7CiAgICAgICAgICAgICAgICAvLy0tLSBDYWxsIHRoZSBwYXlsb2FkIGZ1bmN0aW9uLgogICAgICAgICAgICAgICAgdmFyIGNhbmNlbEZvdW5kID0gYWN0aW9uRnVuY3Rpb24oalRoaXMpOwogICAgICAgICAgICAgICAgaWYgKGNhbmNlbEZvdW5kKQogICAgICAgICAgICAgICAgICAgIGJ0YXJnZXRzRm91bmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICBqVGhpcy5kYXRhKCdhbHJlYWR5Rm91bmQnLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgYnRhcmdldHNGb3VuZCA9IGZhbHNlOwogICAgfQoKICAgIC8vLS0tIEdldCB0aGUgdGltZXItY29udHJvbCB2YXJpYWJsZSBmb3IgdGhpcyBzZWxlY3Rvci4KICAgIHZhciBjb250cm9sT2JqID0gd2FpdEZvcktleUVsZW1lbnRzLmNvbnRyb2xPYmogfHwge307CiAgICB2YXIgY29udHJvbEtleSA9IHNlbGVjdG9yVHh0LnJlcGxhY2UoL1teXHddL2csICJfIik7CiAgICB2YXIgdGltZUNvbnRyb2wgPSBjb250cm9sT2JqW2NvbnRyb2xLZXldOwoKICAgIC8vLS0tIE5vdyBzZXQgb3IgY2xlYXIgdGhlIHRpbWVyIGFzIGFwcHJvcHJpYXRlLgogICAgaWYgKGJ0YXJnZXRzRm91bmQgJiYgYldhaXRPbmNlICYmIHRpbWVDb250cm9sKSB7CiAgICAgICAgLy8tLS0gVGhlIG9ubHkgY29uZGl0aW9uIHdoZXJlIHdlIG5lZWQgdG8gY2xlYXIgdGhlIHRpbWVyLgogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZUNvbnRyb2wpOwogICAgICAgIGRlbGV0ZSBjb250cm9sT2JqW2NvbnRyb2xLZXldOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgLy8tLS0gU2V0IGEgdGltZXIsIGlmIG5lZWRlZC4KICAgICAgICBpZiAoIXRpbWVDb250cm9sKSB7CiAgICAgICAgICAgIHRpbWVDb250cm9sID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgd2FpdEZvcktleUVsZW1lbnRzKHNlbGVjdG9yVHh0LAogICAgICAgICAgICAgICAgYWN0aW9uRnVuY3Rpb24sCiAgICAgICAgICAgICAgICBiV2FpdE9uY2UsCiAgICAgICAgICAgICAgICBpZnJhbWVTZWxlY3RvcgogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgMzAwCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIGNvbnRyb2xPYmpbY29udHJvbEtleV0gPSB0aW1lQ29udHJvbDsKICAgICAgICB9CiAgICB9CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMuY29udHJvbE9iaiA9IGNvbnRyb2xPYmo7Cn0="},{"meta":{"name":"Bunpro:%20Helpful%20Events.js","url":"https://greasyfork.org/scripts/370623-bunpro-helpful-events/code/Bunpro:%20Helpful%20Events.js?version=615700","ts":1598996893054,"mimetype":"text/javascript"},"source":"KGZ1bmN0aW9uKCkgewogICAgLy8gQWRkIGEgY3VzdG9tIGV2ZW50IGZvciB3aGVuIEJQIGNyZWF0ZXMgYSBuZXcgYm9keQogICAgdmFyIG5ld0JvZHkgPSBuZXcgRXZlbnQoJ25ldy1ib2R5Jyk7CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMoJ2JvZHkgPiBoZWFkZXInLCBmdW5jdGlvbihlKSB7ZmlyZUV2ZW50KG5ld0JvZHkpO30pOwogICAgCiAgICAvLyBBZGQgYSBjdXN0b20gZXZlbnQgZm9yIHdoZW4geW91IGdldCBhIG5ldyBpdGVtIGluIHJldmlld3MKICAgIHZhciBuZXdSZXZpZXdJdGVtID0gbmV3IEV2ZW50KCduZXctcmV2aWV3LWl0ZW0nKTsKICAgIHdhaXRGb3JLZXlFbGVtZW50cygnLmxldmVsX2xlc3Nvbl9pbmZvIGEnLCBmdW5jdGlvbihlKSB7ZmlyZUV2ZW50KG5ld1Jldmlld0l0ZW0pO30pOwogICAgCiAgICAvLyBBZGQgYSBjdXN0b20gZXZlbnQgd2hlbiB5b3UgZ28gdG8gc3R1ZHkgb3IgY3JhbSBwYWdlCiAgICB2YXIgcXVpelBhZ2UgPSBuZXcgRXZlbnQoJ3F1aXotcGFnZScpOwogICAgd2FpdEZvcktleUVsZW1lbnRzKCcjc2hvdy1ncmFtbWFyJywgZnVuY3Rpb24oZSkge2ZpcmVFdmVudChxdWl6UGFnZSk7fSk7CiAgICAKICAgIC8vIEFkZCBhIGN1c3RvbSBldmVudCB3aGVuIHlvdSBnbyB0byBzdHVkeSBwYWdlCiAgICB2YXIgc3R1ZHlQYWdlID0gbmV3IEV2ZW50KCdzdHVkeS1wYWdlJyk7CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMoJyNzdHVkeS1wYWdlICNzaG93LWdyYW1tYXInLCBmdW5jdGlvbihlKSB7ZmlyZUV2ZW50KHN0dWR5UGFnZSk7fSk7CiAgICAKICAgIC8vIEFkZCBhIGN1c3RvbSBldmVudCB3aGVuIHlvdSBnbyB0byBjcmFtIHBhZ2UKICAgIHZhciBjcmFtUGFnZSA9IG5ldyBFdmVudCgnY3JhbS1wYWdlJyk7CiAgICB3YWl0Rm9yS2V5RWxlbWVudHMoJyNjcmFtLXBhZ2UgI3Nob3ctZ3JhbW1hcicsIGZ1bmN0aW9uKGUpIHtmaXJlRXZlbnQoY3JhbVBhZ2UpO30pOwogICAgCiAgICAvLyBGaXJlcyB0aGUgZ2l2ZW4gZXZlbnQgb24gdGhlIEhUTUwgZWxlbWVudAogICAgZnVuY3Rpb24gZmlyZUV2ZW50KGV2ZW50KSB7CiAgICAJCXZhciByZXRyeUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gImNvbXBsZXRlIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ0hUTUwnKVswXS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHJldHJ5SW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgfQp9KSgpOw=="}]}]}